require.config({
    config: {
        'jsbuild':{"jquery.js":"/*!\r\n * jQuery JavaScript Library v1.12.4\r\n * http://jquery.com/\r\n *\r\n * Includes Sizzle.js\r\n * http://sizzlejs.com/\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license\r\n * http://jquery.org/license\r\n *\r\n * Date: 2016-05-20T17:17Z\r\n */\r\n\r\n(function( global, factory ) {\r\n\r\n\tif ( typeof module === \"object\" && typeof module.exports === \"object\" ) {\r\n\t\t// For CommonJS and CommonJS-like environments where a proper `window`\r\n\t\t// is present, execute the factory and get jQuery.\r\n\t\t// For environments that do not have a `window` with a `document`\r\n\t\t// (such as Node.js), expose a factory as module.exports.\r\n\t\t// This accentuates the need for the creation of a real `window`.\r\n\t\t// e.g. var jQuery = require(\"jquery\")(window);\r\n\t\t// See ticket #14549 for more info.\r\n\t\tmodule.exports = global.document ?\r\n\t\t\tfactory( global, true ) :\r\n\t\t\tfunction( w ) {\r\n\t\t\t\tif ( !w.document ) {\r\n\t\t\t\t\tthrow new Error( \"jQuery requires a window with a document\" );\r\n\t\t\t\t}\r\n\t\t\t\treturn factory( w );\r\n\t\t\t};\r\n\t} else {\r\n\t\tfactory( global );\r\n\t}\r\n\r\n// Pass this if window is not defined yet\r\n}(typeof window !== \"undefined\" ? window : this, function( window, noGlobal ) {\r\n\r\n// Support: Firefox 18+\r\n// Can't be in strict mode, several libs including ASP.NET trace\r\n// the stack via arguments.caller.callee and Firefox dies if\r\n// you try to trace through \"use strict\" call chains. (#13335)\r\n//\"use strict\";\r\n\tvar deletedIds = [];\r\n\r\n\tvar document = window.document;\r\n\r\n\tvar slice = deletedIds.slice;\r\n\r\n\tvar concat = deletedIds.concat;\r\n\r\n\tvar push = deletedIds.push;\r\n\r\n\tvar indexOf = deletedIds.indexOf;\r\n\r\n\tvar class2type = {};\r\n\r\n\tvar toString = class2type.toString;\r\n\r\n\tvar hasOwn = class2type.hasOwnProperty;\r\n\r\n\tvar support = {};\r\n\r\n\r\n\r\n\tvar\r\n\t\tversion = \"1.12.4\",\r\n\r\n\t\t// Define a local copy of jQuery\r\n\t\tjQuery = function( selector, context ) {\r\n\r\n\t\t\t// The jQuery object is actually just the init constructor 'enhanced'\r\n\t\t\t// Need init if jQuery is called (just allow error to be thrown if not included)\r\n\t\t\treturn new jQuery.fn.init( selector, context );\r\n\t\t},\r\n\r\n\t\t// Support: Android<4.1, IE<9\r\n\t\t// Make sure we trim BOM and NBSP\r\n\t\trtrim = /^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\r\n\r\n\t\t// Matches dashed string for camelizing\r\n\t\trmsPrefix = /^-ms-/,\r\n\t\trdashAlpha = /-([\\da-z])/gi,\r\n\r\n\t\t// Used by jQuery.camelCase as callback to replace()\r\n\t\tfcamelCase = function( all, letter ) {\r\n\t\t\treturn letter.toUpperCase();\r\n\t\t};\r\n\r\n\tjQuery.fn = jQuery.prototype = {\r\n\r\n\t\t// The current version of jQuery being used\r\n\t\tjquery: version,\r\n\r\n\t\tconstructor: jQuery,\r\n\r\n\t\t// Start with an empty selector\r\n\t\tselector: \"\",\r\n\r\n\t\t// The default length of a jQuery object is 0\r\n\t\tlength: 0,\r\n\r\n\t\ttoArray: function() {\r\n\t\t\treturn slice.call( this );\r\n\t\t},\r\n\r\n\t\t// Get the Nth element in the matched element set OR\r\n\t\t// Get the whole matched element set as a clean array\r\n\t\tget: function( num ) {\r\n\t\t\treturn num != null ?\r\n\r\n\t\t\t\t// Return just the one element from the set\r\n\t\t\t\t( num < 0 ? this[ num + this.length ] : this[ num ] ) :\r\n\r\n\t\t\t\t// Return all the elements in a clean array\r\n\t\t\t\tslice.call( this );\r\n\t\t},\r\n\r\n\t\t// Take an array of elements and push it onto the stack\r\n\t\t// (returning the new matched element set)\r\n\t\tpushStack: function( elems ) {\r\n\r\n\t\t\t// Build a new jQuery matched element set\r\n\t\t\tvar ret = jQuery.merge( this.constructor(), elems );\r\n\r\n\t\t\t// Add the old object onto the stack (as a reference)\r\n\t\t\tret.prevObject = this;\r\n\t\t\tret.context = this.context;\r\n\r\n\t\t\t// Return the newly-formed element set\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\t// Execute a callback for every element in the matched set.\r\n\t\teach: function( callback ) {\r\n\t\t\treturn jQuery.each( this, callback );\r\n\t\t},\r\n\r\n\t\tmap: function( callback ) {\r\n\t\t\treturn this.pushStack( jQuery.map( this, function( elem, i ) {\r\n\t\t\t\treturn callback.call( elem, i, elem );\r\n\t\t\t} ) );\r\n\t\t},\r\n\r\n\t\tslice: function() {\r\n\t\t\treturn this.pushStack( slice.apply( this, arguments ) );\r\n\t\t},\r\n\r\n\t\tfirst: function() {\r\n\t\t\treturn this.eq( 0 );\r\n\t\t},\r\n\r\n\t\tlast: function() {\r\n\t\t\treturn this.eq( -1 );\r\n\t\t},\r\n\r\n\t\teq: function( i ) {\r\n\t\t\tvar len = this.length,\r\n\t\t\t\tj = +i + ( i < 0 ? len : 0 );\r\n\t\t\treturn this.pushStack( j >= 0 && j < len ? [ this[ j ] ] : [] );\r\n\t\t},\r\n\r\n\t\tend: function() {\r\n\t\t\treturn this.prevObject || this.constructor();\r\n\t\t},\r\n\r\n\t\t// For internal use only.\r\n\t\t// Behaves like an Array's method, not like a jQuery method.\r\n\t\tpush: push,\r\n\t\tsort: deletedIds.sort,\r\n\t\tsplice: deletedIds.splice\r\n\t};\r\n\r\n\tjQuery.extend = jQuery.fn.extend = function() {\r\n\t\tvar src, copyIsArray, copy, name, options, clone,\r\n\t\t\ttarget = arguments[ 0 ] || {},\r\n\t\t\ti = 1,\r\n\t\t\tlength = arguments.length,\r\n\t\t\tdeep = false;\r\n\r\n\t\t// Handle a deep copy situation\r\n\t\tif ( typeof target === \"boolean\" ) {\r\n\t\t\tdeep = target;\r\n\r\n\t\t\t// skip the boolean and the target\r\n\t\t\ttarget = arguments[ i ] || {};\r\n\t\t\ti++;\r\n\t\t}\r\n\r\n\t\t// Handle case when target is a string or something (possible in deep copy)\r\n\t\tif ( typeof target !== \"object\" && !jQuery.isFunction( target ) ) {\r\n\t\t\ttarget = {};\r\n\t\t}\r\n\r\n\t\t// extend jQuery itself if only one argument is passed\r\n\t\tif ( i === length ) {\r\n\t\t\ttarget = this;\r\n\t\t\ti--;\r\n\t\t}\r\n\r\n\t\tfor ( ; i < length; i++ ) {\r\n\r\n\t\t\t// Only deal with non-null/undefined values\r\n\t\t\tif ( ( options = arguments[ i ] ) != null ) {\r\n\r\n\t\t\t\t// Extend the base object\r\n\t\t\t\tfor ( name in options ) {\r\n\t\t\t\t\tsrc = target[ name ];\r\n\t\t\t\t\tcopy = options[ name ];\r\n\r\n\t\t\t\t\t// Prevent never-ending loop\r\n\t\t\t\t\tif ( target === copy ) {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Recurse if we're merging plain objects or arrays\r\n\t\t\t\t\tif ( deep && copy && ( jQuery.isPlainObject( copy ) ||\r\n\t\t\t\t\t\t( copyIsArray = jQuery.isArray( copy ) ) ) ) {\r\n\r\n\t\t\t\t\t\tif ( copyIsArray ) {\r\n\t\t\t\t\t\t\tcopyIsArray = false;\r\n\t\t\t\t\t\t\tclone = src && jQuery.isArray( src ) ? src : [];\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tclone = src && jQuery.isPlainObject( src ) ? src : {};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Never move original objects, clone them\r\n\t\t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\r\n\r\n\t\t\t\t\t\t// Don't bring in undefined values\r\n\t\t\t\t\t} else if ( copy !== undefined ) {\r\n\t\t\t\t\t\ttarget[ name ] = copy;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Return the modified object\r\n\t\treturn target;\r\n\t};\r\n\r\n\tjQuery.extend( {\r\n\r\n\t\t// Unique for each copy of jQuery on the page\r\n\t\texpando: \"jQuery\" + ( version + Math.random() ).replace( /\\D/g, \"\" ),\r\n\r\n\t\t// Assume jQuery is ready without the ready module\r\n\t\tisReady: true,\r\n\r\n\t\terror: function( msg ) {\r\n\t\t\tthrow new Error( msg );\r\n\t\t},\r\n\r\n\t\tnoop: function() {},\r\n\r\n\t\t// See test/unit/core.js for details concerning isFunction.\r\n\t\t// Since version 1.3, DOM methods and functions like alert\r\n\t\t// aren't supported. They return false on IE (#2968).\r\n\t\tisFunction: function( obj ) {\r\n\t\t\treturn jQuery.type( obj ) === \"function\";\r\n\t\t},\r\n\r\n\t\tisArray: Array.isArray || function( obj ) {\r\n\t\t\treturn jQuery.type( obj ) === \"array\";\r\n\t\t},\r\n\r\n\t\tisWindow: function( obj ) {\r\n\t\t\t/* jshint eqeqeq: false */\r\n\t\t\treturn obj != null && obj == obj.window;\r\n\t\t},\r\n\r\n\t\tisNumeric: function( obj ) {\r\n\r\n\t\t\t// parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\r\n\t\t\t// ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\r\n\t\t\t// subtraction forces infinities to NaN\r\n\t\t\t// adding 1 corrects loss of precision from parseFloat (#15100)\r\n\t\t\tvar realStringObj = obj && obj.toString();\r\n\t\t\treturn !jQuery.isArray( obj ) && ( realStringObj - parseFloat( realStringObj ) + 1 ) >= 0;\r\n\t\t},\r\n\r\n\t\tisEmptyObject: function( obj ) {\r\n\t\t\tvar name;\r\n\t\t\tfor ( name in obj ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\treturn true;\r\n\t\t},\r\n\r\n\t\tisPlainObject: function( obj ) {\r\n\t\t\tvar key;\r\n\r\n\t\t\t// Must be an Object.\r\n\t\t\t// Because of IE, we also have to check the presence of the constructor property.\r\n\t\t\t// Make sure that DOM nodes and window objects don't pass through, as well\r\n\t\t\tif ( !obj || jQuery.type( obj ) !== \"object\" || obj.nodeType || jQuery.isWindow( obj ) ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\r\n\t\t\t\t// Not own constructor property must be Object\r\n\t\t\t\tif ( obj.constructor &&\r\n\t\t\t\t\t!hasOwn.call( obj, \"constructor\" ) &&\r\n\t\t\t\t\t!hasOwn.call( obj.constructor.prototype, \"isPrototypeOf\" ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t// IE8,9 Will throw exceptions on certain host objects #9897\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// Handle iteration over inherited properties before own properties.\r\n\t\t\tif ( !support.ownFirst ) {\r\n\t\t\t\tfor ( key in obj ) {\r\n\t\t\t\t\treturn hasOwn.call( obj, key );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Own properties are enumerated firstly, so to speed up,\r\n\t\t\t// if last one is own, then all properties are own.\r\n\t\t\tfor ( key in obj ) {}\r\n\r\n\t\t\treturn key === undefined || hasOwn.call( obj, key );\r\n\t\t},\r\n\r\n\t\ttype: function( obj ) {\r\n\t\t\tif ( obj == null ) {\r\n\t\t\t\treturn obj + \"\";\r\n\t\t\t}\r\n\t\t\treturn typeof obj === \"object\" || typeof obj === \"function\" ?\r\n\t\t\tclass2type[ toString.call( obj ) ] || \"object\" :\r\n\t\t\t\ttypeof obj;\r\n\t\t},\r\n\r\n\t\t// Workarounds based on findings by Jim Driscoll\r\n\t\t// http://weblogs.java.net/blog/driscoll/archive/2009/09/08/eval-javascript-global-context\r\n\t\tglobalEval: function( data ) {\r\n\t\t\tif ( data && jQuery.trim( data ) ) {\r\n\r\n\t\t\t\t// We use execScript on Internet Explorer\r\n\t\t\t\t// We use an anonymous function so that context is window\r\n\t\t\t\t// rather than jQuery in Firefox\r\n\t\t\t\t( window.execScript || function( data ) {\r\n\t\t\t\t\twindow[ \"eval\" ].call( window, data ); // jscs:ignore requireDotNotation\r\n\t\t\t\t} )( data );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Convert dashed to camelCase; used by the css and data modules\r\n\t\t// Microsoft forgot to hump their vendor prefix (#9572)\r\n\t\tcamelCase: function( string ) {\r\n\t\t\treturn string.replace( rmsPrefix, \"ms-\" ).replace( rdashAlpha, fcamelCase );\r\n\t\t},\r\n\r\n\t\tnodeName: function( elem, name ) {\r\n\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();\r\n\t\t},\r\n\r\n\t\teach: function( obj, callback ) {\r\n\t\t\tvar length, i = 0;\r\n\r\n\t\t\tif ( isArrayLike( obj ) ) {\r\n\t\t\t\tlength = obj.length;\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in obj ) {\r\n\t\t\t\t\tif ( callback.call( obj[ i ], i, obj[ i ] ) === false ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn obj;\r\n\t\t},\r\n\r\n\t\t// Support: Android<4.1, IE<9\r\n\t\ttrim: function( text ) {\r\n\t\t\treturn text == null ?\r\n\t\t\t\t\"\" :\r\n\t\t\t\t( text + \"\" ).replace( rtrim, \"\" );\r\n\t\t},\r\n\r\n\t\t// results is for internal usage only\r\n\t\tmakeArray: function( arr, results ) {\r\n\t\t\tvar ret = results || [];\r\n\r\n\t\t\tif ( arr != null ) {\r\n\t\t\t\tif ( isArrayLike( Object( arr ) ) ) {\r\n\t\t\t\t\tjQuery.merge( ret,\r\n\t\t\t\t\t\ttypeof arr === \"string\" ?\r\n\t\t\t\t\t\t\t[ arr ] : arr\r\n\t\t\t\t\t);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tpush.call( ret, arr );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn ret;\r\n\t\t},\r\n\r\n\t\tinArray: function( elem, arr, i ) {\r\n\t\t\tvar len;\r\n\r\n\t\t\tif ( arr ) {\r\n\t\t\t\tif ( indexOf ) {\r\n\t\t\t\t\treturn indexOf.call( arr, elem, i );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlen = arr.length;\r\n\t\t\t\ti = i ? i < 0 ? Math.max( 0, len + i ) : i : 0;\r\n\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\r\n\t\t\t\t\t// Skip accessing in sparse arrays\r\n\t\t\t\t\tif ( i in arr && arr[ i ] === elem ) {\r\n\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn -1;\r\n\t\t},\r\n\r\n\t\tmerge: function( first, second ) {\r\n\t\t\tvar len = +second.length,\r\n\t\t\t\tj = 0,\r\n\t\t\t\ti = first.length;\r\n\r\n\t\t\twhile ( j < len ) {\r\n\t\t\t\tfirst[ i++ ] = second[ j++ ];\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// Workaround casting of .length to NaN on otherwise arraylike objects (e.g., NodeLists)\r\n\t\t\tif ( len !== len ) {\r\n\t\t\t\twhile ( second[ j ] !== undefined ) {\r\n\t\t\t\t\tfirst[ i++ ] = second[ j++ ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tfirst.length = i;\r\n\r\n\t\t\treturn first;\r\n\t\t},\r\n\r\n\t\tgrep: function( elems, callback, invert ) {\r\n\t\t\tvar callbackInverse,\r\n\t\t\t\tmatches = [],\r\n\t\t\t\ti = 0,\r\n\t\t\t\tlength = elems.length,\r\n\t\t\t\tcallbackExpect = !invert;\r\n\r\n\t\t\t// Go through the array, only saving the items\r\n\t\t\t// that pass the validator function\r\n\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\tcallbackInverse = !callback( elems[ i ], i );\r\n\t\t\t\tif ( callbackInverse !== callbackExpect ) {\r\n\t\t\t\t\tmatches.push( elems[ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn matches;\r\n\t\t},\r\n\r\n\t\t// arg is for internal usage only\r\n\t\tmap: function( elems, callback, arg ) {\r\n\t\t\tvar length, value,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tret = [];\r\n\r\n\t\t\t// Go through the array, translating each of the items to their new values\r\n\t\t\tif ( isArrayLike( elems ) ) {\r\n\t\t\t\tlength = elems.length;\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\t\tret.push( value );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Go through every key on the object,\r\n\t\t\t} else {\r\n\t\t\t\tfor ( i in elems ) {\r\n\t\t\t\t\tvalue = callback( elems[ i ], i, arg );\r\n\r\n\t\t\t\t\tif ( value != null ) {\r\n\t\t\t\t\t\tret.push( value );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Flatten any nested arrays\r\n\t\t\treturn concat.apply( [], ret );\r\n\t\t},\r\n\r\n\t\t// A global GUID counter for objects\r\n\t\tguid: 1,\r\n\r\n\t\t// Bind a function to a context, optionally partially applying any\r\n\t\t// arguments.\r\n\t\tproxy: function( fn, context ) {\r\n\t\t\tvar args, proxy, tmp;\r\n\r\n\t\t\tif ( typeof context === \"string\" ) {\r\n\t\t\t\ttmp = fn[ context ];\r\n\t\t\t\tcontext = fn;\r\n\t\t\t\tfn = tmp;\r\n\t\t\t}\r\n\r\n\t\t\t// Quick check to determine if target is callable, in the spec\r\n\t\t\t// this throws a TypeError, but we will just return undefined.\r\n\t\t\tif ( !jQuery.isFunction( fn ) ) {\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// Simulated bind\r\n\t\t\targs = slice.call( arguments, 2 );\r\n\t\t\tproxy = function() {\r\n\t\t\t\treturn fn.apply( context || this, args.concat( slice.call( arguments ) ) );\r\n\t\t\t};\r\n\r\n\t\t\t// Set the guid of unique handler to the same of original handler, so it can be removed\r\n\t\t\tproxy.guid = fn.guid = fn.guid || jQuery.guid++;\r\n\r\n\t\t\treturn proxy;\r\n\t\t},\r\n\r\n\t\tnow: function() {\r\n\t\t\treturn +( new Date() );\r\n\t\t},\r\n\r\n\t\t// jQuery.support is not used in Core but other projects attach their\r\n\t\t// properties to it so it needs to exist.\r\n\t\tsupport: support\r\n\t} );\r\n\r\n// JSHint would error on this code due to the Symbol not being defined in ES5.\r\n// Defining this global in .jshintrc would create a danger of using the global\r\n// unguarded in another place, it seems safer to just disable JSHint for these\r\n// three lines.\r\n\t/* jshint ignore: start */\r\n\tif ( typeof Symbol === \"function\" ) {\r\n\t\tjQuery.fn[ Symbol.iterator ] = deletedIds[ Symbol.iterator ];\r\n\t}\r\n\t/* jshint ignore: end */\r\n\r\n// Populate the class2type map\r\n\tjQuery.each( \"Boolean Number String Function Array Date RegExp Object Error Symbol\".split( \" \" ),\r\n\t\tfunction( i, name ) {\r\n\t\t\tclass2type[ \"[object \" + name + \"]\" ] = name.toLowerCase();\r\n\t\t} );\r\n\r\n\tfunction isArrayLike( obj ) {\r\n\r\n\t\t// Support: iOS 8.2 (not reproducible in simulator)\r\n\t\t// `in` check used to prevent JIT error (gh-2145)\r\n\t\t// hasOwn isn't used here due to false negatives\r\n\t\t// regarding Nodelist length in IE\r\n\t\tvar length = !!obj && \"length\" in obj && obj.length,\r\n\t\t\ttype = jQuery.type( obj );\r\n\r\n\t\tif ( type === \"function\" || jQuery.isWindow( obj ) ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn type === \"array\" || length === 0 ||\r\n\t\t\ttypeof length === \"number\" && length > 0 && ( length - 1 ) in obj;\r\n\t}\r\n\tvar Sizzle =\r\n\t\t/*!\r\n\t\t * Sizzle CSS Selector Engine v2.2.1\r\n\t\t * http://sizzlejs.com/\r\n\t\t *\r\n\t\t * Copyright jQuery Foundation and other contributors\r\n\t\t * Released under the MIT license\r\n\t\t * http://jquery.org/license\r\n\t\t *\r\n\t\t * Date: 2015-10-17\r\n\t\t */\r\n\t\t(function( window ) {\r\n\r\n\t\t\tvar i,\r\n\t\t\t\tsupport,\r\n\t\t\t\tExpr,\r\n\t\t\t\tgetText,\r\n\t\t\t\tisXML,\r\n\t\t\t\ttokenize,\r\n\t\t\t\tcompile,\r\n\t\t\t\tselect,\r\n\t\t\t\toutermostContext,\r\n\t\t\t\tsortInput,\r\n\t\t\t\thasDuplicate,\r\n\r\n\t\t\t\t// Local document vars\r\n\t\t\t\tsetDocument,\r\n\t\t\t\tdocument,\r\n\t\t\t\tdocElem,\r\n\t\t\t\tdocumentIsHTML,\r\n\t\t\t\trbuggyQSA,\r\n\t\t\t\trbuggyMatches,\r\n\t\t\t\tmatches,\r\n\t\t\t\tcontains,\r\n\r\n\t\t\t\t// Instance-specific data\r\n\t\t\t\texpando = \"sizzle\" + 1 * new Date(),\r\n\t\t\t\tpreferredDoc = window.document,\r\n\t\t\t\tdirruns = 0,\r\n\t\t\t\tdone = 0,\r\n\t\t\t\tclassCache = createCache(),\r\n\t\t\t\ttokenCache = createCache(),\r\n\t\t\t\tcompilerCache = createCache(),\r\n\t\t\t\tsortOrder = function( a, b ) {\r\n\t\t\t\t\tif ( a === b ) {\r\n\t\t\t\t\t\thasDuplicate = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn 0;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// General-purpose constants\r\n\t\t\t\tMAX_NEGATIVE = 1 << 31,\r\n\r\n\t\t\t\t// Instance methods\r\n\t\t\t\thasOwn = ({}).hasOwnProperty,\r\n\t\t\t\tarr = [],\r\n\t\t\t\tpop = arr.pop,\r\n\t\t\t\tpush_native = arr.push,\r\n\t\t\t\tpush = arr.push,\r\n\t\t\t\tslice = arr.slice,\r\n\t\t\t\t// Use a stripped-down indexOf as it's faster than native\r\n\t\t\t\t// http://jsperf.com/thor-indexof-vs-for/5\r\n\t\t\t\tindexOf = function( list, elem ) {\r\n\t\t\t\t\tvar i = 0,\r\n\t\t\t\t\t\tlen = list.length;\r\n\t\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\t\tif ( list[i] === elem ) {\r\n\t\t\t\t\t\t\treturn i;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn -1;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tbooleans = \"checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped\",\r\n\r\n\t\t\t\t// Regular expressions\r\n\r\n\t\t\t\t// http://www.w3.org/TR/css3-selectors/#whitespace\r\n\t\t\t\twhitespace = \"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",\r\n\r\n\t\t\t\t// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier\r\n\t\t\t\tidentifier = \"(?:\\\\\\\\.|[\\\\w-]|[^\\\\x00-\\\\xa0])+\",\r\n\r\n\t\t\t\t// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors\r\n\t\t\t\tattributes = \"\\\\[\" + whitespace + \"*(\" + identifier + \")(?:\" + whitespace +\r\n\t\t\t\t\t// Operator (capture 2)\r\n\t\t\t\t\t\"*([*^$|!~]?=)\" + whitespace +\r\n\t\t\t\t\t// \"Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]\"\r\n\t\t\t\t\t\"*(?:'((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\"|(\" + identifier + \"))|)\" + whitespace +\r\n\t\t\t\t\t\"*\\\\]\",\r\n\r\n\t\t\t\tpseudos = \":(\" + identifier + \")(?:\\\\((\" +\r\n\t\t\t\t\t// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:\r\n\t\t\t\t\t// 1. quoted (capture 3; capture 4 or capture 5)\r\n\t\t\t\t\t\"('((?:\\\\\\\\.|[^\\\\\\\\'])*)'|\\\"((?:\\\\\\\\.|[^\\\\\\\\\\\"])*)\\\")|\" +\r\n\t\t\t\t\t// 2. simple (capture 6)\r\n\t\t\t\t\t\"((?:\\\\\\\\.|[^\\\\\\\\()[\\\\]]|\" + attributes + \")*)|\" +\r\n\t\t\t\t\t// 3. anything else (capture 2)\r\n\t\t\t\t\t\".*\" +\r\n\t\t\t\t\t\")\\\\)|)\",\r\n\r\n\t\t\t\t// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter\r\n\t\t\t\trwhitespace = new RegExp( whitespace + \"+\", \"g\" ),\r\n\t\t\t\trtrim = new RegExp( \"^\" + whitespace + \"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\" + whitespace + \"+$\", \"g\" ),\r\n\r\n\t\t\t\trcomma = new RegExp( \"^\" + whitespace + \"*,\" + whitespace + \"*\" ),\r\n\t\t\t\trcombinators = new RegExp( \"^\" + whitespace + \"*([>+~]|\" + whitespace + \")\" + whitespace + \"*\" ),\r\n\r\n\t\t\t\trattributeQuotes = new RegExp( \"=\" + whitespace + \"*([^\\\\]'\\\"]*?)\" + whitespace + \"*\\\\]\", \"g\" ),\r\n\r\n\t\t\t\trpseudo = new RegExp( pseudos ),\r\n\t\t\t\tridentifier = new RegExp( \"^\" + identifier + \"$\" ),\r\n\r\n\t\t\t\tmatchExpr = {\r\n\t\t\t\t\t\"ID\": new RegExp( \"^#(\" + identifier + \")\" ),\r\n\t\t\t\t\t\"CLASS\": new RegExp( \"^\\\\.(\" + identifier + \")\" ),\r\n\t\t\t\t\t\"TAG\": new RegExp( \"^(\" + identifier + \"|[*])\" ),\r\n\t\t\t\t\t\"ATTR\": new RegExp( \"^\" + attributes ),\r\n\t\t\t\t\t\"PSEUDO\": new RegExp( \"^\" + pseudos ),\r\n\t\t\t\t\t\"CHILD\": new RegExp( \"^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\\\(\" + whitespace +\r\n\t\t\t\t\t\t\"*(even|odd|(([+-]|)(\\\\d*)n|)\" + whitespace + \"*(?:([+-]|)\" + whitespace +\r\n\t\t\t\t\t\t\"*(\\\\d+)|))\" + whitespace + \"*\\\\)|)\", \"i\" ),\r\n\t\t\t\t\t\"bool\": new RegExp( \"^(?:\" + booleans + \")$\", \"i\" ),\r\n\t\t\t\t\t// For use in libraries implementing .is()\r\n\t\t\t\t\t// We use this for POS matching in `select`\r\n\t\t\t\t\t\"needsContext\": new RegExp( \"^\" + whitespace + \"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\" +\r\n\t\t\t\t\t\twhitespace + \"*((?:-\\\\d)?\\\\d*)\" + whitespace + \"*\\\\)|)(?=[^-]|$)\", \"i\" )\r\n\t\t\t\t},\r\n\r\n\t\t\t\trinputs = /^(?:input|select|textarea|button)$/i,\r\n\t\t\t\trheader = /^h\\d$/i,\r\n\r\n\t\t\t\trnative = /^[^{]+\\{\\s*\\[native \\w/,\r\n\r\n\t\t\t\t// Easily-parseable/retrievable ID or TAG or CLASS selectors\r\n\t\t\t\trquickExpr = /^(?:#([\\w-]+)|(\\w+)|\\.([\\w-]+))$/,\r\n\r\n\t\t\t\trsibling = /[+~]/,\r\n\t\t\t\trescape = /'|\\\\/g,\r\n\r\n\t\t\t\t// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters\r\n\t\t\t\trunescape = new RegExp( \"\\\\\\\\([\\\\da-f]{1,6}\" + whitespace + \"?|(\" + whitespace + \")|.)\", \"ig\" ),\r\n\t\t\t\tfunescape = function( _, escaped, escapedWhitespace ) {\r\n\t\t\t\t\tvar high = \"0x\" + escaped - 0x10000;\r\n\t\t\t\t\t// NaN means non-codepoint\r\n\t\t\t\t\t// Support: Firefox<24\r\n\t\t\t\t\t// Workaround erroneous numeric interpretation of +\"0x\"\r\n\t\t\t\t\treturn high !== high || escapedWhitespace ?\r\n\t\t\t\t\t\tescaped :\r\n\t\t\t\t\t\thigh < 0 ?\r\n\t\t\t\t\t\t\t// BMP codepoint\r\n\t\t\t\t\t\t\tString.fromCharCode( high + 0x10000 ) :\r\n\t\t\t\t\t\t\t// Supplemental Plane codepoint (surrogate pair)\r\n\t\t\t\t\t\t\tString.fromCharCode( high >> 10 | 0xD800, high & 0x3FF | 0xDC00 );\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Used for iframes\r\n\t\t\t\t// See setDocument()\r\n\t\t\t\t// Removing the function wrapper causes a \"Permission Denied\"\r\n\t\t\t\t// error in IE\r\n\t\t\t\tunloadHandler = function() {\r\n\t\t\t\t\tsetDocument();\r\n\t\t\t\t};\r\n\r\n// Optimize for push.apply( _, NodeList )\r\n\t\t\ttry {\r\n\t\t\t\tpush.apply(\r\n\t\t\t\t\t(arr = slice.call( preferredDoc.childNodes )),\r\n\t\t\t\t\tpreferredDoc.childNodes\r\n\t\t\t\t);\r\n\t\t\t\t// Support: Android<4.0\r\n\t\t\t\t// Detect silently failing push.apply\r\n\t\t\t\tarr[ preferredDoc.childNodes.length ].nodeType;\r\n\t\t\t} catch ( e ) {\r\n\t\t\t\tpush = { apply: arr.length ?\r\n\r\n\t\t\t\t\t// Leverage slice if possible\r\n\t\t\t\t\tfunction( target, els ) {\r\n\t\t\t\t\t\tpush_native.apply( target, slice.call(els) );\r\n\t\t\t\t\t} :\r\n\r\n\t\t\t\t\t// Support: IE<9\r\n\t\t\t\t\t// Otherwise append directly\r\n\t\t\t\t\tfunction( target, els ) {\r\n\t\t\t\t\t\tvar j = target.length,\r\n\t\t\t\t\t\t\ti = 0;\r\n\t\t\t\t\t\t// Can't trust NodeList.length\r\n\t\t\t\t\t\twhile ( (target[j++] = els[i++]) ) {}\r\n\t\t\t\t\t\ttarget.length = j - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction Sizzle( selector, context, results, seed ) {\r\n\t\t\t\tvar m, i, elem, nid, nidselect, match, groups, newSelector,\r\n\t\t\t\t\tnewContext = context && context.ownerDocument,\r\n\r\n\t\t\t\t\t// nodeType defaults to 9, since context defaults to document\r\n\t\t\t\t\tnodeType = context ? context.nodeType : 9;\r\n\r\n\t\t\t\tresults = results || [];\r\n\r\n\t\t\t\t// Return early from calls with invalid selector or context\r\n\t\t\t\tif ( typeof selector !== \"string\" || !selector ||\r\n\t\t\t\t\tnodeType !== 1 && nodeType !== 9 && nodeType !== 11 ) {\r\n\r\n\t\t\t\t\treturn results;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Try to shortcut find operations (as opposed to filters) in HTML documents\r\n\t\t\t\tif ( !seed ) {\r\n\r\n\t\t\t\t\tif ( ( context ? context.ownerDocument || context : preferredDoc ) !== document ) {\r\n\t\t\t\t\t\tsetDocument( context );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontext = context || document;\r\n\r\n\t\t\t\t\tif ( documentIsHTML ) {\r\n\r\n\t\t\t\t\t\t// If the selector is sufficiently simple, try using a \"get*By*\" DOM method\r\n\t\t\t\t\t\t// (excepting DocumentFragment context, where the methods don't exist)\r\n\t\t\t\t\t\tif ( nodeType !== 11 && (match = rquickExpr.exec( selector )) ) {\r\n\r\n\t\t\t\t\t\t\t// ID selector\r\n\t\t\t\t\t\t\tif ( (m = match[1]) ) {\r\n\r\n\t\t\t\t\t\t\t\t// Document context\r\n\t\t\t\t\t\t\t\tif ( nodeType === 9 ) {\r\n\t\t\t\t\t\t\t\t\tif ( (elem = context.getElementById( m )) ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\r\n\t\t\t\t\t\t\t\t\t\t// TODO: identify versions\r\n\t\t\t\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\r\n\t\t\t\t\t\t\t\t\t\tif ( elem.id === m ) {\r\n\t\t\t\t\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Element context\r\n\t\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t\t// Support: IE, Opera, Webkit\r\n\t\t\t\t\t\t\t\t\t// TODO: identify versions\r\n\t\t\t\t\t\t\t\t\t// getElementById can match elements by name instead of ID\r\n\t\t\t\t\t\t\t\t\tif ( newContext && (elem = newContext.getElementById( m )) &&\r\n\t\t\t\t\t\t\t\t\t\tcontains( context, elem ) &&\r\n\t\t\t\t\t\t\t\t\t\telem.id === m ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Type selector\r\n\t\t\t\t\t\t\t} else if ( match[2] ) {\r\n\t\t\t\t\t\t\t\tpush.apply( results, context.getElementsByTagName( selector ) );\r\n\t\t\t\t\t\t\t\treturn results;\r\n\r\n\t\t\t\t\t\t\t\t// Class selector\r\n\t\t\t\t\t\t\t} else if ( (m = match[3]) && support.getElementsByClassName &&\r\n\t\t\t\t\t\t\t\tcontext.getElementsByClassName ) {\r\n\r\n\t\t\t\t\t\t\t\tpush.apply( results, context.getElementsByClassName( m ) );\r\n\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Take advantage of querySelectorAll\r\n\t\t\t\t\t\tif ( support.qsa &&\r\n\t\t\t\t\t\t\t!compilerCache[ selector + \" \" ] &&\r\n\t\t\t\t\t\t\t(!rbuggyQSA || !rbuggyQSA.test( selector )) ) {\r\n\r\n\t\t\t\t\t\t\tif ( nodeType !== 1 ) {\r\n\t\t\t\t\t\t\t\tnewContext = context;\r\n\t\t\t\t\t\t\t\tnewSelector = selector;\r\n\r\n\t\t\t\t\t\t\t\t// qSA looks outside Element context, which is not what we want\r\n\t\t\t\t\t\t\t\t// Thanks to Andrew Dupont for this workaround technique\r\n\t\t\t\t\t\t\t\t// Support: IE <=8\r\n\t\t\t\t\t\t\t\t// Exclude object elements\r\n\t\t\t\t\t\t\t} else if ( context.nodeName.toLowerCase() !== \"object\" ) {\r\n\r\n\t\t\t\t\t\t\t\t// Capture the context ID, setting it first if necessary\r\n\t\t\t\t\t\t\t\tif ( (nid = context.getAttribute( \"id\" )) ) {\r\n\t\t\t\t\t\t\t\t\tnid = nid.replace( rescape, \"\\\\$&\" );\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tcontext.setAttribute( \"id\", (nid = expando) );\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Prefix every selector in the list\r\n\t\t\t\t\t\t\t\tgroups = tokenize( selector );\r\n\t\t\t\t\t\t\t\ti = groups.length;\r\n\t\t\t\t\t\t\t\tnidselect = ridentifier.test( nid ) ? \"#\" + nid : \"[id='\" + nid + \"']\";\r\n\t\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\t\tgroups[i] = nidselect + \" \" + toSelector( groups[i] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tnewSelector = groups.join( \",\" );\r\n\r\n\t\t\t\t\t\t\t\t// Expand context for sibling selectors\r\n\t\t\t\t\t\t\t\tnewContext = rsibling.test( selector ) && testContext( context.parentNode ) ||\r\n\t\t\t\t\t\t\t\t\tcontext;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( newSelector ) {\r\n\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\tpush.apply( results,\r\n\t\t\t\t\t\t\t\t\t\tnewContext.querySelectorAll( newSelector )\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t} catch ( qsaError ) {\r\n\t\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\t\tif ( nid === expando ) {\r\n\t\t\t\t\t\t\t\t\t\tcontext.removeAttribute( \"id\" );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// All others\r\n\t\t\t\treturn select( selector.replace( rtrim, \"$1\" ), context, results, seed );\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Create key-value caches of limited size\r\n\t\t\t * @returns {function(string, object)} Returns the Object data after storing it on itself with\r\n\t\t\t *\tproperty name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)\r\n\t\t\t *\tdeleting the oldest entry\r\n\t\t\t */\r\n\t\t\tfunction createCache() {\r\n\t\t\t\tvar keys = [];\r\n\r\n\t\t\t\tfunction cache( key, value ) {\r\n\t\t\t\t\t// Use (key + \" \") to avoid collision with native prototype properties (see Issue #157)\r\n\t\t\t\t\tif ( keys.push( key + \" \" ) > Expr.cacheLength ) {\r\n\t\t\t\t\t\t// Only keep the most recent entries\r\n\t\t\t\t\t\tdelete cache[ keys.shift() ];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn (cache[ key + \" \" ] = value);\r\n\t\t\t\t}\r\n\t\t\t\treturn cache;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Mark a function for special use by Sizzle\r\n\t\t\t * @param {Function} fn The function to mark\r\n\t\t\t */\r\n\t\t\tfunction markFunction( fn ) {\r\n\t\t\t\tfn[ expando ] = true;\r\n\t\t\t\treturn fn;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Support testing using an element\r\n\t\t\t * @param {Function} fn Passed the created div and expects a boolean result\r\n\t\t\t */\r\n\t\t\tfunction assert( fn ) {\r\n\t\t\t\tvar div = document.createElement(\"div\");\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn !!fn( div );\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} finally {\r\n\t\t\t\t\t// Remove from its parent by default\r\n\t\t\t\t\tif ( div.parentNode ) {\r\n\t\t\t\t\t\tdiv.parentNode.removeChild( div );\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// release memory in IE\r\n\t\t\t\t\tdiv = null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Adds the same handler for all of the specified attrs\r\n\t\t\t * @param {String} attrs Pipe-separated list of attributes\r\n\t\t\t * @param {Function} handler The method that will be applied\r\n\t\t\t */\r\n\t\t\tfunction addHandle( attrs, handler ) {\r\n\t\t\t\tvar arr = attrs.split(\"|\"),\r\n\t\t\t\t\ti = arr.length;\r\n\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tExpr.attrHandle[ arr[i] ] = handler;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Checks document order of two siblings\r\n\t\t\t * @param {Element} a\r\n\t\t\t * @param {Element} b\r\n\t\t\t * @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b\r\n\t\t\t */\r\n\t\t\tfunction siblingCheck( a, b ) {\r\n\t\t\t\tvar cur = b && a,\r\n\t\t\t\t\tdiff = cur && a.nodeType === 1 && b.nodeType === 1 &&\r\n\t\t\t\t\t\t( ~b.sourceIndex || MAX_NEGATIVE ) -\r\n\t\t\t\t\t\t( ~a.sourceIndex || MAX_NEGATIVE );\r\n\r\n\t\t\t\t// Use IE sourceIndex if available on both nodes\r\n\t\t\t\tif ( diff ) {\r\n\t\t\t\t\treturn diff;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Check if b follows a\r\n\t\t\t\tif ( cur ) {\r\n\t\t\t\t\twhile ( (cur = cur.nextSibling) ) {\r\n\t\t\t\t\t\tif ( cur === b ) {\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn a ? 1 : -1;\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Returns a function to use in pseudos for input types\r\n\t\t\t * @param {String} type\r\n\t\t\t */\r\n\t\t\tfunction createInputPseudo( type ) {\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\t\t\treturn name === \"input\" && elem.type === type;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Returns a function to use in pseudos for buttons\r\n\t\t\t * @param {String} type\r\n\t\t\t */\r\n\t\t\tfunction createButtonPseudo( type ) {\r\n\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\t\t\treturn (name === \"input\" || name === \"button\") && elem.type === type;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Returns a function to use in pseudos for positionals\r\n\t\t\t * @param {Function} fn\r\n\t\t\t */\r\n\t\t\tfunction createPositionalPseudo( fn ) {\r\n\t\t\t\treturn markFunction(function( argument ) {\r\n\t\t\t\t\targument = +argument;\r\n\t\t\t\t\treturn markFunction(function( seed, matches ) {\r\n\t\t\t\t\t\tvar j,\r\n\t\t\t\t\t\t\tmatchIndexes = fn( [], seed.length, argument ),\r\n\t\t\t\t\t\t\ti = matchIndexes.length;\r\n\r\n\t\t\t\t\t\t// Match elements found at the specified indexes\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tif ( seed[ (j = matchIndexes[i]) ] ) {\r\n\t\t\t\t\t\t\t\tseed[j] = !(matches[j] = seed[j]);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t/**\r\n\t\t\t * Checks a node for validity as a Sizzle context\r\n\t\t\t * @param {Element|Object=} context\r\n\t\t\t * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value\r\n\t\t\t */\r\n\t\t\tfunction testContext( context ) {\r\n\t\t\t\treturn context && typeof context.getElementsByTagName !== \"undefined\" && context;\r\n\t\t\t}\r\n\r\n// Expose support vars for convenience\r\n\t\t\tsupport = Sizzle.support = {};\r\n\r\n\t\t\t/**\r\n\t\t\t * Detects XML nodes\r\n\t\t\t * @param {Element|Object} elem An element or a document\r\n\t\t\t * @returns {Boolean} True iff elem is a non-HTML XML node\r\n\t\t\t */\r\n\t\t\tisXML = Sizzle.isXML = function( elem ) {\r\n\t\t\t\t// documentElement is verified for cases where it doesn't yet exist\r\n\t\t\t\t// (such as loading iframes in IE - #4833)\r\n\t\t\t\tvar documentElement = elem && (elem.ownerDocument || elem).documentElement;\r\n\t\t\t\treturn documentElement ? documentElement.nodeName !== \"HTML\" : false;\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * Sets document-related variables once based on the current document\r\n\t\t\t * @param {Element|Object} [doc] An element or document object to use to set the document\r\n\t\t\t * @returns {Object} Returns the current document\r\n\t\t\t */\r\n\t\t\tsetDocument = Sizzle.setDocument = function( node ) {\r\n\t\t\t\tvar hasCompare, parent,\r\n\t\t\t\t\tdoc = node ? node.ownerDocument || node : preferredDoc;\r\n\r\n\t\t\t\t// Return early if doc is invalid or already selected\r\n\t\t\t\tif ( doc === document || doc.nodeType !== 9 || !doc.documentElement ) {\r\n\t\t\t\t\treturn document;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Update global variables\r\n\t\t\t\tdocument = doc;\r\n\t\t\t\tdocElem = document.documentElement;\r\n\t\t\t\tdocumentIsHTML = !isXML( document );\r\n\r\n\t\t\t\t// Support: IE 9-11, Edge\r\n\t\t\t\t// Accessing iframe documents after unload throws \"permission denied\" errors (jQuery #13936)\r\n\t\t\t\tif ( (parent = document.defaultView) && parent.top !== parent ) {\r\n\t\t\t\t\t// Support: IE 11\r\n\t\t\t\t\tif ( parent.addEventListener ) {\r\n\t\t\t\t\t\tparent.addEventListener( \"unload\", unloadHandler, false );\r\n\r\n\t\t\t\t\t\t// Support: IE 9 - 10 only\r\n\t\t\t\t\t} else if ( parent.attachEvent ) {\r\n\t\t\t\t\t\tparent.attachEvent( \"onunload\", unloadHandler );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t/* Attributes\r\n\t\t\t\t ---------------------------------------------------------------------- */\r\n\r\n\t\t\t\t// Support: IE<8\r\n\t\t\t\t// Verify that getAttribute really returns attributes and not properties\r\n\t\t\t\t// (excepting IE8 booleans)\r\n\t\t\t\tsupport.attributes = assert(function( div ) {\r\n\t\t\t\t\tdiv.className = \"i\";\r\n\t\t\t\t\treturn !div.getAttribute(\"className\");\r\n\t\t\t\t});\r\n\r\n\t\t\t\t/* getElement(s)By*\r\n\t\t\t\t ---------------------------------------------------------------------- */\r\n\r\n\t\t\t\t// Check if getElementsByTagName(\"*\") returns only elements\r\n\t\t\t\tsupport.getElementsByTagName = assert(function( div ) {\r\n\t\t\t\t\tdiv.appendChild( document.createComment(\"\") );\r\n\t\t\t\t\treturn !div.getElementsByTagName(\"*\").length;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// Support: IE<9\r\n\t\t\t\tsupport.getElementsByClassName = rnative.test( document.getElementsByClassName );\r\n\r\n\t\t\t\t// Support: IE<10\r\n\t\t\t\t// Check if getElementById returns elements by name\r\n\t\t\t\t// The broken getElementById methods don't pick up programatically-set names,\r\n\t\t\t\t// so use a roundabout getElementsByName test\r\n\t\t\t\tsupport.getById = assert(function( div ) {\r\n\t\t\t\t\tdocElem.appendChild( div ).id = expando;\r\n\t\t\t\t\treturn !document.getElementsByName || !document.getElementsByName( expando ).length;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// ID find and filter\r\n\t\t\t\tif ( support.getById ) {\r\n\t\t\t\t\tExpr.find[\"ID\"] = function( id, context ) {\r\n\t\t\t\t\t\tif ( typeof context.getElementById !== \"undefined\" && documentIsHTML ) {\r\n\t\t\t\t\t\t\tvar m = context.getElementById( id );\r\n\t\t\t\t\t\t\treturn m ? [ m ] : [];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t\tExpr.filter[\"ID\"] = function( id ) {\r\n\t\t\t\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\treturn elem.getAttribute(\"id\") === attrId;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// Support: IE6/7\r\n\t\t\t\t\t// getElementById is not reliable as a find shortcut\r\n\t\t\t\t\tdelete Expr.find[\"ID\"];\r\n\r\n\t\t\t\t\tExpr.filter[\"ID\"] =  function( id ) {\r\n\t\t\t\t\t\tvar attrId = id.replace( runescape, funescape );\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\tvar node = typeof elem.getAttributeNode !== \"undefined\" &&\r\n\t\t\t\t\t\t\t\telem.getAttributeNode(\"id\");\r\n\t\t\t\t\t\t\treturn node && node.value === attrId;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Tag\r\n\t\t\t\tExpr.find[\"TAG\"] = support.getElementsByTagName ?\r\n\t\t\t\t\tfunction( tag, context ) {\r\n\t\t\t\t\t\tif ( typeof context.getElementsByTagName !== \"undefined\" ) {\r\n\t\t\t\t\t\t\treturn context.getElementsByTagName( tag );\r\n\r\n\t\t\t\t\t\t\t// DocumentFragment nodes don't have gEBTN\r\n\t\t\t\t\t\t} else if ( support.qsa ) {\r\n\t\t\t\t\t\t\treturn context.querySelectorAll( tag );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} :\r\n\r\n\t\t\t\t\tfunction( tag, context ) {\r\n\t\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\t\ttmp = [],\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\t// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too\r\n\t\t\t\t\t\t\tresults = context.getElementsByTagName( tag );\r\n\r\n\t\t\t\t\t\t// Filter out possible comments\r\n\t\t\t\t\t\tif ( tag === \"*\" ) {\r\n\t\t\t\t\t\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\t\ttmp.push( elem );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\treturn tmp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t// Class\r\n\t\t\t\tExpr.find[\"CLASS\"] = support.getElementsByClassName && function( className, context ) {\r\n\t\t\t\t\t\tif ( typeof context.getElementsByClassName !== \"undefined\" && documentIsHTML ) {\r\n\t\t\t\t\t\t\treturn context.getElementsByClassName( className );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/* QSA/matchesSelector\r\n\t\t\t\t ---------------------------------------------------------------------- */\r\n\r\n\t\t\t\t// QSA and matchesSelector support\r\n\r\n\t\t\t\t// matchesSelector(:active) reports false when true (IE9/Opera 11.5)\r\n\t\t\t\trbuggyMatches = [];\r\n\r\n\t\t\t\t// qSa(:focus) reports false when true (Chrome 21)\r\n\t\t\t\t// We allow this because of a bug in IE8/9 that throws an error\r\n\t\t\t\t// whenever `document.activeElement` is accessed on an iframe\r\n\t\t\t\t// So, we allow :focus to pass through QSA all the time to avoid the IE error\r\n\t\t\t\t// See http://bugs.jquery.com/ticket/13378\r\n\t\t\t\trbuggyQSA = [];\r\n\r\n\t\t\t\tif ( (support.qsa = rnative.test( document.querySelectorAll )) ) {\r\n\t\t\t\t\t// Build QSA regex\r\n\t\t\t\t\t// Regex strategy adopted from Diego Perini\r\n\t\t\t\t\tassert(function( div ) {\r\n\t\t\t\t\t\t// Select is set to empty string on purpose\r\n\t\t\t\t\t\t// This is to test IE's treatment of not explicitly\r\n\t\t\t\t\t\t// setting a boolean content attribute,\r\n\t\t\t\t\t\t// since its presence should be enough\r\n\t\t\t\t\t\t// http://bugs.jquery.com/ticket/12359\r\n\t\t\t\t\t\tdocElem.appendChild( div ).innerHTML = \"<a id='\" + expando + \"'></a>\" +\r\n\t\t\t\t\t\t\t\"<select id='\" + expando + \"-\\r\\\\' msallowcapture=''>\" +\r\n\t\t\t\t\t\t\t\"<option selected=''></option></select>\";\r\n\r\n\t\t\t\t\t\t// Support: IE8, Opera 11-12.16\r\n\t\t\t\t\t\t// Nothing should be selected when empty strings follow ^= or $= or *=\r\n\t\t\t\t\t\t// The test attribute must be unknown in Opera but \"safe\" for WinRT\r\n\t\t\t\t\t\t// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section\r\n\t\t\t\t\t\tif ( div.querySelectorAll(\"[msallowcapture^='']\").length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push( \"[*^$]=\" + whitespace + \"*(?:''|\\\"\\\")\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Support: IE8\r\n\t\t\t\t\t\t// Boolean attributes and \"value\" are not treated correctly\r\n\t\t\t\t\t\tif ( !div.querySelectorAll(\"[selected]\").length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push( \"\\\\[\" + whitespace + \"*(?:value|\" + booleans + \")\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Support: Chrome<29, Android<4.4, Safari<7.0+, iOS<7.0+, PhantomJS<1.9.8+\r\n\t\t\t\t\t\tif ( !div.querySelectorAll( \"[id~=\" + expando + \"-]\" ).length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push(\"~=\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Webkit/Opera - :checked should return selected option elements\r\n\t\t\t\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\t\t\t\tif ( !div.querySelectorAll(\":checked\").length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push(\":checked\");\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Support: Safari 8+, iOS 8+\r\n\t\t\t\t\t\t// https://bugs.webkit.org/show_bug.cgi?id=136851\r\n\t\t\t\t\t\t// In-page `selector#id sibing-combinator selector` fails\r\n\t\t\t\t\t\tif ( !div.querySelectorAll( \"a#\" + expando + \"+*\" ).length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push(\".#.+[+~]\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tassert(function( div ) {\r\n\t\t\t\t\t\t// Support: Windows 8 Native Apps\r\n\t\t\t\t\t\t// The type and name attributes are restricted during .innerHTML assignment\r\n\t\t\t\t\t\tvar input = document.createElement(\"input\");\r\n\t\t\t\t\t\tinput.setAttribute( \"type\", \"hidden\" );\r\n\t\t\t\t\t\tdiv.appendChild( input ).setAttribute( \"name\", \"D\" );\r\n\r\n\t\t\t\t\t\t// Support: IE8\r\n\t\t\t\t\t\t// Enforce case-sensitivity of name attribute\r\n\t\t\t\t\t\tif ( div.querySelectorAll(\"[name=d]\").length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push( \"name\" + whitespace + \"*[*^$|!~]?=\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)\r\n\t\t\t\t\t\t// IE8 throws error here and will not see later tests\r\n\t\t\t\t\t\tif ( !div.querySelectorAll(\":enabled\").length ) {\r\n\t\t\t\t\t\t\trbuggyQSA.push( \":enabled\", \":disabled\" );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Opera 10-11 does not throw on post-comma invalid pseudos\r\n\t\t\t\t\t\tdiv.querySelectorAll(\"*,:x\");\r\n\t\t\t\t\t\trbuggyQSA.push(\",.*:\");\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( (support.matchesSelector = rnative.test( (matches = docElem.matches ||\r\n\t\t\t\t\t\tdocElem.webkitMatchesSelector ||\r\n\t\t\t\t\t\tdocElem.mozMatchesSelector ||\r\n\t\t\t\t\t\tdocElem.oMatchesSelector ||\r\n\t\t\t\t\t\tdocElem.msMatchesSelector) )) ) {\r\n\r\n\t\t\t\t\tassert(function( div ) {\r\n\t\t\t\t\t\t// Check to see if it's possible to do matchesSelector\r\n\t\t\t\t\t\t// on a disconnected node (IE 9)\r\n\t\t\t\t\t\tsupport.disconnectedMatch = matches.call( div, \"div\" );\r\n\r\n\t\t\t\t\t\t// This should fail with an exception\r\n\t\t\t\t\t\t// Gecko does not error, returns false instead\r\n\t\t\t\t\t\tmatches.call( div, \"[s!='']:x\" );\r\n\t\t\t\t\t\trbuggyMatches.push( \"!=\", pseudos );\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\trbuggyQSA = rbuggyQSA.length && new RegExp( rbuggyQSA.join(\"|\") );\r\n\t\t\t\trbuggyMatches = rbuggyMatches.length && new RegExp( rbuggyMatches.join(\"|\") );\r\n\r\n\t\t\t\t/* Contains\r\n\t\t\t\t ---------------------------------------------------------------------- */\r\n\t\t\t\thasCompare = rnative.test( docElem.compareDocumentPosition );\r\n\r\n\t\t\t\t// Element contains another\r\n\t\t\t\t// Purposefully self-exclusive\r\n\t\t\t\t// As in, an element does not contain itself\r\n\t\t\t\tcontains = hasCompare || rnative.test( docElem.contains ) ?\r\n\t\t\t\t\tfunction( a, b ) {\r\n\t\t\t\t\t\tvar adown = a.nodeType === 9 ? a.documentElement : a,\r\n\t\t\t\t\t\t\tbup = b && b.parentNode;\r\n\t\t\t\t\t\treturn a === bup || !!( bup && bup.nodeType === 1 && (\r\n\t\t\t\t\t\t\t\tadown.contains ?\r\n\t\t\t\t\t\t\t\t\tadown.contains( bup ) :\r\n\t\t\t\t\t\t\t\ta.compareDocumentPosition && a.compareDocumentPosition( bup ) & 16\r\n\t\t\t\t\t\t\t));\r\n\t\t\t\t\t} :\r\n\t\t\t\t\tfunction( a, b ) {\r\n\t\t\t\t\t\tif ( b ) {\r\n\t\t\t\t\t\t\twhile ( (b = b.parentNode) ) {\r\n\t\t\t\t\t\t\t\tif ( b === a ) {\r\n\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t/* Sorting\r\n\t\t\t\t ---------------------------------------------------------------------- */\r\n\r\n\t\t\t\t// Document order sorting\r\n\t\t\t\tsortOrder = hasCompare ?\r\n\t\t\t\t\tfunction( a, b ) {\r\n\r\n\t\t\t\t\t\t// Flag for duplicate removal\r\n\t\t\t\t\t\tif ( a === b ) {\r\n\t\t\t\t\t\t\thasDuplicate = true;\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Sort on method existence if only one input has compareDocumentPosition\r\n\t\t\t\t\t\tvar compare = !a.compareDocumentPosition - !b.compareDocumentPosition;\r\n\t\t\t\t\t\tif ( compare ) {\r\n\t\t\t\t\t\t\treturn compare;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Calculate position if both inputs belong to the same document\r\n\t\t\t\t\t\tcompare = ( a.ownerDocument || a ) === ( b.ownerDocument || b ) ?\r\n\t\t\t\t\t\t\ta.compareDocumentPosition( b ) :\r\n\r\n\t\t\t\t\t\t\t// Otherwise we know they are disconnected\r\n\t\t\t\t\t\t\t1;\r\n\r\n\t\t\t\t\t\t// Disconnected nodes\r\n\t\t\t\t\t\tif ( compare & 1 ||\r\n\t\t\t\t\t\t\t(!support.sortDetached && b.compareDocumentPosition( a ) === compare) ) {\r\n\r\n\t\t\t\t\t\t\t// Choose the first element that is related to our preferred document\r\n\t\t\t\t\t\t\tif ( a === document || a.ownerDocument === preferredDoc && contains(preferredDoc, a) ) {\r\n\t\t\t\t\t\t\t\treturn -1;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( b === document || b.ownerDocument === preferredDoc && contains(preferredDoc, b) ) {\r\n\t\t\t\t\t\t\t\treturn 1;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Maintain original order\r\n\t\t\t\t\t\t\treturn sortInput ?\r\n\t\t\t\t\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\r\n\t\t\t\t\t\t\t\t0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn compare & 4 ? -1 : 1;\r\n\t\t\t\t\t} :\r\n\t\t\t\t\tfunction( a, b ) {\r\n\t\t\t\t\t\t// Exit early if the nodes are identical\r\n\t\t\t\t\t\tif ( a === b ) {\r\n\t\t\t\t\t\t\thasDuplicate = true;\r\n\t\t\t\t\t\t\treturn 0;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tvar cur,\r\n\t\t\t\t\t\t\ti = 0,\r\n\t\t\t\t\t\t\taup = a.parentNode,\r\n\t\t\t\t\t\t\tbup = b.parentNode,\r\n\t\t\t\t\t\t\tap = [ a ],\r\n\t\t\t\t\t\t\tbp = [ b ];\r\n\r\n\t\t\t\t\t\t// Parentless nodes are either documents or disconnected\r\n\t\t\t\t\t\tif ( !aup || !bup ) {\r\n\t\t\t\t\t\t\treturn a === document ? -1 :\r\n\t\t\t\t\t\t\t\tb === document ? 1 :\r\n\t\t\t\t\t\t\t\t\taup ? -1 :\r\n\t\t\t\t\t\t\t\t\t\tbup ? 1 :\r\n\t\t\t\t\t\t\t\t\t\t\tsortInput ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t( indexOf( sortInput, a ) - indexOf( sortInput, b ) ) :\r\n\t\t\t\t\t\t\t\t\t\t\t\t0;\r\n\r\n\t\t\t\t\t\t\t// If the nodes are siblings, we can do a quick check\r\n\t\t\t\t\t\t} else if ( aup === bup ) {\r\n\t\t\t\t\t\t\treturn siblingCheck( a, b );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Otherwise we need full lists of their ancestors for comparison\r\n\t\t\t\t\t\tcur = a;\r\n\t\t\t\t\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\t\t\t\t\tap.unshift( cur );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcur = b;\r\n\t\t\t\t\t\twhile ( (cur = cur.parentNode) ) {\r\n\t\t\t\t\t\t\tbp.unshift( cur );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Walk down the tree looking for a discrepancy\r\n\t\t\t\t\t\twhile ( ap[i] === bp[i] ) {\r\n\t\t\t\t\t\t\ti++;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn i ?\r\n\t\t\t\t\t\t\t// Do a sibling check if the nodes have a common ancestor\r\n\t\t\t\t\t\t\tsiblingCheck( ap[i], bp[i] ) :\r\n\r\n\t\t\t\t\t\t\t// Otherwise nodes in our document sort first\r\n\t\t\t\t\t\t\tap[i] === preferredDoc ? -1 :\r\n\t\t\t\t\t\t\t\tbp[i] === preferredDoc ? 1 :\r\n\t\t\t\t\t\t\t\t\t0;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\treturn document;\r\n\t\t\t};\r\n\r\n\t\t\tSizzle.matches = function( expr, elements ) {\r\n\t\t\t\treturn Sizzle( expr, null, null, elements );\r\n\t\t\t};\r\n\r\n\t\t\tSizzle.matchesSelector = function( elem, expr ) {\r\n\t\t\t\t// Set document vars if needed\r\n\t\t\t\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\t\t\t\tsetDocument( elem );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Make sure that attribute selectors are quoted\r\n\t\t\t\texpr = expr.replace( rattributeQuotes, \"='$1']\" );\r\n\r\n\t\t\t\tif ( support.matchesSelector && documentIsHTML &&\r\n\t\t\t\t\t!compilerCache[ expr + \" \" ] &&\r\n\t\t\t\t\t( !rbuggyMatches || !rbuggyMatches.test( expr ) ) &&\r\n\t\t\t\t\t( !rbuggyQSA     || !rbuggyQSA.test( expr ) ) ) {\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tvar ret = matches.call( elem, expr );\r\n\r\n\t\t\t\t\t\t// IE 9's matchesSelector returns false on disconnected nodes\r\n\t\t\t\t\t\tif ( ret || support.disconnectedMatch ||\r\n\t\t\t\t\t\t\t// As well, disconnected nodes are said to be in a document\r\n\t\t\t\t\t\t\t// fragment in IE 9\r\n\t\t\t\t\t\t\telem.document && elem.document.nodeType !== 11 ) {\r\n\t\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn Sizzle( expr, document, null, [ elem ] ).length > 0;\r\n\t\t\t};\r\n\r\n\t\t\tSizzle.contains = function( context, elem ) {\r\n\t\t\t\t// Set document vars if needed\r\n\t\t\t\tif ( ( context.ownerDocument || context ) !== document ) {\r\n\t\t\t\t\tsetDocument( context );\r\n\t\t\t\t}\r\n\t\t\t\treturn contains( context, elem );\r\n\t\t\t};\r\n\r\n\t\t\tSizzle.attr = function( elem, name ) {\r\n\t\t\t\t// Set document vars if needed\r\n\t\t\t\tif ( ( elem.ownerDocument || elem ) !== document ) {\r\n\t\t\t\t\tsetDocument( elem );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar fn = Expr.attrHandle[ name.toLowerCase() ],\r\n\t\t\t\t\t// Don't get fooled by Object.prototype properties (jQuery #13807)\r\n\t\t\t\t\tval = fn && hasOwn.call( Expr.attrHandle, name.toLowerCase() ) ?\r\n\t\t\t\t\t\tfn( elem, name, !documentIsHTML ) :\r\n\t\t\t\t\t\tundefined;\r\n\r\n\t\t\t\treturn val !== undefined ?\r\n\t\t\t\t\tval :\r\n\t\t\t\t\tsupport.attributes || !documentIsHTML ?\r\n\t\t\t\t\t\telem.getAttribute( name ) :\r\n\t\t\t\t\t\t(val = elem.getAttributeNode(name)) && val.specified ?\r\n\t\t\t\t\t\t\tval.value :\r\n\t\t\t\t\t\t\tnull;\r\n\t\t\t};\r\n\r\n\t\t\tSizzle.error = function( msg ) {\r\n\t\t\t\tthrow new Error( \"Syntax error, unrecognized expression: \" + msg );\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * Document sorting and removing duplicates\r\n\t\t\t * @param {ArrayLike} results\r\n\t\t\t */\r\n\t\t\tSizzle.uniqueSort = function( results ) {\r\n\t\t\t\tvar elem,\r\n\t\t\t\t\tduplicates = [],\r\n\t\t\t\t\tj = 0,\r\n\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\t// Unless we *know* we can detect duplicates, assume their presence\r\n\t\t\t\thasDuplicate = !support.detectDuplicates;\r\n\t\t\t\tsortInput = !support.sortStable && results.slice( 0 );\r\n\t\t\t\tresults.sort( sortOrder );\r\n\r\n\t\t\t\tif ( hasDuplicate ) {\r\n\t\t\t\t\twhile ( (elem = results[i++]) ) {\r\n\t\t\t\t\t\tif ( elem === results[ i ] ) {\r\n\t\t\t\t\t\t\tj = duplicates.push( i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\t\tresults.splice( duplicates[ j ], 1 );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Clear input after sorting to release objects\r\n\t\t\t\t// See https://github.com/jquery/sizzle/pull/225\r\n\t\t\t\tsortInput = null;\r\n\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * Utility function for retrieving the text value of an array of DOM nodes\r\n\t\t\t * @param {Array|Element} elem\r\n\t\t\t */\r\n\t\t\tgetText = Sizzle.getText = function( elem ) {\r\n\t\t\t\tvar node,\r\n\t\t\t\t\tret = \"\",\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tnodeType = elem.nodeType;\r\n\r\n\t\t\t\tif ( !nodeType ) {\r\n\t\t\t\t\t// If no nodeType, this is expected to be an array\r\n\t\t\t\t\twhile ( (node = elem[i++]) ) {\r\n\t\t\t\t\t\t// Do not traverse comment nodes\r\n\t\t\t\t\t\tret += getText( node );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( nodeType === 1 || nodeType === 9 || nodeType === 11 ) {\r\n\t\t\t\t\t// Use textContent for elements\r\n\t\t\t\t\t// innerText usage removed for consistency of new lines (jQuery #11153)\r\n\t\t\t\t\tif ( typeof elem.textContent === \"string\" ) {\r\n\t\t\t\t\t\treturn elem.textContent;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// Traverse its children\r\n\t\t\t\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\t\t\t\tret += getText( elem );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if ( nodeType === 3 || nodeType === 4 ) {\r\n\t\t\t\t\treturn elem.nodeValue;\r\n\t\t\t\t}\r\n\t\t\t\t// Do not include comment or processing instruction nodes\r\n\r\n\t\t\t\treturn ret;\r\n\t\t\t};\r\n\r\n\t\t\tExpr = Sizzle.selectors = {\r\n\r\n\t\t\t\t// Can be adjusted by the user\r\n\t\t\t\tcacheLength: 50,\r\n\r\n\t\t\t\tcreatePseudo: markFunction,\r\n\r\n\t\t\t\tmatch: matchExpr,\r\n\r\n\t\t\t\tattrHandle: {},\r\n\r\n\t\t\t\tfind: {},\r\n\r\n\t\t\t\trelative: {\r\n\t\t\t\t\t\">\": { dir: \"parentNode\", first: true },\r\n\t\t\t\t\t\" \": { dir: \"parentNode\" },\r\n\t\t\t\t\t\"+\": { dir: \"previousSibling\", first: true },\r\n\t\t\t\t\t\"~\": { dir: \"previousSibling\" }\r\n\t\t\t\t},\r\n\r\n\t\t\t\tpreFilter: {\r\n\t\t\t\t\t\"ATTR\": function( match ) {\r\n\t\t\t\t\t\tmatch[1] = match[1].replace( runescape, funescape );\r\n\r\n\t\t\t\t\t\t// Move the given value to match[3] whether quoted or unquoted\r\n\t\t\t\t\t\tmatch[3] = ( match[3] || match[4] || match[5] || \"\" ).replace( runescape, funescape );\r\n\r\n\t\t\t\t\t\tif ( match[2] === \"~=\" ) {\r\n\t\t\t\t\t\t\tmatch[3] = \" \" + match[3] + \" \";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn match.slice( 0, 4 );\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"CHILD\": function( match ) {\r\n\t\t\t\t\t\t/* matches from matchExpr[\"CHILD\"]\r\n\t\t\t\t\t\t 1 type (only|nth|...)\r\n\t\t\t\t\t\t 2 what (child|of-type)\r\n\t\t\t\t\t\t 3 argument (even|odd|\\d*|\\d*n([+-]\\d+)?|...)\r\n\t\t\t\t\t\t 4 xn-component of xn+y argument ([+-]?\\d*n|)\r\n\t\t\t\t\t\t 5 sign of xn-component\r\n\t\t\t\t\t\t 6 x of xn-component\r\n\t\t\t\t\t\t 7 sign of y-component\r\n\t\t\t\t\t\t 8 y of y-component\r\n\t\t\t\t\t\t */\r\n\t\t\t\t\t\tmatch[1] = match[1].toLowerCase();\r\n\r\n\t\t\t\t\t\tif ( match[1].slice( 0, 3 ) === \"nth\" ) {\r\n\t\t\t\t\t\t\t// nth-* requires argument\r\n\t\t\t\t\t\t\tif ( !match[3] ) {\r\n\t\t\t\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// numeric x and y parameters for Expr.filter.CHILD\r\n\t\t\t\t\t\t\t// remember that false/true cast respectively to 0/1\r\n\t\t\t\t\t\t\tmatch[4] = +( match[4] ? match[5] + (match[6] || 1) : 2 * ( match[3] === \"even\" || match[3] === \"odd\" ) );\r\n\t\t\t\t\t\t\tmatch[5] = +( ( match[7] + match[8] ) || match[3] === \"odd\" );\r\n\r\n\t\t\t\t\t\t\t// other types prohibit arguments\r\n\t\t\t\t\t\t} else if ( match[3] ) {\r\n\t\t\t\t\t\t\tSizzle.error( match[0] );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn match;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"PSEUDO\": function( match ) {\r\n\t\t\t\t\t\tvar excess,\r\n\t\t\t\t\t\t\tunquoted = !match[6] && match[2];\r\n\r\n\t\t\t\t\t\tif ( matchExpr[\"CHILD\"].test( match[0] ) ) {\r\n\t\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Accept quoted arguments as-is\r\n\t\t\t\t\t\tif ( match[3] ) {\r\n\t\t\t\t\t\t\tmatch[2] = match[4] || match[5] || \"\";\r\n\r\n\t\t\t\t\t\t\t// Strip excess characters from unquoted arguments\r\n\t\t\t\t\t\t} else if ( unquoted && rpseudo.test( unquoted ) &&\r\n\t\t\t\t\t\t\t// Get excess from tokenize (recursively)\r\n\t\t\t\t\t\t\t(excess = tokenize( unquoted, true )) &&\r\n\t\t\t\t\t\t\t// advance to the next closing parenthesis\r\n\t\t\t\t\t\t\t(excess = unquoted.indexOf( \")\", unquoted.length - excess ) - unquoted.length) ) {\r\n\r\n\t\t\t\t\t\t\t// excess is a negative index\r\n\t\t\t\t\t\t\tmatch[0] = match[0].slice( 0, excess );\r\n\t\t\t\t\t\t\tmatch[2] = unquoted.slice( 0, excess );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Return only captures needed by the pseudo filter method (type and argument)\r\n\t\t\t\t\t\treturn match.slice( 0, 3 );\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tfilter: {\r\n\r\n\t\t\t\t\t\"TAG\": function( nodeNameSelector ) {\r\n\t\t\t\t\t\tvar nodeName = nodeNameSelector.replace( runescape, funescape ).toLowerCase();\r\n\t\t\t\t\t\treturn nodeNameSelector === \"*\" ?\r\n\t\t\t\t\t\t\tfunction() { return true; } :\r\n\t\t\t\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\t\t\t\treturn elem.nodeName && elem.nodeName.toLowerCase() === nodeName;\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"CLASS\": function( className ) {\r\n\t\t\t\t\t\tvar pattern = classCache[ className + \" \" ];\r\n\r\n\t\t\t\t\t\treturn pattern ||\r\n\t\t\t\t\t\t\t(pattern = new RegExp( \"(^|\" + whitespace + \")\" + className + \"(\" + whitespace + \"|$)\" )) &&\r\n\t\t\t\t\t\t\tclassCache( className, function( elem ) {\r\n\t\t\t\t\t\t\t\treturn pattern.test( typeof elem.className === \"string\" && elem.className || typeof elem.getAttribute !== \"undefined\" && elem.getAttribute(\"class\") || \"\" );\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"ATTR\": function( name, operator, check ) {\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\tvar result = Sizzle.attr( elem, name );\r\n\r\n\t\t\t\t\t\t\tif ( result == null ) {\r\n\t\t\t\t\t\t\t\treturn operator === \"!=\";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( !operator ) {\r\n\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tresult += \"\";\r\n\r\n\t\t\t\t\t\t\treturn operator === \"=\" ? result === check :\r\n\t\t\t\t\t\t\t\toperator === \"!=\" ? result !== check :\r\n\t\t\t\t\t\t\t\t\toperator === \"^=\" ? check && result.indexOf( check ) === 0 :\r\n\t\t\t\t\t\t\t\t\t\toperator === \"*=\" ? check && result.indexOf( check ) > -1 :\r\n\t\t\t\t\t\t\t\t\t\t\toperator === \"$=\" ? check && result.slice( -check.length ) === check :\r\n\t\t\t\t\t\t\t\t\t\t\t\toperator === \"~=\" ? ( \" \" + result.replace( rwhitespace, \" \" ) + \" \" ).indexOf( check ) > -1 :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toperator === \"|=\" ? result === check || result.slice( 0, check.length + 1 ) === check + \"-\" :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"CHILD\": function( type, what, argument, first, last ) {\r\n\t\t\t\t\t\tvar simple = type.slice( 0, 3 ) !== \"nth\",\r\n\t\t\t\t\t\t\tforward = type.slice( -4 ) !== \"last\",\r\n\t\t\t\t\t\t\tofType = what === \"of-type\";\r\n\r\n\t\t\t\t\t\treturn first === 1 && last === 0 ?\r\n\r\n\t\t\t\t\t\t\t// Shortcut for :nth-*(n)\r\n\t\t\t\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\t\t\t\treturn !!elem.parentNode;\r\n\t\t\t\t\t\t\t} :\r\n\r\n\t\t\t\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\t\t\t\tvar cache, uniqueCache, outerCache, node, nodeIndex, start,\r\n\t\t\t\t\t\t\t\t\tdir = simple !== forward ? \"nextSibling\" : \"previousSibling\",\r\n\t\t\t\t\t\t\t\t\tparent = elem.parentNode,\r\n\t\t\t\t\t\t\t\t\tname = ofType && elem.nodeName.toLowerCase(),\r\n\t\t\t\t\t\t\t\t\tuseCache = !xml && !ofType,\r\n\t\t\t\t\t\t\t\t\tdiff = false;\r\n\r\n\t\t\t\t\t\t\t\tif ( parent ) {\r\n\r\n\t\t\t\t\t\t\t\t\t// :(first|last|only)-(child|of-type)\r\n\t\t\t\t\t\t\t\t\tif ( simple ) {\r\n\t\t\t\t\t\t\t\t\t\twhile ( dir ) {\r\n\t\t\t\t\t\t\t\t\t\t\tnode = elem;\r\n\t\t\t\t\t\t\t\t\t\t\twhile ( (node = node[ dir ]) ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ( ofType ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t// Reverse direction for :only-* (if we haven't yet done so)\r\n\t\t\t\t\t\t\t\t\t\t\tstart = dir = type === \"only\" && !start && \"nextSibling\";\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\tstart = [ forward ? parent.firstChild : parent.lastChild ];\r\n\r\n\t\t\t\t\t\t\t\t\t// non-xml :nth-child(...) stores cache data on `parent`\r\n\t\t\t\t\t\t\t\t\tif ( forward && useCache ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Seek `elem` from a previously-cached index\r\n\r\n\t\t\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\r\n\t\t\t\t\t\t\t\t\t\tnode = parent;\r\n\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\r\n\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\r\n\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\r\n\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\r\n\t\t\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\r\n\t\t\t\t\t\t\t\t\t\tdiff = nodeIndex && cache[ 2 ];\r\n\t\t\t\t\t\t\t\t\t\tnode = nodeIndex && parent.childNodes[ nodeIndex ];\r\n\r\n\t\t\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Fallback to seeking `elem` from the start\r\n\t\t\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// When found, cache indexes on `parent` and break\r\n\t\t\t\t\t\t\t\t\t\t\tif ( node.nodeType === 1 && ++diff && node === elem ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, nodeIndex, diff ];\r\n\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// Use previously-cached element index if available\r\n\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\r\n\t\t\t\t\t\t\t\t\t\t\t// ...in a gzip-friendly way\r\n\t\t\t\t\t\t\t\t\t\t\tnode = elem;\r\n\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\r\n\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\r\n\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\tcache = uniqueCache[ type ] || [];\r\n\t\t\t\t\t\t\t\t\t\t\tnodeIndex = cache[ 0 ] === dirruns && cache[ 1 ];\r\n\t\t\t\t\t\t\t\t\t\t\tdiff = nodeIndex;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t// xml :nth-child(...)\r\n\t\t\t\t\t\t\t\t\t\t// or :nth-last-child(...) or :nth(-last)?-of-type(...)\r\n\t\t\t\t\t\t\t\t\t\tif ( diff === false ) {\r\n\t\t\t\t\t\t\t\t\t\t\t// Use the same loop as above to seek `elem` from the start\r\n\t\t\t\t\t\t\t\t\t\t\twhile ( (node = ++nodeIndex && node && node[ dir ] ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t(diff = nodeIndex = 0) || start.pop()) ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\tif ( ( ofType ?\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnode.nodeName.toLowerCase() === name :\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tnode.nodeType === 1 ) &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t++diff ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t// Cache the index of each encountered element\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( useCache ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\touterCache = node[ expando ] || (node[ expando ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Support: IE <9 only\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ node.uniqueID ] ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t(outerCache[ node.uniqueID ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tuniqueCache[ type ] = [ dirruns, diff ];\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif ( node === elem ) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Incorporate the offset, then check against cycle size\r\n\t\t\t\t\t\t\t\t\tdiff -= last;\r\n\t\t\t\t\t\t\t\t\treturn diff === first || ( diff % first === 0 && diff / first >= 0 );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"PSEUDO\": function( pseudo, argument ) {\r\n\t\t\t\t\t\t// pseudo-class names are case-insensitive\r\n\t\t\t\t\t\t// http://www.w3.org/TR/selectors/#pseudo-classes\r\n\t\t\t\t\t\t// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters\r\n\t\t\t\t\t\t// Remember that setFilters inherits from pseudos\r\n\t\t\t\t\t\tvar args,\r\n\t\t\t\t\t\t\tfn = Expr.pseudos[ pseudo ] || Expr.setFilters[ pseudo.toLowerCase() ] ||\r\n\t\t\t\t\t\t\t\tSizzle.error( \"unsupported pseudo: \" + pseudo );\r\n\r\n\t\t\t\t\t\t// The user may use createPseudo to indicate that\r\n\t\t\t\t\t\t// arguments are needed to create the filter function\r\n\t\t\t\t\t\t// just as Sizzle does\r\n\t\t\t\t\t\tif ( fn[ expando ] ) {\r\n\t\t\t\t\t\t\treturn fn( argument );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// But maintain support for old signatures\r\n\t\t\t\t\t\tif ( fn.length > 1 ) {\r\n\t\t\t\t\t\t\targs = [ pseudo, pseudo, \"\", argument ];\r\n\t\t\t\t\t\t\treturn Expr.setFilters.hasOwnProperty( pseudo.toLowerCase() ) ?\r\n\t\t\t\t\t\t\t\tmarkFunction(function( seed, matches ) {\r\n\t\t\t\t\t\t\t\t\tvar idx,\r\n\t\t\t\t\t\t\t\t\t\tmatched = fn( seed, argument ),\r\n\t\t\t\t\t\t\t\t\t\ti = matched.length;\r\n\t\t\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\t\t\tidx = indexOf( seed, matched[i] );\r\n\t\t\t\t\t\t\t\t\t\tseed[ idx ] = !( matches[ idx ] = matched[i] );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}) :\r\n\t\t\t\t\t\t\t\tfunction( elem ) {\r\n\t\t\t\t\t\t\t\t\treturn fn( elem, 0, args );\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn fn;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\tpseudos: {\r\n\t\t\t\t\t// Potentially complex pseudos\r\n\t\t\t\t\t\"not\": markFunction(function( selector ) {\r\n\t\t\t\t\t\t// Trim the selector passed to compile\r\n\t\t\t\t\t\t// to avoid treating leading and trailing\r\n\t\t\t\t\t\t// spaces as combinators\r\n\t\t\t\t\t\tvar input = [],\r\n\t\t\t\t\t\t\tresults = [],\r\n\t\t\t\t\t\t\tmatcher = compile( selector.replace( rtrim, \"$1\" ) );\r\n\r\n\t\t\t\t\t\treturn matcher[ expando ] ?\r\n\t\t\t\t\t\t\tmarkFunction(function( seed, matches, context, xml ) {\r\n\t\t\t\t\t\t\t\tvar elem,\r\n\t\t\t\t\t\t\t\t\tunmatched = matcher( seed, null, xml, [] ),\r\n\t\t\t\t\t\t\t\t\ti = seed.length;\r\n\r\n\t\t\t\t\t\t\t\t// Match elements unmatched by `matcher`\r\n\t\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\t\t\t\t\t\t\t\tseed[i] = !(matches[i] = elem);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}) :\r\n\t\t\t\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\t\t\t\tinput[0] = elem;\r\n\t\t\t\t\t\t\t\tmatcher( input, null, xml, results );\r\n\t\t\t\t\t\t\t\t// Don't keep the element (issue #299)\r\n\t\t\t\t\t\t\t\tinput[0] = null;\r\n\t\t\t\t\t\t\t\treturn !results.pop();\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"has\": markFunction(function( selector ) {\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\treturn Sizzle( selector, elem ).length > 0;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"contains\": markFunction(function( text ) {\r\n\t\t\t\t\t\ttext = text.replace( runescape, funescape );\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\treturn ( elem.textContent || elem.innerText || getText( elem ) ).indexOf( text ) > -1;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t// \"Whether an element is represented by a :lang() selector\r\n\t\t\t\t\t// is based solely on the element's language value\r\n\t\t\t\t\t// being equal to the identifier C,\r\n\t\t\t\t\t// or beginning with the identifier C immediately followed by \"-\".\r\n\t\t\t\t\t// The matching of C against the element's language value is performed case-insensitively.\r\n\t\t\t\t\t// The identifier C does not have to be a valid language name.\"\r\n\t\t\t\t\t// http://www.w3.org/TR/selectors/#lang-pseudo\r\n\t\t\t\t\t\"lang\": markFunction( function( lang ) {\r\n\t\t\t\t\t\t// lang value must be a valid identifier\r\n\t\t\t\t\t\tif ( !ridentifier.test(lang || \"\") ) {\r\n\t\t\t\t\t\t\tSizzle.error( \"unsupported lang: \" + lang );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlang = lang.replace( runescape, funescape ).toLowerCase();\r\n\t\t\t\t\t\treturn function( elem ) {\r\n\t\t\t\t\t\t\tvar elemLang;\r\n\t\t\t\t\t\t\tdo {\r\n\t\t\t\t\t\t\t\tif ( (elemLang = documentIsHTML ?\r\n\t\t\t\t\t\t\t\t\t\telem.lang :\r\n\t\t\t\t\t\t\t\t\telem.getAttribute(\"xml:lang\") || elem.getAttribute(\"lang\")) ) {\r\n\r\n\t\t\t\t\t\t\t\t\telemLang = elemLang.toLowerCase();\r\n\t\t\t\t\t\t\t\t\treturn elemLang === lang || elemLang.indexOf( lang + \"-\" ) === 0;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} while ( (elem = elem.parentNode) && elem.nodeType === 1 );\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t// Miscellaneous\r\n\t\t\t\t\t\"target\": function( elem ) {\r\n\t\t\t\t\t\tvar hash = window.location && window.location.hash;\r\n\t\t\t\t\t\treturn hash && hash.slice( 1 ) === elem.id;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"root\": function( elem ) {\r\n\t\t\t\t\t\treturn elem === docElem;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"focus\": function( elem ) {\r\n\t\t\t\t\t\treturn elem === document.activeElement && (!document.hasFocus || document.hasFocus()) && !!(elem.type || elem.href || ~elem.tabIndex);\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Boolean properties\r\n\t\t\t\t\t\"enabled\": function( elem ) {\r\n\t\t\t\t\t\treturn elem.disabled === false;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"disabled\": function( elem ) {\r\n\t\t\t\t\t\treturn elem.disabled === true;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"checked\": function( elem ) {\r\n\t\t\t\t\t\t// In CSS3, :checked should return both checked and selected elements\r\n\t\t\t\t\t\t// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked\r\n\t\t\t\t\t\tvar nodeName = elem.nodeName.toLowerCase();\r\n\t\t\t\t\t\treturn (nodeName === \"input\" && !!elem.checked) || (nodeName === \"option\" && !!elem.selected);\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"selected\": function( elem ) {\r\n\t\t\t\t\t\t// Accessing this property makes selected-by-default\r\n\t\t\t\t\t\t// options in Safari work properly\r\n\t\t\t\t\t\tif ( elem.parentNode ) {\r\n\t\t\t\t\t\t\telem.parentNode.selectedIndex;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn elem.selected === true;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Contents\r\n\t\t\t\t\t\"empty\": function( elem ) {\r\n\t\t\t\t\t\t// http://www.w3.org/TR/selectors/#empty-pseudo\r\n\t\t\t\t\t\t// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),\r\n\t\t\t\t\t\t//   but not by others (comment: 8; processing instruction: 7; etc.)\r\n\t\t\t\t\t\t// nodeType < 6 works because attributes (2) do not appear as children\r\n\t\t\t\t\t\tfor ( elem = elem.firstChild; elem; elem = elem.nextSibling ) {\r\n\t\t\t\t\t\t\tif ( elem.nodeType < 6 ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"parent\": function( elem ) {\r\n\t\t\t\t\t\treturn !Expr.pseudos[\"empty\"]( elem );\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Element/input types\r\n\t\t\t\t\t\"header\": function( elem ) {\r\n\t\t\t\t\t\treturn rheader.test( elem.nodeName );\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"input\": function( elem ) {\r\n\t\t\t\t\t\treturn rinputs.test( elem.nodeName );\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"button\": function( elem ) {\r\n\t\t\t\t\t\tvar name = elem.nodeName.toLowerCase();\r\n\t\t\t\t\t\treturn name === \"input\" && elem.type === \"button\" || name === \"button\";\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t\"text\": function( elem ) {\r\n\t\t\t\t\t\tvar attr;\r\n\t\t\t\t\t\treturn elem.nodeName.toLowerCase() === \"input\" &&\r\n\t\t\t\t\t\t\telem.type === \"text\" &&\r\n\r\n\t\t\t\t\t\t\t// Support: IE<8\r\n\t\t\t\t\t\t\t// New HTML5 attribute values (e.g., \"search\") appear with elem.type === \"text\"\r\n\t\t\t\t\t\t\t( (attr = elem.getAttribute(\"type\")) == null || attr.toLowerCase() === \"text\" );\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Position-in-collection\r\n\t\t\t\t\t\"first\": createPositionalPseudo(function() {\r\n\t\t\t\t\t\treturn [ 0 ];\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"last\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\t\t\t\treturn [ length - 1 ];\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"eq\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\t\t\t\treturn [ argument < 0 ? argument + length : argument ];\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"even\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\t\t\t\tvar i = 0;\r\n\t\t\t\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn matchIndexes;\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"odd\": createPositionalPseudo(function( matchIndexes, length ) {\r\n\t\t\t\t\t\tvar i = 1;\r\n\t\t\t\t\t\tfor ( ; i < length; i += 2 ) {\r\n\t\t\t\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn matchIndexes;\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"lt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\t\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\t\t\t\tfor ( ; --i >= 0; ) {\r\n\t\t\t\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn matchIndexes;\r\n\t\t\t\t\t}),\r\n\r\n\t\t\t\t\t\"gt\": createPositionalPseudo(function( matchIndexes, length, argument ) {\r\n\t\t\t\t\t\tvar i = argument < 0 ? argument + length : argument;\r\n\t\t\t\t\t\tfor ( ; ++i < length; ) {\r\n\t\t\t\t\t\t\tmatchIndexes.push( i );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn matchIndexes;\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tExpr.pseudos[\"nth\"] = Expr.pseudos[\"eq\"];\r\n\r\n// Add button/input type pseudos\r\n\t\t\tfor ( i in { radio: true, checkbox: true, file: true, password: true, image: true } ) {\r\n\t\t\t\tExpr.pseudos[ i ] = createInputPseudo( i );\r\n\t\t\t}\r\n\t\t\tfor ( i in { submit: true, reset: true } ) {\r\n\t\t\t\tExpr.pseudos[ i ] = createButtonPseudo( i );\r\n\t\t\t}\r\n\r\n// Easy API for creating new setFilters\r\n\t\t\tfunction setFilters() {}\r\n\t\t\tsetFilters.prototype = Expr.filters = Expr.pseudos;\r\n\t\t\tExpr.setFilters = new setFilters();\r\n\r\n\t\t\ttokenize = Sizzle.tokenize = function( selector, parseOnly ) {\r\n\t\t\t\tvar matched, match, tokens, type,\r\n\t\t\t\t\tsoFar, groups, preFilters,\r\n\t\t\t\t\tcached = tokenCache[ selector + \" \" ];\r\n\r\n\t\t\t\tif ( cached ) {\r\n\t\t\t\t\treturn parseOnly ? 0 : cached.slice( 0 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsoFar = selector;\r\n\t\t\t\tgroups = [];\r\n\t\t\t\tpreFilters = Expr.preFilter;\r\n\r\n\t\t\t\twhile ( soFar ) {\r\n\r\n\t\t\t\t\t// Comma and first run\r\n\t\t\t\t\tif ( !matched || (match = rcomma.exec( soFar )) ) {\r\n\t\t\t\t\t\tif ( match ) {\r\n\t\t\t\t\t\t\t// Don't consume trailing commas as valid\r\n\t\t\t\t\t\t\tsoFar = soFar.slice( match[0].length ) || soFar;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tgroups.push( (tokens = []) );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tmatched = false;\r\n\r\n\t\t\t\t\t// Combinators\r\n\t\t\t\t\tif ( (match = rcombinators.exec( soFar )) ) {\r\n\t\t\t\t\t\tmatched = match.shift();\r\n\t\t\t\t\t\ttokens.push({\r\n\t\t\t\t\t\t\tvalue: matched,\r\n\t\t\t\t\t\t\t// Cast descendant combinators to space\r\n\t\t\t\t\t\t\ttype: match[0].replace( rtrim, \" \" )\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Filters\r\n\t\t\t\t\tfor ( type in Expr.filter ) {\r\n\t\t\t\t\t\tif ( (match = matchExpr[ type ].exec( soFar )) && (!preFilters[ type ] ||\r\n\t\t\t\t\t\t\t(match = preFilters[ type ]( match ))) ) {\r\n\t\t\t\t\t\t\tmatched = match.shift();\r\n\t\t\t\t\t\t\ttokens.push({\r\n\t\t\t\t\t\t\t\tvalue: matched,\r\n\t\t\t\t\t\t\t\ttype: type,\r\n\t\t\t\t\t\t\t\tmatches: match\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tsoFar = soFar.slice( matched.length );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( !matched ) {\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Return the length of the invalid excess\r\n\t\t\t\t// if we're just parsing\r\n\t\t\t\t// Otherwise, throw an error or return tokens\r\n\t\t\t\treturn parseOnly ?\r\n\t\t\t\t\tsoFar.length :\r\n\t\t\t\t\tsoFar ?\r\n\t\t\t\t\t\tSizzle.error( selector ) :\r\n\t\t\t\t\t\t// Cache the tokens\r\n\t\t\t\t\t\ttokenCache( selector, groups ).slice( 0 );\r\n\t\t\t};\r\n\r\n\t\t\tfunction toSelector( tokens ) {\r\n\t\t\t\tvar i = 0,\r\n\t\t\t\t\tlen = tokens.length,\r\n\t\t\t\t\tselector = \"\";\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tselector += tokens[i].value;\r\n\t\t\t\t}\r\n\t\t\t\treturn selector;\r\n\t\t\t}\r\n\r\n\t\t\tfunction addCombinator( matcher, combinator, base ) {\r\n\t\t\t\tvar dir = combinator.dir,\r\n\t\t\t\t\tcheckNonElements = base && dir === \"parentNode\",\r\n\t\t\t\t\tdoneName = done++;\r\n\r\n\t\t\t\treturn combinator.first ?\r\n\t\t\t\t\t// Check against closest ancestor/preceding element\r\n\t\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\t\t\treturn matcher( elem, context, xml );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} :\r\n\r\n\t\t\t\t\t// Check against all ancestor/preceding elements\r\n\t\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\t\tvar oldCache, uniqueCache, outerCache,\r\n\t\t\t\t\t\t\tnewCache = [ dirruns, doneName ];\r\n\r\n\t\t\t\t\t\t// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching\r\n\t\t\t\t\t\tif ( xml ) {\r\n\t\t\t\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\t\t\t\tif ( matcher( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\twhile ( (elem = elem[ dir ]) ) {\r\n\t\t\t\t\t\t\t\tif ( elem.nodeType === 1 || checkNonElements ) {\r\n\t\t\t\t\t\t\t\t\touterCache = elem[ expando ] || (elem[ expando ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\t// Support: IE <9 only\r\n\t\t\t\t\t\t\t\t\t// Defend against cloned attroperties (jQuery gh-1709)\r\n\t\t\t\t\t\t\t\t\tuniqueCache = outerCache[ elem.uniqueID ] || (outerCache[ elem.uniqueID ] = {});\r\n\r\n\t\t\t\t\t\t\t\t\tif ( (oldCache = uniqueCache[ dir ]) &&\r\n\t\t\t\t\t\t\t\t\t\toldCache[ 0 ] === dirruns && oldCache[ 1 ] === doneName ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Assign to newCache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\t\t\t\treturn (newCache[ 2 ] = oldCache[ 2 ]);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t// Reuse newcache so results back-propagate to previous elements\r\n\t\t\t\t\t\t\t\t\t\tuniqueCache[ dir ] = newCache;\r\n\r\n\t\t\t\t\t\t\t\t\t\t// A match means we're done; a fail means we have to keep checking\r\n\t\t\t\t\t\t\t\t\t\tif ( (newCache[ 2 ] = matcher( elem, context, xml )) ) {\r\n\t\t\t\t\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tfunction elementMatcher( matchers ) {\r\n\t\t\t\treturn matchers.length > 1 ?\r\n\t\t\t\t\tfunction( elem, context, xml ) {\r\n\t\t\t\t\t\tvar i = matchers.length;\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tif ( !matchers[i]( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t} :\r\n\t\t\t\t\tmatchers[0];\r\n\t\t\t}\r\n\r\n\t\t\tfunction multipleContexts( selector, contexts, results ) {\r\n\t\t\t\tvar i = 0,\r\n\t\t\t\t\tlen = contexts.length;\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tSizzle( selector, contexts[i], results );\r\n\t\t\t\t}\r\n\t\t\t\treturn results;\r\n\t\t\t}\r\n\r\n\t\t\tfunction condense( unmatched, map, filter, context, xml ) {\r\n\t\t\t\tvar elem,\r\n\t\t\t\t\tnewUnmatched = [],\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tlen = unmatched.length,\r\n\t\t\t\t\tmapped = map != null;\r\n\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tif ( (elem = unmatched[i]) ) {\r\n\t\t\t\t\t\tif ( !filter || filter( elem, context, xml ) ) {\r\n\t\t\t\t\t\t\tnewUnmatched.push( elem );\r\n\t\t\t\t\t\t\tif ( mapped ) {\r\n\t\t\t\t\t\t\t\tmap.push( i );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn newUnmatched;\r\n\t\t\t}\r\n\r\n\t\t\tfunction setMatcher( preFilter, selector, matcher, postFilter, postFinder, postSelector ) {\r\n\t\t\t\tif ( postFilter && !postFilter[ expando ] ) {\r\n\t\t\t\t\tpostFilter = setMatcher( postFilter );\r\n\t\t\t\t}\r\n\t\t\t\tif ( postFinder && !postFinder[ expando ] ) {\r\n\t\t\t\t\tpostFinder = setMatcher( postFinder, postSelector );\r\n\t\t\t\t}\r\n\t\t\t\treturn markFunction(function( seed, results, context, xml ) {\r\n\t\t\t\t\tvar temp, i, elem,\r\n\t\t\t\t\t\tpreMap = [],\r\n\t\t\t\t\t\tpostMap = [],\r\n\t\t\t\t\t\tpreexisting = results.length,\r\n\r\n\t\t\t\t\t\t// Get initial elements from seed or context\r\n\t\t\t\t\t\telems = seed || multipleContexts( selector || \"*\", context.nodeType ? [ context ] : context, [] ),\r\n\r\n\t\t\t\t\t\t// Prefilter to get matcher input, preserving a map for seed-results synchronization\r\n\t\t\t\t\t\tmatcherIn = preFilter && ( seed || !selector ) ?\r\n\t\t\t\t\t\t\tcondense( elems, preMap, preFilter, context, xml ) :\r\n\t\t\t\t\t\t\telems,\r\n\r\n\t\t\t\t\t\tmatcherOut = matcher ?\r\n\t\t\t\t\t\t\t// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,\r\n\t\t\t\t\t\t\tpostFinder || ( seed ? preFilter : preexisting || postFilter ) ?\r\n\r\n\t\t\t\t\t\t\t\t// ...intermediate processing is necessary\r\n\t\t\t\t\t\t\t\t[] :\r\n\r\n\t\t\t\t\t\t\t\t// ...otherwise use results directly\r\n\t\t\t\t\t\t\t\tresults :\r\n\t\t\t\t\t\t\tmatcherIn;\r\n\r\n\t\t\t\t\t// Find primary matches\r\n\t\t\t\t\tif ( matcher ) {\r\n\t\t\t\t\t\tmatcher( matcherIn, matcherOut, context, xml );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Apply postFilter\r\n\t\t\t\t\tif ( postFilter ) {\r\n\t\t\t\t\t\ttemp = condense( matcherOut, postMap );\r\n\t\t\t\t\t\tpostFilter( temp, [], context, xml );\r\n\r\n\t\t\t\t\t\t// Un-match failing elements by moving them back to matcherIn\r\n\t\t\t\t\t\ti = temp.length;\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\tif ( (elem = temp[i]) ) {\r\n\t\t\t\t\t\t\t\tmatcherOut[ postMap[i] ] = !(matcherIn[ postMap[i] ] = elem);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t\tif ( postFinder || preFilter ) {\r\n\t\t\t\t\t\t\tif ( postFinder ) {\r\n\t\t\t\t\t\t\t\t// Get the final matcherOut by condensing this intermediate into postFinder contexts\r\n\t\t\t\t\t\t\t\ttemp = [];\r\n\t\t\t\t\t\t\t\ti = matcherOut.length;\r\n\t\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\t\tif ( (elem = matcherOut[i]) ) {\r\n\t\t\t\t\t\t\t\t\t\t// Restore matcherIn since elem is not yet a final match\r\n\t\t\t\t\t\t\t\t\t\ttemp.push( (matcherIn[i] = elem) );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tpostFinder( null, (matcherOut = []), temp, xml );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Move matched elements from seed to results to keep them synchronized\r\n\t\t\t\t\t\t\ti = matcherOut.length;\r\n\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\tif ( (elem = matcherOut[i]) &&\r\n\t\t\t\t\t\t\t\t\t(temp = postFinder ? indexOf( seed, elem ) : preMap[i]) > -1 ) {\r\n\r\n\t\t\t\t\t\t\t\t\tseed[temp] = !(results[temp] = elem);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Add elements to results, through postFinder if defined\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmatcherOut = condense(\r\n\t\t\t\t\t\t\tmatcherOut === results ?\r\n\t\t\t\t\t\t\t\tmatcherOut.splice( preexisting, matcherOut.length ) :\r\n\t\t\t\t\t\t\t\tmatcherOut\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t\tif ( postFinder ) {\r\n\t\t\t\t\t\t\tpostFinder( null, results, matcherOut, xml );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpush.apply( results, matcherOut );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tfunction matcherFromTokens( tokens ) {\r\n\t\t\t\tvar checkContext, matcher, j,\r\n\t\t\t\t\tlen = tokens.length,\r\n\t\t\t\t\tleadingRelative = Expr.relative[ tokens[0].type ],\r\n\t\t\t\t\timplicitRelative = leadingRelative || Expr.relative[\" \"],\r\n\t\t\t\t\ti = leadingRelative ? 1 : 0,\r\n\r\n\t\t\t\t\t// The foundational matcher ensures that elements are reachable from top-level context(s)\r\n\t\t\t\t\tmatchContext = addCombinator( function( elem ) {\r\n\t\t\t\t\t\treturn elem === checkContext;\r\n\t\t\t\t\t}, implicitRelative, true ),\r\n\t\t\t\t\tmatchAnyContext = addCombinator( function( elem ) {\r\n\t\t\t\t\t\treturn indexOf( checkContext, elem ) > -1;\r\n\t\t\t\t\t}, implicitRelative, true ),\r\n\t\t\t\t\tmatchers = [ function( elem, context, xml ) {\r\n\t\t\t\t\t\tvar ret = ( !leadingRelative && ( xml || context !== outermostContext ) ) || (\r\n\t\t\t\t\t\t\t\t(checkContext = context).nodeType ?\r\n\t\t\t\t\t\t\t\t\tmatchContext( elem, context, xml ) :\r\n\t\t\t\t\t\t\t\t\tmatchAnyContext( elem, context, xml ) );\r\n\t\t\t\t\t\t// Avoid hanging onto element (issue #299)\r\n\t\t\t\t\t\tcheckContext = null;\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t} ];\r\n\r\n\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\tif ( (matcher = Expr.relative[ tokens[i].type ]) ) {\r\n\t\t\t\t\t\tmatchers = [ addCombinator(elementMatcher( matchers ), matcher) ];\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmatcher = Expr.filter[ tokens[i].type ].apply( null, tokens[i].matches );\r\n\r\n\t\t\t\t\t\t// Return special upon seeing a positional matcher\r\n\t\t\t\t\t\tif ( matcher[ expando ] ) {\r\n\t\t\t\t\t\t\t// Find the next relative operator (if any) for proper handling\r\n\t\t\t\t\t\t\tj = ++i;\r\n\t\t\t\t\t\t\tfor ( ; j < len; j++ ) {\r\n\t\t\t\t\t\t\t\tif ( Expr.relative[ tokens[j].type ] ) {\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn setMatcher(\r\n\t\t\t\t\t\t\t\ti > 1 && elementMatcher( matchers ),\r\n\t\t\t\t\t\t\t\ti > 1 && toSelector(\r\n\t\t\t\t\t\t\t\t\t// If the preceding token was a descendant combinator, insert an implicit any-element `*`\r\n\t\t\t\t\t\t\t\t\ttokens.slice( 0, i - 1 ).concat({ value: tokens[ i - 2 ].type === \" \" ? \"*\" : \"\" })\r\n\t\t\t\t\t\t\t\t).replace( rtrim, \"$1\" ),\r\n\t\t\t\t\t\t\t\tmatcher,\r\n\t\t\t\t\t\t\t\ti < j && matcherFromTokens( tokens.slice( i, j ) ),\r\n\t\t\t\t\t\t\t\tj < len && matcherFromTokens( (tokens = tokens.slice( j )) ),\r\n\t\t\t\t\t\t\t\tj < len && toSelector( tokens )\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmatchers.push( matcher );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn elementMatcher( matchers );\r\n\t\t\t}\r\n\r\n\t\t\tfunction matcherFromGroupMatchers( elementMatchers, setMatchers ) {\r\n\t\t\t\tvar bySet = setMatchers.length > 0,\r\n\t\t\t\t\tbyElement = elementMatchers.length > 0,\r\n\t\t\t\t\tsuperMatcher = function( seed, context, xml, results, outermost ) {\r\n\t\t\t\t\t\tvar elem, j, matcher,\r\n\t\t\t\t\t\t\tmatchedCount = 0,\r\n\t\t\t\t\t\t\ti = \"0\",\r\n\t\t\t\t\t\t\tunmatched = seed && [],\r\n\t\t\t\t\t\t\tsetMatched = [],\r\n\t\t\t\t\t\t\tcontextBackup = outermostContext,\r\n\t\t\t\t\t\t\t// We must always have either seed elements or outermost context\r\n\t\t\t\t\t\t\telems = seed || byElement && Expr.find[\"TAG\"]( \"*\", outermost ),\r\n\t\t\t\t\t\t\t// Use integer dirruns iff this is the outermost matcher\r\n\t\t\t\t\t\t\tdirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1),\r\n\t\t\t\t\t\t\tlen = elems.length;\r\n\r\n\t\t\t\t\t\tif ( outermost ) {\r\n\t\t\t\t\t\t\toutermostContext = context === document || context || outermost;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Add elements passing elementMatchers directly to results\r\n\t\t\t\t\t\t// Support: IE<9, Safari\r\n\t\t\t\t\t\t// Tolerate NodeList properties (IE: \"length\"; Safari: <number>) matching elements by id\r\n\t\t\t\t\t\tfor ( ; i !== len && (elem = elems[i]) != null; i++ ) {\r\n\t\t\t\t\t\t\tif ( byElement && elem ) {\r\n\t\t\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\t\t\tif ( !context && elem.ownerDocument !== document ) {\r\n\t\t\t\t\t\t\t\t\tsetDocument( elem );\r\n\t\t\t\t\t\t\t\t\txml = !documentIsHTML;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\twhile ( (matcher = elementMatchers[j++]) ) {\r\n\t\t\t\t\t\t\t\t\tif ( matcher( elem, context || document, xml) ) {\r\n\t\t\t\t\t\t\t\t\t\tresults.push( elem );\r\n\t\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif ( outermost ) {\r\n\t\t\t\t\t\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Track unmatched elements for set filters\r\n\t\t\t\t\t\t\tif ( bySet ) {\r\n\t\t\t\t\t\t\t\t// They will have gone through all possible matchers\r\n\t\t\t\t\t\t\t\tif ( (elem = !matcher && elem) ) {\r\n\t\t\t\t\t\t\t\t\tmatchedCount--;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Lengthen the array for every element, matched or not\r\n\t\t\t\t\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t\t\t\t\tunmatched.push( elem );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// `i` is now the count of elements visited above, and adding it to `matchedCount`\r\n\t\t\t\t\t\t// makes the latter nonnegative.\r\n\t\t\t\t\t\tmatchedCount += i;\r\n\r\n\t\t\t\t\t\t// Apply set filters to unmatched elements\r\n\t\t\t\t\t\t// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`\r\n\t\t\t\t\t\t// equals `i`), unless we didn't visit _any_ elements in the above loop because we have\r\n\t\t\t\t\t\t// no element matchers and no seed.\r\n\t\t\t\t\t\t// Incrementing an initially-string \"0\" `i` allows `i` to remain a string only in that\r\n\t\t\t\t\t\t// case, which will result in a \"00\" `matchedCount` that differs from `i` but is also\r\n\t\t\t\t\t\t// numerically zero.\r\n\t\t\t\t\t\tif ( bySet && i !== matchedCount ) {\r\n\t\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\t\twhile ( (matcher = setMatchers[j++]) ) {\r\n\t\t\t\t\t\t\t\tmatcher( unmatched, setMatched, context, xml );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tif ( seed ) {\r\n\t\t\t\t\t\t\t\t// Reintegrate element matches to eliminate the need for sorting\r\n\t\t\t\t\t\t\t\tif ( matchedCount > 0 ) {\r\n\t\t\t\t\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\t\t\t\t\tif ( !(unmatched[i] || setMatched[i]) ) {\r\n\t\t\t\t\t\t\t\t\t\t\tsetMatched[i] = pop.call( results );\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t// Discard index placeholder values to get only actual matches\r\n\t\t\t\t\t\t\t\tsetMatched = condense( setMatched );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Add matches to results\r\n\t\t\t\t\t\t\tpush.apply( results, setMatched );\r\n\r\n\t\t\t\t\t\t\t// Seedless set matches succeeding multiple successful matchers stipulate sorting\r\n\t\t\t\t\t\t\tif ( outermost && !seed && setMatched.length > 0 &&\r\n\t\t\t\t\t\t\t\t( matchedCount + setMatchers.length ) > 1 ) {\r\n\r\n\t\t\t\t\t\t\t\tSizzle.uniqueSort( results );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Override manipulation of globals by nested matchers\r\n\t\t\t\t\t\tif ( outermost ) {\r\n\t\t\t\t\t\t\tdirruns = dirrunsUnique;\r\n\t\t\t\t\t\t\toutermostContext = contextBackup;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn unmatched;\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\treturn bySet ?\r\n\t\t\t\t\tmarkFunction( superMatcher ) :\r\n\t\t\t\t\tsuperMatcher;\r\n\t\t\t}\r\n\r\n\t\t\tcompile = Sizzle.compile = function( selector, match /* Internal Use Only */ ) {\r\n\t\t\t\tvar i,\r\n\t\t\t\t\tsetMatchers = [],\r\n\t\t\t\t\telementMatchers = [],\r\n\t\t\t\t\tcached = compilerCache[ selector + \" \" ];\r\n\r\n\t\t\t\tif ( !cached ) {\r\n\t\t\t\t\t// Generate a function of recursive functions that can be used to check each element\r\n\t\t\t\t\tif ( !match ) {\r\n\t\t\t\t\t\tmatch = tokenize( selector );\r\n\t\t\t\t\t}\r\n\t\t\t\t\ti = match.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\tcached = matcherFromTokens( match[i] );\r\n\t\t\t\t\t\tif ( cached[ expando ] ) {\r\n\t\t\t\t\t\t\tsetMatchers.push( cached );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telementMatchers.push( cached );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Cache the compiled function\r\n\t\t\t\t\tcached = compilerCache( selector, matcherFromGroupMatchers( elementMatchers, setMatchers ) );\r\n\r\n\t\t\t\t\t// Save selector and tokenization\r\n\t\t\t\t\tcached.selector = selector;\r\n\t\t\t\t}\r\n\t\t\t\treturn cached;\r\n\t\t\t};\r\n\r\n\t\t\t/**\r\n\t\t\t * A low-level selection function that works with Sizzle's compiled\r\n\t\t\t *  selector functions\r\n\t\t\t * @param {String|Function} selector A selector or a pre-compiled\r\n\t\t\t *  selector function built with Sizzle.compile\r\n\t\t\t * @param {Element} context\r\n\t\t\t * @param {Array} [results]\r\n\t\t\t * @param {Array} [seed] A set of elements to match against\r\n\t\t\t */\r\n\t\t\tselect = Sizzle.select = function( selector, context, results, seed ) {\r\n\t\t\t\tvar i, tokens, token, type, find,\r\n\t\t\t\t\tcompiled = typeof selector === \"function\" && selector,\r\n\t\t\t\t\tmatch = !seed && tokenize( (selector = compiled.selector || selector) );\r\n\r\n\t\t\t\tresults = results || [];\r\n\r\n\t\t\t\t// Try to minimize operations if there is only one selector in the list and no seed\r\n\t\t\t\t// (the latter of which guarantees us context)\r\n\t\t\t\tif ( match.length === 1 ) {\r\n\r\n\t\t\t\t\t// Reduce context if the leading compound selector is an ID\r\n\t\t\t\t\ttokens = match[0] = match[0].slice( 0 );\r\n\t\t\t\t\tif ( tokens.length > 2 && (token = tokens[0]).type === \"ID\" &&\r\n\t\t\t\t\t\tsupport.getById && context.nodeType === 9 && documentIsHTML &&\r\n\t\t\t\t\t\tExpr.relative[ tokens[1].type ] ) {\r\n\r\n\t\t\t\t\t\tcontext = ( Expr.find[\"ID\"]( token.matches[0].replace(runescape, funescape), context ) || [] )[0];\r\n\t\t\t\t\t\tif ( !context ) {\r\n\t\t\t\t\t\t\treturn results;\r\n\r\n\t\t\t\t\t\t\t// Precompiled matchers will still verify ancestry, so step up a level\r\n\t\t\t\t\t\t} else if ( compiled ) {\r\n\t\t\t\t\t\t\tcontext = context.parentNode;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tselector = selector.slice( tokens.shift().value.length );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Fetch a seed set for right-to-left matching\r\n\t\t\t\t\ti = matchExpr[\"needsContext\"].test( selector ) ? 0 : tokens.length;\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\ttoken = tokens[i];\r\n\r\n\t\t\t\t\t\t// Abort if we hit a combinator\r\n\t\t\t\t\t\tif ( Expr.relative[ (type = token.type) ] ) {\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( (find = Expr.find[ type ]) ) {\r\n\t\t\t\t\t\t\t// Search, expanding context for leading sibling combinators\r\n\t\t\t\t\t\t\tif ( (seed = find(\r\n\t\t\t\t\t\t\t\t\ttoken.matches[0].replace( runescape, funescape ),\r\n\t\t\t\t\t\t\t\t\trsibling.test( tokens[0].type ) && testContext( context.parentNode ) || context\r\n\t\t\t\t\t\t\t\t)) ) {\r\n\r\n\t\t\t\t\t\t\t\t// If seed is empty or no tokens remain, we can return early\r\n\t\t\t\t\t\t\t\ttokens.splice( i, 1 );\r\n\t\t\t\t\t\t\t\tselector = seed.length && toSelector( tokens );\r\n\t\t\t\t\t\t\t\tif ( !selector ) {\r\n\t\t\t\t\t\t\t\t\tpush.apply( results, seed );\r\n\t\t\t\t\t\t\t\t\treturn results;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Compile and execute a filtering function if one is not provided\r\n\t\t\t\t// Provide `match` to avoid retokenization if we modified the selector above\r\n\t\t\t\t( compiled || compile( selector, match ) )(\r\n\t\t\t\t\tseed,\r\n\t\t\t\t\tcontext,\r\n\t\t\t\t\t!documentIsHTML,\r\n\t\t\t\t\tresults,\r\n\t\t\t\t\t!context || rsibling.test( selector ) && testContext( context.parentNode ) || context\r\n\t\t\t\t);\r\n\t\t\t\treturn results;\r\n\t\t\t};\r\n\r\n// One-time assignments\r\n\r\n// Sort stability\r\n\t\t\tsupport.sortStable = expando.split(\"\").sort( sortOrder ).join(\"\") === expando;\r\n\r\n// Support: Chrome 14-35+\r\n// Always assume duplicates if they aren't passed to the comparison function\r\n\t\t\tsupport.detectDuplicates = !!hasDuplicate;\r\n\r\n// Initialize against the default document\r\n\t\t\tsetDocument();\r\n\r\n// Support: Webkit<537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)\r\n// Detached nodes confoundingly follow *each other*\r\n\t\t\tsupport.sortDetached = assert(function( div1 ) {\r\n\t\t\t\t// Should return 1, but returns 4 (following)\r\n\t\t\t\treturn div1.compareDocumentPosition( document.createElement(\"div\") ) & 1;\r\n\t\t\t});\r\n\r\n// Support: IE<8\r\n// Prevent attribute/property \"interpolation\"\r\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\r\n\t\t\tif ( !assert(function( div ) {\r\n\t\t\t\t\tdiv.innerHTML = \"<a href='#'></a>\";\r\n\t\t\t\t\treturn div.firstChild.getAttribute(\"href\") === \"#\" ;\r\n\t\t\t\t}) ) {\r\n\t\t\t\taddHandle( \"type|href|height|width\", function( elem, name, isXML ) {\r\n\t\t\t\t\tif ( !isXML ) {\r\n\t\t\t\t\t\treturn elem.getAttribute( name, name.toLowerCase() === \"type\" ? 1 : 2 );\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n// Support: IE<9\r\n// Use defaultValue in place of getAttribute(\"value\")\r\n\t\t\tif ( !support.attributes || !assert(function( div ) {\r\n\t\t\t\t\tdiv.innerHTML = \"<input/>\";\r\n\t\t\t\t\tdiv.firstChild.setAttribute( \"value\", \"\" );\r\n\t\t\t\t\treturn div.firstChild.getAttribute( \"value\" ) === \"\";\r\n\t\t\t\t}) ) {\r\n\t\t\t\taddHandle( \"value\", function( elem, name, isXML ) {\r\n\t\t\t\t\tif ( !isXML && elem.nodeName.toLowerCase() === \"input\" ) {\r\n\t\t\t\t\t\treturn elem.defaultValue;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n// Support: IE<9\r\n// Use getAttributeNode to fetch booleans when getAttribute lies\r\n\t\t\tif ( !assert(function( div ) {\r\n\t\t\t\t\treturn div.getAttribute(\"disabled\") == null;\r\n\t\t\t\t}) ) {\r\n\t\t\t\taddHandle( booleans, function( elem, name, isXML ) {\r\n\t\t\t\t\tvar val;\r\n\t\t\t\t\tif ( !isXML ) {\r\n\t\t\t\t\t\treturn elem[ name ] === true ? name.toLowerCase() :\r\n\t\t\t\t\t\t\t(val = elem.getAttributeNode( name )) && val.specified ?\r\n\t\t\t\t\t\t\t\tval.value :\r\n\t\t\t\t\t\t\t\tnull;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn Sizzle;\r\n\r\n\t\t})( window );\r\n\r\n\r\n\r\n\tjQuery.find = Sizzle;\r\n\tjQuery.expr = Sizzle.selectors;\r\n\tjQuery.expr[ \":\" ] = jQuery.expr.pseudos;\r\n\tjQuery.uniqueSort = jQuery.unique = Sizzle.uniqueSort;\r\n\tjQuery.text = Sizzle.getText;\r\n\tjQuery.isXMLDoc = Sizzle.isXML;\r\n\tjQuery.contains = Sizzle.contains;\r\n\r\n\r\n\r\n\tvar dir = function( elem, dir, until ) {\r\n\t\tvar matched = [],\r\n\t\t\ttruncate = until !== undefined;\r\n\r\n\t\twhile ( ( elem = elem[ dir ] ) && elem.nodeType !== 9 ) {\r\n\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\tif ( truncate && jQuery( elem ).is( until ) ) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tmatched.push( elem );\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn matched;\r\n\t};\r\n\r\n\r\n\tvar siblings = function( n, elem ) {\r\n\t\tvar matched = [];\r\n\r\n\t\tfor ( ; n; n = n.nextSibling ) {\r\n\t\t\tif ( n.nodeType === 1 && n !== elem ) {\r\n\t\t\t\tmatched.push( n );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn matched;\r\n\t};\r\n\r\n\r\n\tvar rneedsContext = jQuery.expr.match.needsContext;\r\n\r\n\tvar rsingleTag = ( /^<([\\w-]+)\\s*\\/?>(?:<\\/\\1>|)$/ );\r\n\r\n\r\n\r\n\tvar risSimple = /^.[^:#\\[\\.,]*$/;\r\n\r\n// Implement the identical functionality for filter and not\r\n\tfunction winnow( elements, qualifier, not ) {\r\n\t\tif ( jQuery.isFunction( qualifier ) ) {\r\n\t\t\treturn jQuery.grep( elements, function( elem, i ) {\r\n\t\t\t\t/* jshint -W018 */\r\n\t\t\t\treturn !!qualifier.call( elem, i, elem ) !== not;\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tif ( qualifier.nodeType ) {\r\n\t\t\treturn jQuery.grep( elements, function( elem ) {\r\n\t\t\t\treturn ( elem === qualifier ) !== not;\r\n\t\t\t} );\r\n\r\n\t\t}\r\n\r\n\t\tif ( typeof qualifier === \"string\" ) {\r\n\t\t\tif ( risSimple.test( qualifier ) ) {\r\n\t\t\t\treturn jQuery.filter( qualifier, elements, not );\r\n\t\t\t}\r\n\r\n\t\t\tqualifier = jQuery.filter( qualifier, elements );\r\n\t\t}\r\n\r\n\t\treturn jQuery.grep( elements, function( elem ) {\r\n\t\t\treturn ( jQuery.inArray( elem, qualifier ) > -1 ) !== not;\r\n\t\t} );\r\n\t}\r\n\r\n\tjQuery.filter = function( expr, elems, not ) {\r\n\t\tvar elem = elems[ 0 ];\r\n\r\n\t\tif ( not ) {\r\n\t\t\texpr = \":not(\" + expr + \")\";\r\n\t\t}\r\n\r\n\t\treturn elems.length === 1 && elem.nodeType === 1 ?\r\n\t\t\tjQuery.find.matchesSelector( elem, expr ) ? [ elem ] : [] :\r\n\t\t\tjQuery.find.matches( expr, jQuery.grep( elems, function( elem ) {\r\n\t\t\t\treturn elem.nodeType === 1;\r\n\t\t\t} ) );\r\n\t};\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tfind: function( selector ) {\r\n\t\t\tvar i,\r\n\t\t\t\tret = [],\r\n\t\t\t\tself = this,\r\n\t\t\t\tlen = self.length;\r\n\r\n\t\t\tif ( typeof selector !== \"string\" ) {\r\n\t\t\t\treturn this.pushStack( jQuery( selector ).filter( function() {\r\n\t\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\t\tif ( jQuery.contains( self[ i ], this ) ) {\r\n\t\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} ) );\r\n\t\t\t}\r\n\r\n\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\tjQuery.find( selector, self[ i ], ret );\r\n\t\t\t}\r\n\r\n\t\t\t// Needed because $( selector, context ) becomes $( context ).find( selector )\r\n\t\t\tret = this.pushStack( len > 1 ? jQuery.unique( ret ) : ret );\r\n\t\t\tret.selector = this.selector ? this.selector + \" \" + selector : selector;\r\n\t\t\treturn ret;\r\n\t\t},\r\n\t\tfilter: function( selector ) {\r\n\t\t\treturn this.pushStack( winnow( this, selector || [], false ) );\r\n\t\t},\r\n\t\tnot: function( selector ) {\r\n\t\t\treturn this.pushStack( winnow( this, selector || [], true ) );\r\n\t\t},\r\n\t\tis: function( selector ) {\r\n\t\t\treturn !!winnow(\r\n\t\t\t\tthis,\r\n\r\n\t\t\t\t// If this is a positional/relative selector, check membership in the returned set\r\n\t\t\t\t// so $(\"p:first\").is(\"p:last\") won't return true for a doc with two \"p\".\r\n\t\t\t\ttypeof selector === \"string\" && rneedsContext.test( selector ) ?\r\n\t\t\t\t\tjQuery( selector ) :\r\n\t\t\t\tselector || [],\r\n\t\t\t\tfalse\r\n\t\t\t).length;\r\n\t\t}\r\n\t} );\r\n\r\n\r\n// Initialize a jQuery object\r\n\r\n\r\n// A central reference to the root jQuery(document)\r\n\tvar rootjQuery,\r\n\r\n\t\t// A simple way to check for HTML strings\r\n\t\t// Prioritize #id over <tag> to avoid XSS via location.hash (#9521)\r\n\t\t// Strict HTML recognition (#11290: must start with <)\r\n\t\trquickExpr = /^(?:\\s*(<[\\w\\W]+>)[^>]*|#([\\w-]*))$/,\r\n\r\n\t\tinit = jQuery.fn.init = function( selector, context, root ) {\r\n\t\t\tvar match, elem;\r\n\r\n\t\t\t// HANDLE: $(\"\"), $(null), $(undefined), $(false)\r\n\t\t\tif ( !selector ) {\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\r\n\t\t\t// init accepts an alternate rootjQuery\r\n\t\t\t// so migrate can support jQuery.sub (gh-2101)\r\n\t\t\troot = root || rootjQuery;\r\n\r\n\t\t\t// Handle HTML strings\r\n\t\t\tif ( typeof selector === \"string\" ) {\r\n\t\t\t\tif ( selector.charAt( 0 ) === \"<\" &&\r\n\t\t\t\t\tselector.charAt( selector.length - 1 ) === \">\" &&\r\n\t\t\t\t\tselector.length >= 3 ) {\r\n\r\n\t\t\t\t\t// Assume that strings that start and end with <> are HTML and skip the regex check\r\n\t\t\t\t\tmatch = [ null, selector, null ];\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmatch = rquickExpr.exec( selector );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Match html or make sure no context is specified for #id\r\n\t\t\t\tif ( match && ( match[ 1 ] || !context ) ) {\r\n\r\n\t\t\t\t\t// HANDLE: $(html) -> $(array)\r\n\t\t\t\t\tif ( match[ 1 ] ) {\r\n\t\t\t\t\t\tcontext = context instanceof jQuery ? context[ 0 ] : context;\r\n\r\n\t\t\t\t\t\t// scripts is true for back-compat\r\n\t\t\t\t\t\t// Intentionally let the error be thrown if parseHTML is not present\r\n\t\t\t\t\t\tjQuery.merge( this, jQuery.parseHTML(\r\n\t\t\t\t\t\t\tmatch[ 1 ],\r\n\t\t\t\t\t\t\tcontext && context.nodeType ? context.ownerDocument || context : document,\r\n\t\t\t\t\t\t\ttrue\r\n\t\t\t\t\t\t) );\r\n\r\n\t\t\t\t\t\t// HANDLE: $(html, props)\r\n\t\t\t\t\t\tif ( rsingleTag.test( match[ 1 ] ) && jQuery.isPlainObject( context ) ) {\r\n\t\t\t\t\t\t\tfor ( match in context ) {\r\n\r\n\t\t\t\t\t\t\t\t// Properties of context are called as methods if possible\r\n\t\t\t\t\t\t\t\tif ( jQuery.isFunction( this[ match ] ) ) {\r\n\t\t\t\t\t\t\t\t\tthis[ match ]( context[ match ] );\r\n\r\n\t\t\t\t\t\t\t\t\t// ...and otherwise set as attributes\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthis.attr( match, context[ match ] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn this;\r\n\r\n\t\t\t\t\t\t// HANDLE: $(#id)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\telem = document.getElementById( match[ 2 ] );\r\n\r\n\t\t\t\t\t\t// Check parentNode to catch when Blackberry 4.6 returns\r\n\t\t\t\t\t\t// nodes that are no longer in the document #6963\r\n\t\t\t\t\t\tif ( elem && elem.parentNode ) {\r\n\r\n\t\t\t\t\t\t\t// Handle the case where IE and Opera return items\r\n\t\t\t\t\t\t\t// by name instead of ID\r\n\t\t\t\t\t\t\tif ( elem.id !== match[ 2 ] ) {\r\n\t\t\t\t\t\t\t\treturn rootjQuery.find( selector );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Otherwise, we inject the element directly into the jQuery object\r\n\t\t\t\t\t\t\tthis.length = 1;\r\n\t\t\t\t\t\t\tthis[ 0 ] = elem;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.context = document;\r\n\t\t\t\t\t\tthis.selector = selector;\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// HANDLE: $(expr, $(...))\r\n\t\t\t\t} else if ( !context || context.jquery ) {\r\n\t\t\t\t\treturn ( context || root ).find( selector );\r\n\r\n\t\t\t\t\t// HANDLE: $(expr, context)\r\n\t\t\t\t\t// (which is just equivalent to: $(context).find(expr)\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.constructor( context ).find( selector );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// HANDLE: $(DOMElement)\r\n\t\t\t} else if ( selector.nodeType ) {\r\n\t\t\t\tthis.context = this[ 0 ] = selector;\r\n\t\t\t\tthis.length = 1;\r\n\t\t\t\treturn this;\r\n\r\n\t\t\t\t// HANDLE: $(function)\r\n\t\t\t\t// Shortcut for document ready\r\n\t\t\t} else if ( jQuery.isFunction( selector ) ) {\r\n\t\t\t\treturn typeof root.ready !== \"undefined\" ?\r\n\t\t\t\t\troot.ready( selector ) :\r\n\r\n\t\t\t\t\t// Execute immediately if ready is not present\r\n\t\t\t\t\tselector( jQuery );\r\n\t\t\t}\r\n\r\n\t\t\tif ( selector.selector !== undefined ) {\r\n\t\t\t\tthis.selector = selector.selector;\r\n\t\t\t\tthis.context = selector.context;\r\n\t\t\t}\r\n\r\n\t\t\treturn jQuery.makeArray( selector, this );\r\n\t\t};\r\n\r\n// Give the init function the jQuery prototype for later instantiation\r\n\tinit.prototype = jQuery.fn;\r\n\r\n// Initialize central reference\r\n\trootjQuery = jQuery( document );\r\n\r\n\r\n\tvar rparentsprev = /^(?:parents|prev(?:Until|All))/,\r\n\r\n\t\t// methods guaranteed to produce a unique set when starting from a unique set\r\n\t\tguaranteedUnique = {\r\n\t\t\tchildren: true,\r\n\t\t\tcontents: true,\r\n\t\t\tnext: true,\r\n\t\t\tprev: true\r\n\t\t};\r\n\r\n\tjQuery.fn.extend( {\r\n\t\thas: function( target ) {\r\n\t\t\tvar i,\r\n\t\t\t\ttargets = jQuery( target, this ),\r\n\t\t\t\tlen = targets.length;\r\n\r\n\t\t\treturn this.filter( function() {\r\n\t\t\t\tfor ( i = 0; i < len; i++ ) {\r\n\t\t\t\t\tif ( jQuery.contains( this, targets[ i ] ) ) {\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tclosest: function( selectors, context ) {\r\n\t\t\tvar cur,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = this.length,\r\n\t\t\t\tmatched = [],\r\n\t\t\t\tpos = rneedsContext.test( selectors ) || typeof selectors !== \"string\" ?\r\n\t\t\t\t\tjQuery( selectors, context || this.context ) :\r\n\t\t\t\t\t0;\r\n\r\n\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\tfor ( cur = this[ i ]; cur && cur !== context; cur = cur.parentNode ) {\r\n\r\n\t\t\t\t\t// Always skip document fragments\r\n\t\t\t\t\tif ( cur.nodeType < 11 && ( pos ?\r\n\t\t\t\t\t\tpos.index( cur ) > -1 :\r\n\r\n\t\t\t\t\t\t\t// Don't pass non-elements to Sizzle\r\n\t\t\t\t\t\tcur.nodeType === 1 &&\r\n\t\t\t\t\t\tjQuery.find.matchesSelector( cur, selectors ) ) ) {\r\n\r\n\t\t\t\t\t\tmatched.push( cur );\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.pushStack( matched.length > 1 ? jQuery.uniqueSort( matched ) : matched );\r\n\t\t},\r\n\r\n\t\t// Determine the position of an element within\r\n\t\t// the matched set of elements\r\n\t\tindex: function( elem ) {\r\n\r\n\t\t\t// No argument, return index in parent\r\n\t\t\tif ( !elem ) {\r\n\t\t\t\treturn ( this[ 0 ] && this[ 0 ].parentNode ) ? this.first().prevAll().length : -1;\r\n\t\t\t}\r\n\r\n\t\t\t// index in selector\r\n\t\t\tif ( typeof elem === \"string\" ) {\r\n\t\t\t\treturn jQuery.inArray( this[ 0 ], jQuery( elem ) );\r\n\t\t\t}\r\n\r\n\t\t\t// Locate the position of the desired element\r\n\t\t\treturn jQuery.inArray(\r\n\r\n\t\t\t\t// If it receives a jQuery object, the first element is used\r\n\t\t\t\telem.jquery ? elem[ 0 ] : elem, this );\r\n\t\t},\r\n\r\n\t\tadd: function( selector, context ) {\r\n\t\t\treturn this.pushStack(\r\n\t\t\t\tjQuery.uniqueSort(\r\n\t\t\t\t\tjQuery.merge( this.get(), jQuery( selector, context ) )\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t},\r\n\r\n\t\taddBack: function( selector ) {\r\n\t\t\treturn this.add( selector == null ?\r\n\t\t\t\tthis.prevObject : this.prevObject.filter( selector )\r\n\t\t\t);\r\n\t\t}\r\n\t} );\r\n\r\n\tfunction sibling( cur, dir ) {\r\n\t\tdo {\r\n\t\t\tcur = cur[ dir ];\r\n\t\t} while ( cur && cur.nodeType !== 1 );\r\n\r\n\t\treturn cur;\r\n\t}\r\n\r\n\tjQuery.each( {\r\n\t\tparent: function( elem ) {\r\n\t\t\tvar parent = elem.parentNode;\r\n\t\t\treturn parent && parent.nodeType !== 11 ? parent : null;\r\n\t\t},\r\n\t\tparents: function( elem ) {\r\n\t\t\treturn dir( elem, \"parentNode\" );\r\n\t\t},\r\n\t\tparentsUntil: function( elem, i, until ) {\r\n\t\t\treturn dir( elem, \"parentNode\", until );\r\n\t\t},\r\n\t\tnext: function( elem ) {\r\n\t\t\treturn sibling( elem, \"nextSibling\" );\r\n\t\t},\r\n\t\tprev: function( elem ) {\r\n\t\t\treturn sibling( elem, \"previousSibling\" );\r\n\t\t},\r\n\t\tnextAll: function( elem ) {\r\n\t\t\treturn dir( elem, \"nextSibling\" );\r\n\t\t},\r\n\t\tprevAll: function( elem ) {\r\n\t\t\treturn dir( elem, \"previousSibling\" );\r\n\t\t},\r\n\t\tnextUntil: function( elem, i, until ) {\r\n\t\t\treturn dir( elem, \"nextSibling\", until );\r\n\t\t},\r\n\t\tprevUntil: function( elem, i, until ) {\r\n\t\t\treturn dir( elem, \"previousSibling\", until );\r\n\t\t},\r\n\t\tsiblings: function( elem ) {\r\n\t\t\treturn siblings( ( elem.parentNode || {} ).firstChild, elem );\r\n\t\t},\r\n\t\tchildren: function( elem ) {\r\n\t\t\treturn siblings( elem.firstChild );\r\n\t\t},\r\n\t\tcontents: function( elem ) {\r\n\t\t\treturn jQuery.nodeName( elem, \"iframe\" ) ?\r\n\t\t\telem.contentDocument || elem.contentWindow.document :\r\n\t\t\t\tjQuery.merge( [], elem.childNodes );\r\n\t\t}\r\n\t}, function( name, fn ) {\r\n\t\tjQuery.fn[ name ] = function( until, selector ) {\r\n\t\t\tvar ret = jQuery.map( this, fn, until );\r\n\r\n\t\t\tif ( name.slice( -5 ) !== \"Until\" ) {\r\n\t\t\t\tselector = until;\r\n\t\t\t}\r\n\r\n\t\t\tif ( selector && typeof selector === \"string\" ) {\r\n\t\t\t\tret = jQuery.filter( selector, ret );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this.length > 1 ) {\r\n\r\n\t\t\t\t// Remove duplicates\r\n\t\t\t\tif ( !guaranteedUnique[ name ] ) {\r\n\t\t\t\t\tret = jQuery.uniqueSort( ret );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reverse order for parents* and prev-derivatives\r\n\t\t\t\tif ( rparentsprev.test( name ) ) {\r\n\t\t\t\t\tret = ret.reverse();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this.pushStack( ret );\r\n\t\t};\r\n\t} );\r\n\tvar rnotwhite = ( /\\S+/g );\r\n\r\n\r\n\r\n// Convert String-formatted options into Object-formatted ones\r\n\tfunction createOptions( options ) {\r\n\t\tvar object = {};\r\n\t\tjQuery.each( options.match( rnotwhite ) || [], function( _, flag ) {\r\n\t\t\tobject[ flag ] = true;\r\n\t\t} );\r\n\t\treturn object;\r\n\t}\r\n\r\n\t/*\r\n\t * Create a callback list using the following parameters:\r\n\t *\r\n\t *\toptions: an optional list of space-separated options that will change how\r\n\t *\t\t\tthe callback list behaves or a more traditional option object\r\n\t *\r\n\t * By default a callback list will act like an event callback list and can be\r\n\t * \"fired\" multiple times.\r\n\t *\r\n\t * Possible options:\r\n\t *\r\n\t *\tonce:\t\t\twill ensure the callback list can only be fired once (like a Deferred)\r\n\t *\r\n\t *\tmemory:\t\t\twill keep track of previous values and will call any callback added\r\n\t *\t\t\t\t\tafter the list has been fired right away with the latest \"memorized\"\r\n\t *\t\t\t\t\tvalues (like a Deferred)\r\n\t *\r\n\t *\tunique:\t\t\twill ensure a callback can only be added once (no duplicate in the list)\r\n\t *\r\n\t *\tstopOnFalse:\tinterrupt callings when a callback returns false\r\n\t *\r\n\t */\r\n\tjQuery.Callbacks = function( options ) {\r\n\r\n\t\t// Convert options from String-formatted to Object-formatted if needed\r\n\t\t// (we check in cache first)\r\n\t\toptions = typeof options === \"string\" ?\r\n\t\t\tcreateOptions( options ) :\r\n\t\t\tjQuery.extend( {}, options );\r\n\r\n\t\tvar // Flag to know if list is currently firing\r\n\t\t\tfiring,\r\n\r\n\t\t\t// Last fire value for non-forgettable lists\r\n\t\t\tmemory,\r\n\r\n\t\t\t// Flag to know if list was already fired\r\n\t\t\tfired,\r\n\r\n\t\t\t// Flag to prevent firing\r\n\t\t\tlocked,\r\n\r\n\t\t\t// Actual callback list\r\n\t\t\tlist = [],\r\n\r\n\t\t\t// Queue of execution data for repeatable lists\r\n\t\t\tqueue = [],\r\n\r\n\t\t\t// Index of currently firing callback (modified by add/remove as needed)\r\n\t\t\tfiringIndex = -1,\r\n\r\n\t\t\t// Fire callbacks\r\n\t\t\tfire = function() {\r\n\r\n\t\t\t\t// Enforce single-firing\r\n\t\t\t\tlocked = options.once;\r\n\r\n\t\t\t\t// Execute callbacks for all pending executions,\r\n\t\t\t\t// respecting firingIndex overrides and runtime changes\r\n\t\t\t\tfired = firing = true;\r\n\t\t\t\tfor ( ; queue.length; firingIndex = -1 ) {\r\n\t\t\t\t\tmemory = queue.shift();\r\n\t\t\t\t\twhile ( ++firingIndex < list.length ) {\r\n\r\n\t\t\t\t\t\t// Run callback and check for early termination\r\n\t\t\t\t\t\tif ( list[ firingIndex ].apply( memory[ 0 ], memory[ 1 ] ) === false &&\r\n\t\t\t\t\t\t\toptions.stopOnFalse ) {\r\n\r\n\t\t\t\t\t\t\t// Jump to end and forget the data so .add doesn't re-fire\r\n\t\t\t\t\t\t\tfiringIndex = list.length;\r\n\t\t\t\t\t\t\tmemory = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Forget the data if we're done with it\r\n\t\t\t\tif ( !options.memory ) {\r\n\t\t\t\t\tmemory = false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfiring = false;\r\n\r\n\t\t\t\t// Clean up if we're done firing for good\r\n\t\t\t\tif ( locked ) {\r\n\r\n\t\t\t\t\t// Keep an empty list if we have data for future add calls\r\n\t\t\t\t\tif ( memory ) {\r\n\t\t\t\t\t\tlist = [];\r\n\r\n\t\t\t\t\t\t// Otherwise, this object is spent\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tlist = \"\";\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// Actual Callbacks object\r\n\t\t\tself = {\r\n\r\n\t\t\t\t// Add a callback or a collection of callbacks to the list\r\n\t\t\t\tadd: function() {\r\n\t\t\t\t\tif ( list ) {\r\n\r\n\t\t\t\t\t\t// If we have memory from a past run, we should fire after adding\r\n\t\t\t\t\t\tif ( memory && !firing ) {\r\n\t\t\t\t\t\t\tfiringIndex = list.length - 1;\r\n\t\t\t\t\t\t\tqueue.push( memory );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t( function add( args ) {\r\n\t\t\t\t\t\t\tjQuery.each( args, function( _, arg ) {\r\n\t\t\t\t\t\t\t\tif ( jQuery.isFunction( arg ) ) {\r\n\t\t\t\t\t\t\t\t\tif ( !options.unique || !self.has( arg ) ) {\r\n\t\t\t\t\t\t\t\t\t\tlist.push( arg );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else if ( arg && arg.length && jQuery.type( arg ) !== \"string\" ) {\r\n\r\n\t\t\t\t\t\t\t\t\t// Inspect recursively\r\n\t\t\t\t\t\t\t\t\tadd( arg );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t} )( arguments );\r\n\r\n\t\t\t\t\t\tif ( memory && !firing ) {\r\n\t\t\t\t\t\t\tfire();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Remove a callback from the list\r\n\t\t\t\tremove: function() {\r\n\t\t\t\t\tjQuery.each( arguments, function( _, arg ) {\r\n\t\t\t\t\t\tvar index;\r\n\t\t\t\t\t\twhile ( ( index = jQuery.inArray( arg, list, index ) ) > -1 ) {\r\n\t\t\t\t\t\t\tlist.splice( index, 1 );\r\n\r\n\t\t\t\t\t\t\t// Handle firing indexes\r\n\t\t\t\t\t\t\tif ( index <= firingIndex ) {\r\n\t\t\t\t\t\t\t\tfiringIndex--;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Check if a given callback is in the list.\r\n\t\t\t\t// If no argument is given, return whether or not list has callbacks attached.\r\n\t\t\t\thas: function( fn ) {\r\n\t\t\t\t\treturn fn ?\r\n\t\t\t\t\tjQuery.inArray( fn, list ) > -1 :\r\n\t\t\t\t\tlist.length > 0;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Remove all callbacks from the list\r\n\t\t\t\tempty: function() {\r\n\t\t\t\t\tif ( list ) {\r\n\t\t\t\t\t\tlist = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Disable .fire and .add\r\n\t\t\t\t// Abort any current/pending executions\r\n\t\t\t\t// Clear all callbacks and values\r\n\t\t\t\tdisable: function() {\r\n\t\t\t\t\tlocked = queue = [];\r\n\t\t\t\t\tlist = memory = \"\";\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tdisabled: function() {\r\n\t\t\t\t\treturn !list;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Disable .fire\r\n\t\t\t\t// Also disable .add unless we have memory (since it would have no effect)\r\n\t\t\t\t// Abort any pending executions\r\n\t\t\t\tlock: function() {\r\n\t\t\t\t\tlocked = true;\r\n\t\t\t\t\tif ( !memory ) {\r\n\t\t\t\t\t\tself.disable();\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\t\t\t\tlocked: function() {\r\n\t\t\t\t\treturn !!locked;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Call all callbacks with the given context and arguments\r\n\t\t\t\tfireWith: function( context, args ) {\r\n\t\t\t\t\tif ( !locked ) {\r\n\t\t\t\t\t\targs = args || [];\r\n\t\t\t\t\t\targs = [ context, args.slice ? args.slice() : args ];\r\n\t\t\t\t\t\tqueue.push( args );\r\n\t\t\t\t\t\tif ( !firing ) {\r\n\t\t\t\t\t\t\tfire();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// Call all the callbacks with the given arguments\r\n\t\t\t\tfire: function() {\r\n\t\t\t\t\tself.fireWith( this, arguments );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// To know if the callbacks have already been called at least once\r\n\t\t\t\tfired: function() {\r\n\t\t\t\t\treturn !!fired;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\treturn self;\r\n\t};\r\n\r\n\r\n\tjQuery.extend( {\r\n\r\n\t\tDeferred: function( func ) {\r\n\t\t\tvar tuples = [\r\n\r\n\t\t\t\t\t// action, add listener, listener list, final state\r\n\t\t\t\t\t[ \"resolve\", \"done\", jQuery.Callbacks( \"once memory\" ), \"resolved\" ],\r\n\t\t\t\t\t[ \"reject\", \"fail\", jQuery.Callbacks( \"once memory\" ), \"rejected\" ],\r\n\t\t\t\t\t[ \"notify\", \"progress\", jQuery.Callbacks( \"memory\" ) ]\r\n\t\t\t\t],\r\n\t\t\t\tstate = \"pending\",\r\n\t\t\t\tpromise = {\r\n\t\t\t\t\tstate: function() {\r\n\t\t\t\t\t\treturn state;\r\n\t\t\t\t\t},\r\n\t\t\t\t\talways: function() {\r\n\t\t\t\t\t\tdeferred.done( arguments ).fail( arguments );\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tthen: function( /* fnDone, fnFail, fnProgress */ ) {\r\n\t\t\t\t\t\tvar fns = arguments;\r\n\t\t\t\t\t\treturn jQuery.Deferred( function( newDefer ) {\r\n\t\t\t\t\t\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\t\t\t\t\t\tvar fn = jQuery.isFunction( fns[ i ] ) && fns[ i ];\r\n\r\n\t\t\t\t\t\t\t\t// deferred[ done | fail | progress ] for forwarding actions to newDefer\r\n\t\t\t\t\t\t\t\tdeferred[ tuple[ 1 ] ]( function() {\r\n\t\t\t\t\t\t\t\t\tvar returned = fn && fn.apply( this, arguments );\r\n\t\t\t\t\t\t\t\t\tif ( returned && jQuery.isFunction( returned.promise ) ) {\r\n\t\t\t\t\t\t\t\t\t\treturned.promise()\r\n\t\t\t\t\t\t\t\t\t\t\t.progress( newDefer.notify )\r\n\t\t\t\t\t\t\t\t\t\t\t.done( newDefer.resolve )\r\n\t\t\t\t\t\t\t\t\t\t\t.fail( newDefer.reject );\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tnewDefer[ tuple[ 0 ] + \"With\" ](\r\n\t\t\t\t\t\t\t\t\t\t\tthis === promise ? newDefer.promise() : this,\r\n\t\t\t\t\t\t\t\t\t\t\tfn ? [ returned ] : arguments\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t\tfns = null;\r\n\t\t\t\t\t\t} ).promise();\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Get a promise for this deferred\r\n\t\t\t\t\t// If obj is provided, the promise aspect is added to the object\r\n\t\t\t\t\tpromise: function( obj ) {\r\n\t\t\t\t\t\treturn obj != null ? jQuery.extend( obj, promise ) : promise;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdeferred = {};\r\n\r\n\t\t\t// Keep pipe for back-compat\r\n\t\t\tpromise.pipe = promise.then;\r\n\r\n\t\t\t// Add list-specific methods\r\n\t\t\tjQuery.each( tuples, function( i, tuple ) {\r\n\t\t\t\tvar list = tuple[ 2 ],\r\n\t\t\t\t\tstateString = tuple[ 3 ];\r\n\r\n\t\t\t\t// promise[ done | fail | progress ] = list.add\r\n\t\t\t\tpromise[ tuple[ 1 ] ] = list.add;\r\n\r\n\t\t\t\t// Handle state\r\n\t\t\t\tif ( stateString ) {\r\n\t\t\t\t\tlist.add( function() {\r\n\r\n\t\t\t\t\t\t// state = [ resolved | rejected ]\r\n\t\t\t\t\t\tstate = stateString;\r\n\r\n\t\t\t\t\t\t// [ reject_list | resolve_list ].disable; progress_list.lock\r\n\t\t\t\t\t}, tuples[ i ^ 1 ][ 2 ].disable, tuples[ 2 ][ 2 ].lock );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// deferred[ resolve | reject | notify ]\r\n\t\t\t\tdeferred[ tuple[ 0 ] ] = function() {\r\n\t\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ]( this === deferred ? promise : this, arguments );\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t};\r\n\t\t\t\tdeferred[ tuple[ 0 ] + \"With\" ] = list.fireWith;\r\n\t\t\t} );\r\n\r\n\t\t\t// Make the deferred a promise\r\n\t\t\tpromise.promise( deferred );\r\n\r\n\t\t\t// Call given func if any\r\n\t\t\tif ( func ) {\r\n\t\t\t\tfunc.call( deferred, deferred );\r\n\t\t\t}\r\n\r\n\t\t\t// All done!\r\n\t\t\treturn deferred;\r\n\t\t},\r\n\r\n\t\t// Deferred helper\r\n\t\twhen: function( subordinate /* , ..., subordinateN */ ) {\r\n\t\t\tvar i = 0,\r\n\t\t\t\tresolveValues = slice.call( arguments ),\r\n\t\t\t\tlength = resolveValues.length,\r\n\r\n\t\t\t\t// the count of uncompleted subordinates\r\n\t\t\t\tremaining = length !== 1 ||\r\n\t\t\t\t( subordinate && jQuery.isFunction( subordinate.promise ) ) ? length : 0,\r\n\r\n\t\t\t\t// the master Deferred.\r\n\t\t\t\t// If resolveValues consist of only a single Deferred, just use that.\r\n\t\t\t\tdeferred = remaining === 1 ? subordinate : jQuery.Deferred(),\r\n\r\n\t\t\t\t// Update function for both resolve and progress values\r\n\t\t\t\tupdateFunc = function( i, contexts, values ) {\r\n\t\t\t\t\treturn function( value ) {\r\n\t\t\t\t\t\tcontexts[ i ] = this;\r\n\t\t\t\t\t\tvalues[ i ] = arguments.length > 1 ? slice.call( arguments ) : value;\r\n\t\t\t\t\t\tif ( values === progressValues ) {\r\n\t\t\t\t\t\t\tdeferred.notifyWith( contexts, values );\r\n\r\n\t\t\t\t\t\t} else if ( !( --remaining ) ) {\r\n\t\t\t\t\t\t\tdeferred.resolveWith( contexts, values );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\r\n\t\t\t\tprogressValues, progressContexts, resolveContexts;\r\n\r\n\t\t\t// add listeners to Deferred subordinates; treat others as resolved\r\n\t\t\tif ( length > 1 ) {\r\n\t\t\t\tprogressValues = new Array( length );\r\n\t\t\t\tprogressContexts = new Array( length );\r\n\t\t\t\tresolveContexts = new Array( length );\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tif ( resolveValues[ i ] && jQuery.isFunction( resolveValues[ i ].promise ) ) {\r\n\t\t\t\t\t\tresolveValues[ i ].promise()\r\n\t\t\t\t\t\t\t.progress( updateFunc( i, progressContexts, progressValues ) )\r\n\t\t\t\t\t\t\t.done( updateFunc( i, resolveContexts, resolveValues ) )\r\n\t\t\t\t\t\t\t.fail( deferred.reject );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t--remaining;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// if we're not waiting on anything, resolve the master\r\n\t\t\tif ( !remaining ) {\r\n\t\t\t\tdeferred.resolveWith( resolveContexts, resolveValues );\r\n\t\t\t}\r\n\r\n\t\t\treturn deferred.promise();\r\n\t\t}\r\n\t} );\r\n\r\n\r\n// The deferred used on DOM ready\r\n\tvar readyList;\r\n\r\n\tjQuery.fn.ready = function( fn ) {\r\n\r\n\t\t// Add the callback\r\n\t\tjQuery.ready.promise().done( fn );\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\tjQuery.extend( {\r\n\r\n\t\t// Is the DOM ready to be used? Set to true once it occurs.\r\n\t\tisReady: false,\r\n\r\n\t\t// A counter to track how many items to wait for before\r\n\t\t// the ready event fires. See #6781\r\n\t\treadyWait: 1,\r\n\r\n\t\t// Hold (or release) the ready event\r\n\t\tholdReady: function( hold ) {\r\n\t\t\tif ( hold ) {\r\n\t\t\t\tjQuery.readyWait++;\r\n\t\t\t} else {\r\n\t\t\t\tjQuery.ready( true );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Handle when the DOM is ready\r\n\t\tready: function( wait ) {\r\n\r\n\t\t\t// Abort if there are pending holds or we're already ready\r\n\t\t\tif ( wait === true ? --jQuery.readyWait : jQuery.isReady ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Remember that the DOM is ready\r\n\t\t\tjQuery.isReady = true;\r\n\r\n\t\t\t// If a normal DOM Ready event fired, decrement, and wait if need be\r\n\t\t\tif ( wait !== true && --jQuery.readyWait > 0 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If there are functions bound, to execute\r\n\t\t\treadyList.resolveWith( document, [ jQuery ] );\r\n\r\n\t\t\t// Trigger any bound ready events\r\n\t\t\tif ( jQuery.fn.triggerHandler ) {\r\n\t\t\t\tjQuery( document ).triggerHandler( \"ready\" );\r\n\t\t\t\tjQuery( document ).off( \"ready\" );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\t/**\r\n\t * Clean-up method for dom ready events\r\n\t */\r\n\tfunction detach() {\r\n\t\tif ( document.addEventListener ) {\r\n\t\t\tdocument.removeEventListener( \"DOMContentLoaded\", completed );\r\n\t\t\twindow.removeEventListener( \"load\", completed );\r\n\r\n\t\t} else {\r\n\t\t\tdocument.detachEvent( \"onreadystatechange\", completed );\r\n\t\t\twindow.detachEvent( \"onload\", completed );\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * The ready event handler and self cleanup method\r\n\t */\r\n\tfunction completed() {\r\n\r\n\t\t// readyState === \"complete\" is good enough for us to call the dom ready in oldIE\r\n\t\tif ( document.addEventListener ||\r\n\t\t\twindow.event.type === \"load\" ||\r\n\t\t\tdocument.readyState === \"complete\" ) {\r\n\r\n\t\t\tdetach();\r\n\t\t\tjQuery.ready();\r\n\t\t}\r\n\t}\r\n\r\n\tjQuery.ready.promise = function( obj ) {\r\n\t\tif ( !readyList ) {\r\n\r\n\t\t\treadyList = jQuery.Deferred();\r\n\r\n\t\t\t// Catch cases where $(document).ready() is called\r\n\t\t\t// after the browser event has already occurred.\r\n\t\t\t// Support: IE6-10\r\n\t\t\t// Older IE sometimes signals \"interactive\" too soon\r\n\t\t\tif ( document.readyState === \"complete\" ||\r\n\t\t\t\t( document.readyState !== \"loading\" && !document.documentElement.doScroll ) ) {\r\n\r\n\t\t\t\t// Handle it asynchronously to allow scripts the opportunity to delay ready\r\n\t\t\t\twindow.setTimeout( jQuery.ready );\r\n\r\n\t\t\t\t// Standards-based browsers support DOMContentLoaded\r\n\t\t\t} else if ( document.addEventListener ) {\r\n\r\n\t\t\t\t// Use the handy event callback\r\n\t\t\t\tdocument.addEventListener( \"DOMContentLoaded\", completed );\r\n\r\n\t\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\t\twindow.addEventListener( \"load\", completed );\r\n\r\n\t\t\t\t// If IE event model is used\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Ensure firing before onload, maybe late but safe also for iframes\r\n\t\t\t\tdocument.attachEvent( \"onreadystatechange\", completed );\r\n\r\n\t\t\t\t// A fallback to window.onload, that will always work\r\n\t\t\t\twindow.attachEvent( \"onload\", completed );\r\n\r\n\t\t\t\t// If IE and not a frame\r\n\t\t\t\t// continually check to see if the document is ready\r\n\t\t\t\tvar top = false;\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttop = window.frameElement == null && document.documentElement;\r\n\t\t\t\t} catch ( e ) {}\r\n\r\n\t\t\t\tif ( top && top.doScroll ) {\r\n\t\t\t\t\t( function doScrollCheck() {\r\n\t\t\t\t\t\tif ( !jQuery.isReady ) {\r\n\r\n\t\t\t\t\t\t\ttry {\r\n\r\n\t\t\t\t\t\t\t\t// Use the trick by Diego Perini\r\n\t\t\t\t\t\t\t\t// http://javascript.nwbox.com/IEContentLoaded/\r\n\t\t\t\t\t\t\t\ttop.doScroll( \"left\" );\r\n\t\t\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\t\t\treturn window.setTimeout( doScrollCheck, 50 );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// detach all dom ready events\r\n\t\t\t\t\t\t\tdetach();\r\n\r\n\t\t\t\t\t\t\t// and execute any waiting functions\r\n\t\t\t\t\t\t\tjQuery.ready();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} )();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn readyList.promise( obj );\r\n\t};\r\n\r\n// Kick off the DOM ready check even if the user does not\r\n\tjQuery.ready.promise();\r\n\r\n\r\n\r\n\r\n// Support: IE<9\r\n// Iteration over object's inherited properties before its own\r\n\tvar i;\r\n\tfor ( i in jQuery( support ) ) {\r\n\t\tbreak;\r\n\t}\r\n\tsupport.ownFirst = i === \"0\";\r\n\r\n// Note: most support tests are defined in their respective modules.\r\n// false until the test is run\r\n\tsupport.inlineBlockNeedsLayout = false;\r\n\r\n// Execute ASAP in case we need to set body.style.zoom\r\n\tjQuery( function() {\r\n\r\n\t\t// Minified: var a,b,c,d\r\n\t\tvar val, div, body, container;\r\n\r\n\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ];\r\n\t\tif ( !body || !body.style ) {\r\n\r\n\t\t\t// Return for frameset docs that don't have a body\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\t// Setup\r\n\t\tdiv = document.createElement( \"div\" );\r\n\t\tcontainer = document.createElement( \"div\" );\r\n\t\tcontainer.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\r\n\t\tbody.appendChild( container ).appendChild( div );\r\n\r\n\t\tif ( typeof div.style.zoom !== \"undefined\" ) {\r\n\r\n\t\t\t// Support: IE<8\r\n\t\t\t// Check if natively block-level elements act like inline-block\r\n\t\t\t// elements when setting their display to 'inline' and giving\r\n\t\t\t// them layout\r\n\t\t\tdiv.style.cssText = \"display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1\";\r\n\r\n\t\t\tsupport.inlineBlockNeedsLayout = val = div.offsetWidth === 3;\r\n\t\t\tif ( val ) {\r\n\r\n\t\t\t\t// Prevent IE 6 from affecting layout for positioned elements #11048\r\n\t\t\t\t// Prevent IE from shrinking the body in IE 7 mode #12869\r\n\t\t\t\t// Support: IE<8\r\n\t\t\t\tbody.style.zoom = 1;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody.removeChild( container );\r\n\t} );\r\n\r\n\r\n\t( function() {\r\n\t\tvar div = document.createElement( \"div\" );\r\n\r\n\t\t// Support: IE<9\r\n\t\tsupport.deleteExpando = true;\r\n\t\ttry {\r\n\t\t\tdelete div.test;\r\n\t\t} catch ( e ) {\r\n\t\t\tsupport.deleteExpando = false;\r\n\t\t}\r\n\r\n\t\t// Null elements to avoid leaks in IE.\r\n\t\tdiv = null;\r\n\t} )();\r\n\tvar acceptData = function( elem ) {\r\n\t\tvar noData = jQuery.noData[ ( elem.nodeName + \" \" ).toLowerCase() ],\r\n\t\t\tnodeType = +elem.nodeType || 1;\r\n\r\n\t\t// Do not set data on non-element DOM nodes because it will not be cleared (#8335).\r\n\t\treturn nodeType !== 1 && nodeType !== 9 ?\r\n\t\t\tfalse :\r\n\r\n\t\t\t// Nodes accept data unless otherwise specified; rejection can be conditional\r\n\t\t!noData || noData !== true && elem.getAttribute( \"classid\" ) === noData;\r\n\t};\r\n\r\n\r\n\r\n\r\n\tvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/,\r\n\t\trmultiDash = /([A-Z])/g;\r\n\r\n\tfunction dataAttr( elem, key, data ) {\r\n\r\n\t\t// If nothing was found internally, try to fetch any\r\n\t\t// data from the HTML5 data-* attribute\r\n\t\tif ( data === undefined && elem.nodeType === 1 ) {\r\n\r\n\t\t\tvar name = \"data-\" + key.replace( rmultiDash, \"-$1\" ).toLowerCase();\r\n\r\n\t\t\tdata = elem.getAttribute( name );\r\n\r\n\t\t\tif ( typeof data === \"string\" ) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tdata = data === \"true\" ? true :\r\n\t\t\t\t\t\tdata === \"false\" ? false :\r\n\t\t\t\t\t\t\tdata === \"null\" ? null :\r\n\r\n\t\t\t\t\t\t\t\t// Only convert to a number if it doesn't change the string\r\n\t\t\t\t\t\t\t\t+data + \"\" === data ? +data :\r\n\t\t\t\t\t\t\t\t\trbrace.test( data ) ? jQuery.parseJSON( data ) :\r\n\t\t\t\t\t\t\t\t\t\tdata;\r\n\t\t\t\t} catch ( e ) {}\r\n\r\n\t\t\t\t// Make sure we set the data so it isn't changed later\r\n\t\t\t\tjQuery.data( elem, key, data );\r\n\r\n\t\t\t} else {\r\n\t\t\t\tdata = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn data;\r\n\t}\r\n\r\n// checks a cache object for emptiness\r\n\tfunction isEmptyDataObject( obj ) {\r\n\t\tvar name;\r\n\t\tfor ( name in obj ) {\r\n\r\n\t\t\t// if the public data object is empty, the private is still empty\r\n\t\t\tif ( name === \"data\" && jQuery.isEmptyObject( obj[ name ] ) ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif ( name !== \"toJSON\" ) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction internalData( elem, name, data, pvt /* Internal Use Only */ ) {\r\n\t\tif ( !acceptData( elem ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar ret, thisCache,\r\n\t\t\tinternalKey = jQuery.expando,\r\n\r\n\t\t\t// We have to handle DOM nodes and JS objects differently because IE6-7\r\n\t\t\t// can't GC object references properly across the DOM-JS boundary\r\n\t\t\tisNode = elem.nodeType,\r\n\r\n\t\t\t// Only DOM nodes need the global jQuery cache; JS object data is\r\n\t\t\t// attached directly to the object so GC can occur automatically\r\n\t\t\tcache = isNode ? jQuery.cache : elem,\r\n\r\n\t\t\t// Only defining an ID for JS objects if its cache already exists allows\r\n\t\t\t// the code to shortcut on the same path as a DOM node with no cache\r\n\t\t\tid = isNode ? elem[ internalKey ] : elem[ internalKey ] && internalKey;\r\n\r\n\t\t// Avoid doing any more work than we need to when trying to get data on an\r\n\t\t// object that has no data at all\r\n\t\tif ( ( !id || !cache[ id ] || ( !pvt && !cache[ id ].data ) ) &&\r\n\t\t\tdata === undefined && typeof name === \"string\" ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( !id ) {\r\n\r\n\t\t\t// Only DOM nodes need a new unique ID for each element since their data\r\n\t\t\t// ends up in the global cache\r\n\t\t\tif ( isNode ) {\r\n\t\t\t\tid = elem[ internalKey ] = deletedIds.pop() || jQuery.guid++;\r\n\t\t\t} else {\r\n\t\t\t\tid = internalKey;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !cache[ id ] ) {\r\n\r\n\t\t\t// Avoid exposing jQuery metadata on plain JS objects when the object\r\n\t\t\t// is serialized using JSON.stringify\r\n\t\t\tcache[ id ] = isNode ? {} : { toJSON: jQuery.noop };\r\n\t\t}\r\n\r\n\t\t// An object can be passed to jQuery.data instead of a key/value pair; this gets\r\n\t\t// shallow copied over onto the existing cache\r\n\t\tif ( typeof name === \"object\" || typeof name === \"function\" ) {\r\n\t\t\tif ( pvt ) {\r\n\t\t\t\tcache[ id ] = jQuery.extend( cache[ id ], name );\r\n\t\t\t} else {\r\n\t\t\t\tcache[ id ].data = jQuery.extend( cache[ id ].data, name );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tthisCache = cache[ id ];\r\n\r\n\t\t// jQuery data() is stored in a separate object inside the object's internal data\r\n\t\t// cache in order to avoid key collisions between internal data and user-defined\r\n\t\t// data.\r\n\t\tif ( !pvt ) {\r\n\t\t\tif ( !thisCache.data ) {\r\n\t\t\t\tthisCache.data = {};\r\n\t\t\t}\r\n\r\n\t\t\tthisCache = thisCache.data;\r\n\t\t}\r\n\r\n\t\tif ( data !== undefined ) {\r\n\t\t\tthisCache[ jQuery.camelCase( name ) ] = data;\r\n\t\t}\r\n\r\n\t\t// Check for both converted-to-camel and non-converted data property names\r\n\t\t// If a data property was specified\r\n\t\tif ( typeof name === \"string\" ) {\r\n\r\n\t\t\t// First Try to find as-is property data\r\n\t\t\tret = thisCache[ name ];\r\n\r\n\t\t\t// Test for null|undefined property data\r\n\t\t\tif ( ret == null ) {\r\n\r\n\t\t\t\t// Try to find the camelCased property\r\n\t\t\t\tret = thisCache[ jQuery.camelCase( name ) ];\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tret = thisCache;\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t}\r\n\r\n\tfunction internalRemoveData( elem, name, pvt ) {\r\n\t\tif ( !acceptData( elem ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar thisCache, i,\r\n\t\t\tisNode = elem.nodeType,\r\n\r\n\t\t\t// See jQuery.data for more information\r\n\t\t\tcache = isNode ? jQuery.cache : elem,\r\n\t\t\tid = isNode ? elem[ jQuery.expando ] : jQuery.expando;\r\n\r\n\t\t// If there is already no cache entry for this object, there is no\r\n\t\t// purpose in continuing\r\n\t\tif ( !cache[ id ] ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( name ) {\r\n\r\n\t\t\tthisCache = pvt ? cache[ id ] : cache[ id ].data;\r\n\r\n\t\t\tif ( thisCache ) {\r\n\r\n\t\t\t\t// Support array or space separated string names for data keys\r\n\t\t\t\tif ( !jQuery.isArray( name ) ) {\r\n\r\n\t\t\t\t\t// try the string as a key before any manipulation\r\n\t\t\t\t\tif ( name in thisCache ) {\r\n\t\t\t\t\t\tname = [ name ];\r\n\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t// split the camel cased version by spaces unless a key with the spaces exists\r\n\t\t\t\t\t\tname = jQuery.camelCase( name );\r\n\t\t\t\t\t\tif ( name in thisCache ) {\r\n\t\t\t\t\t\t\tname = [ name ];\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tname = name.split( \" \" );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// If \"name\" is an array of keys...\r\n\t\t\t\t\t// When data is initially created, via (\"key\", \"val\") signature,\r\n\t\t\t\t\t// keys will be converted to camelCase.\r\n\t\t\t\t\t// Since there is no way to tell _how_ a key was added, remove\r\n\t\t\t\t\t// both plain key and camelCase key. #12786\r\n\t\t\t\t\t// This will only penalize the array argument path.\r\n\t\t\t\t\tname = name.concat( jQuery.map( name, jQuery.camelCase ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\ti = name.length;\r\n\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\tdelete thisCache[ name[ i ] ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If there is no data left in the cache, we want to continue\r\n\t\t\t\t// and let the cache object itself get destroyed\r\n\t\t\t\tif ( pvt ? !isEmptyDataObject( thisCache ) : !jQuery.isEmptyObject( thisCache ) ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// See jQuery.data for more information\r\n\t\tif ( !pvt ) {\r\n\t\t\tdelete cache[ id ].data;\r\n\r\n\t\t\t// Don't destroy the parent cache unless the internal data object\r\n\t\t\t// had been the only thing left in it\r\n\t\t\tif ( !isEmptyDataObject( cache[ id ] ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Destroy the cache\r\n\t\tif ( isNode ) {\r\n\t\t\tjQuery.cleanData( [ elem ], true );\r\n\r\n\t\t\t// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)\r\n\t\t\t/* jshint eqeqeq: false */\r\n\t\t} else if ( support.deleteExpando || cache != cache.window ) {\r\n\t\t\t/* jshint eqeqeq: true */\r\n\t\t\tdelete cache[ id ];\r\n\r\n\t\t\t// When all else fails, undefined\r\n\t\t} else {\r\n\t\t\tcache[ id ] = undefined;\r\n\t\t}\r\n\t}\r\n\r\n\tjQuery.extend( {\r\n\t\tcache: {},\r\n\r\n\t\t// The following elements (space-suffixed to avoid Object.prototype collisions)\r\n\t\t// throw uncatchable exceptions if you attempt to set expando properties\r\n\t\tnoData: {\r\n\t\t\t\"applet \": true,\r\n\t\t\t\"embed \": true,\r\n\r\n\t\t\t// ...but Flash objects (which have this classid) *can* handle expandos\r\n\t\t\t\"object \": \"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\"\r\n\t\t},\r\n\r\n\t\thasData: function( elem ) {\r\n\t\t\telem = elem.nodeType ? jQuery.cache[ elem[ jQuery.expando ] ] : elem[ jQuery.expando ];\r\n\t\t\treturn !!elem && !isEmptyDataObject( elem );\r\n\t\t},\r\n\r\n\t\tdata: function( elem, name, data ) {\r\n\t\t\treturn internalData( elem, name, data );\r\n\t\t},\r\n\r\n\t\tremoveData: function( elem, name ) {\r\n\t\t\treturn internalRemoveData( elem, name );\r\n\t\t},\r\n\r\n\t\t// For internal use only.\r\n\t\t_data: function( elem, name, data ) {\r\n\t\t\treturn internalData( elem, name, data, true );\r\n\t\t},\r\n\r\n\t\t_removeData: function( elem, name ) {\r\n\t\t\treturn internalRemoveData( elem, name, true );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tdata: function( key, value ) {\r\n\t\t\tvar i, name, data,\r\n\t\t\t\telem = this[ 0 ],\r\n\t\t\t\tattrs = elem && elem.attributes;\r\n\r\n\t\t\t// Special expections of .data basically thwart jQuery.access,\r\n\t\t\t// so implement the relevant behavior ourselves\r\n\r\n\t\t\t// Gets all values\r\n\t\t\tif ( key === undefined ) {\r\n\t\t\t\tif ( this.length ) {\r\n\t\t\t\t\tdata = jQuery.data( elem );\r\n\r\n\t\t\t\t\tif ( elem.nodeType === 1 && !jQuery._data( elem, \"parsedAttrs\" ) ) {\r\n\t\t\t\t\t\ti = attrs.length;\r\n\t\t\t\t\t\twhile ( i-- ) {\r\n\r\n\t\t\t\t\t\t\t// Support: IE11+\r\n\t\t\t\t\t\t\t// The attrs elements can be null (#14894)\r\n\t\t\t\t\t\t\tif ( attrs[ i ] ) {\r\n\t\t\t\t\t\t\t\tname = attrs[ i ].name;\r\n\t\t\t\t\t\t\t\tif ( name.indexOf( \"data-\" ) === 0 ) {\r\n\t\t\t\t\t\t\t\t\tname = jQuery.camelCase( name.slice( 5 ) );\r\n\t\t\t\t\t\t\t\t\tdataAttr( elem, name, data[ name ] );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tjQuery._data( elem, \"parsedAttrs\", true );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn data;\r\n\t\t\t}\r\n\r\n\t\t\t// Sets multiple values\r\n\t\t\tif ( typeof key === \"object\" ) {\r\n\t\t\t\treturn this.each( function() {\r\n\t\t\t\t\tjQuery.data( this, key );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\treturn arguments.length > 1 ?\r\n\r\n\t\t\t\t// Sets one value\r\n\t\t\t\tthis.each( function() {\r\n\t\t\t\t\tjQuery.data( this, key, value );\r\n\t\t\t\t} ) :\r\n\r\n\t\t\t\t// Gets one value\r\n\t\t\t\t// Try to fetch any internally stored data first\r\n\t\t\t\telem ? dataAttr( elem, key, jQuery.data( elem, key ) ) : undefined;\r\n\t\t},\r\n\r\n\t\tremoveData: function( key ) {\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tjQuery.removeData( this, key );\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\tjQuery.extend( {\r\n\t\tqueue: function( elem, type, data ) {\r\n\t\t\tvar queue;\r\n\r\n\t\t\tif ( elem ) {\r\n\t\t\t\ttype = ( type || \"fx\" ) + \"queue\";\r\n\t\t\t\tqueue = jQuery._data( elem, type );\r\n\r\n\t\t\t\t// Speed up dequeue by getting out quickly if this is just a lookup\r\n\t\t\t\tif ( data ) {\r\n\t\t\t\t\tif ( !queue || jQuery.isArray( data ) ) {\r\n\t\t\t\t\t\tqueue = jQuery._data( elem, type, jQuery.makeArray( data ) );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tqueue.push( data );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn queue || [];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tdequeue: function( elem, type ) {\r\n\t\t\ttype = type || \"fx\";\r\n\r\n\t\t\tvar queue = jQuery.queue( elem, type ),\r\n\t\t\t\tstartLength = queue.length,\r\n\t\t\t\tfn = queue.shift(),\r\n\t\t\t\thooks = jQuery._queueHooks( elem, type ),\r\n\t\t\t\tnext = function() {\r\n\t\t\t\t\tjQuery.dequeue( elem, type );\r\n\t\t\t\t};\r\n\r\n\t\t\t// If the fx queue is dequeued, always remove the progress sentinel\r\n\t\t\tif ( fn === \"inprogress\" ) {\r\n\t\t\t\tfn = queue.shift();\r\n\t\t\t\tstartLength--;\r\n\t\t\t}\r\n\r\n\t\t\tif ( fn ) {\r\n\r\n\t\t\t\t// Add a progress sentinel to prevent the fx queue from being\r\n\t\t\t\t// automatically dequeued\r\n\t\t\t\tif ( type === \"fx\" ) {\r\n\t\t\t\t\tqueue.unshift( \"inprogress\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// clear up the last queue stop function\r\n\t\t\t\tdelete hooks.stop;\r\n\t\t\t\tfn.call( elem, next, hooks );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !startLength && hooks ) {\r\n\t\t\t\thooks.empty.fire();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// not intended for public consumption - generates a queueHooks object,\r\n\t\t// or returns the current one\r\n\t\t_queueHooks: function( elem, type ) {\r\n\t\t\tvar key = type + \"queueHooks\";\r\n\t\t\treturn jQuery._data( elem, key ) || jQuery._data( elem, key, {\r\n\t\t\t\t\tempty: jQuery.Callbacks( \"once memory\" ).add( function() {\r\n\t\t\t\t\t\tjQuery._removeData( elem, type + \"queue\" );\r\n\t\t\t\t\t\tjQuery._removeData( elem, key );\r\n\t\t\t\t\t} )\r\n\t\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tqueue: function( type, data ) {\r\n\t\t\tvar setter = 2;\r\n\r\n\t\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\t\tdata = type;\r\n\t\t\t\ttype = \"fx\";\r\n\t\t\t\tsetter--;\r\n\t\t\t}\r\n\r\n\t\t\tif ( arguments.length < setter ) {\r\n\t\t\t\treturn jQuery.queue( this[ 0 ], type );\r\n\t\t\t}\r\n\r\n\t\t\treturn data === undefined ?\r\n\t\t\t\tthis :\r\n\t\t\t\tthis.each( function() {\r\n\t\t\t\t\tvar queue = jQuery.queue( this, type, data );\r\n\r\n\t\t\t\t\t// ensure a hooks for this queue\r\n\t\t\t\t\tjQuery._queueHooks( this, type );\r\n\r\n\t\t\t\t\tif ( type === \"fx\" && queue[ 0 ] !== \"inprogress\" ) {\r\n\t\t\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t},\r\n\t\tdequeue: function( type ) {\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t} );\r\n\t\t},\r\n\t\tclearQueue: function( type ) {\r\n\t\t\treturn this.queue( type || \"fx\", [] );\r\n\t\t},\r\n\r\n\t\t// Get a promise resolved when queues of a certain type\r\n\t\t// are emptied (fx is the type by default)\r\n\t\tpromise: function( type, obj ) {\r\n\t\t\tvar tmp,\r\n\t\t\t\tcount = 1,\r\n\t\t\t\tdefer = jQuery.Deferred(),\r\n\t\t\t\telements = this,\r\n\t\t\t\ti = this.length,\r\n\t\t\t\tresolve = function() {\r\n\t\t\t\t\tif ( !( --count ) ) {\r\n\t\t\t\t\t\tdefer.resolveWith( elements, [ elements ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\t\tobj = type;\r\n\t\t\t\ttype = undefined;\r\n\t\t\t}\r\n\t\t\ttype = type || \"fx\";\r\n\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\ttmp = jQuery._data( elements[ i ], type + \"queueHooks\" );\r\n\t\t\t\tif ( tmp && tmp.empty ) {\r\n\t\t\t\t\tcount++;\r\n\t\t\t\t\ttmp.empty.add( resolve );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tresolve();\r\n\t\t\treturn defer.promise( obj );\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\t( function() {\r\n\t\tvar shrinkWrapBlocksVal;\r\n\r\n\t\tsupport.shrinkWrapBlocks = function() {\r\n\t\t\tif ( shrinkWrapBlocksVal != null ) {\r\n\t\t\t\treturn shrinkWrapBlocksVal;\r\n\t\t\t}\r\n\r\n\t\t\t// Will be changed later if needed.\r\n\t\t\tshrinkWrapBlocksVal = false;\r\n\r\n\t\t\t// Minified: var b,c,d\r\n\t\t\tvar div, body, container;\r\n\r\n\t\t\tbody = document.getElementsByTagName( \"body\" )[ 0 ];\r\n\t\t\tif ( !body || !body.style ) {\r\n\r\n\t\t\t\t// Test fired too early or in an unsupported environment, exit.\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Setup\r\n\t\t\tdiv = document.createElement( \"div\" );\r\n\t\t\tcontainer = document.createElement( \"div\" );\r\n\t\t\tcontainer.style.cssText = \"position:absolute;border:0;width:0;height:0;top:0;left:-9999px\";\r\n\t\t\tbody.appendChild( container ).appendChild( div );\r\n\r\n\t\t\t// Support: IE6\r\n\t\t\t// Check if elements with layout shrink-wrap their children\r\n\t\t\tif ( typeof div.style.zoom !== \"undefined\" ) {\r\n\r\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border\r\n\t\t\t\tdiv.style.cssText =\r\n\r\n\t\t\t\t\t// Support: Firefox<29, Android 2.3\r\n\t\t\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\r\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;\" +\r\n\t\t\t\t\t\"padding:1px;width:1px;zoom:1\";\r\n\t\t\t\tdiv.appendChild( document.createElement( \"div\" ) ).style.width = \"5px\";\r\n\t\t\t\tshrinkWrapBlocksVal = div.offsetWidth !== 3;\r\n\t\t\t}\r\n\r\n\t\t\tbody.removeChild( container );\r\n\r\n\t\t\treturn shrinkWrapBlocksVal;\r\n\t\t};\r\n\r\n\t} )();\r\n\tvar pnum = ( /[+-]?(?:\\d*\\.|)\\d+(?:[eE][+-]?\\d+|)/ ).source;\r\n\r\n\tvar rcssNum = new RegExp( \"^(?:([+-])=|)(\" + pnum + \")([a-z%]*)$\", \"i\" );\r\n\r\n\r\n\tvar cssExpand = [ \"Top\", \"Right\", \"Bottom\", \"Left\" ];\r\n\r\n\tvar isHidden = function( elem, el ) {\r\n\r\n\t\t// isHidden might be called from jQuery#filter function;\r\n\t\t// in that case, element will be second argument\r\n\t\telem = el || elem;\r\n\t\treturn jQuery.css( elem, \"display\" ) === \"none\" ||\r\n\t\t\t!jQuery.contains( elem.ownerDocument, elem );\r\n\t};\r\n\r\n\r\n\r\n\tfunction adjustCSS( elem, prop, valueParts, tween ) {\r\n\t\tvar adjusted,\r\n\t\t\tscale = 1,\r\n\t\t\tmaxIterations = 20,\r\n\t\t\tcurrentValue = tween ?\r\n\t\t\t\tfunction() { return tween.cur(); } :\r\n\t\t\t\tfunction() { return jQuery.css( elem, prop, \"\" ); },\r\n\t\t\tinitial = currentValue(),\r\n\t\t\tunit = valueParts && valueParts[ 3 ] || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" ),\r\n\r\n\t\t\t// Starting value computation is required for potential unit mismatches\r\n\t\t\tinitialInUnit = ( jQuery.cssNumber[ prop ] || unit !== \"px\" && +initial ) &&\r\n\t\t\t\trcssNum.exec( jQuery.css( elem, prop ) );\r\n\r\n\t\tif ( initialInUnit && initialInUnit[ 3 ] !== unit ) {\r\n\r\n\t\t\t// Trust units reported by jQuery.css\r\n\t\t\tunit = unit || initialInUnit[ 3 ];\r\n\r\n\t\t\t// Make sure we update the tween properties later on\r\n\t\t\tvalueParts = valueParts || [];\r\n\r\n\t\t\t// Iteratively approximate from a nonzero starting point\r\n\t\t\tinitialInUnit = +initial || 1;\r\n\r\n\t\t\tdo {\r\n\r\n\t\t\t\t// If previous iteration zeroed out, double until we get *something*.\r\n\t\t\t\t// Use string for doubling so we don't accidentally see scale as unchanged below\r\n\t\t\t\tscale = scale || \".5\";\r\n\r\n\t\t\t\t// Adjust and apply\r\n\t\t\t\tinitialInUnit = initialInUnit / scale;\r\n\t\t\t\tjQuery.style( elem, prop, initialInUnit + unit );\r\n\r\n\t\t\t\t// Update scale, tolerating zero or NaN from tween.cur()\r\n\t\t\t\t// Break the loop if scale is unchanged or perfect, or if we've just had enough.\r\n\t\t\t} while (\r\n\t\t\tscale !== ( scale = currentValue() / initial ) && scale !== 1 && --maxIterations\r\n\t\t\t\t);\r\n\t\t}\r\n\r\n\t\tif ( valueParts ) {\r\n\t\t\tinitialInUnit = +initialInUnit || +initial || 0;\r\n\r\n\t\t\t// Apply relative offset (+=/-=) if specified\r\n\t\t\tadjusted = valueParts[ 1 ] ?\r\n\t\t\tinitialInUnit + ( valueParts[ 1 ] + 1 ) * valueParts[ 2 ] :\r\n\t\t\t\t+valueParts[ 2 ];\r\n\t\t\tif ( tween ) {\r\n\t\t\t\ttween.unit = unit;\r\n\t\t\t\ttween.start = initialInUnit;\r\n\t\t\t\ttween.end = adjusted;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn adjusted;\r\n\t}\r\n\r\n\r\n// Multifunctional method to get and set values of a collection\r\n// The value/s can optionally be executed if it's a function\r\n\tvar access = function( elems, fn, key, value, chainable, emptyGet, raw ) {\r\n\t\tvar i = 0,\r\n\t\t\tlength = elems.length,\r\n\t\t\tbulk = key == null;\r\n\r\n\t\t// Sets many values\r\n\t\tif ( jQuery.type( key ) === \"object\" ) {\r\n\t\t\tchainable = true;\r\n\t\t\tfor ( i in key ) {\r\n\t\t\t\taccess( elems, fn, i, key[ i ], true, emptyGet, raw );\r\n\t\t\t}\r\n\r\n\t\t\t// Sets one value\r\n\t\t} else if ( value !== undefined ) {\r\n\t\t\tchainable = true;\r\n\r\n\t\t\tif ( !jQuery.isFunction( value ) ) {\r\n\t\t\t\traw = true;\r\n\t\t\t}\r\n\r\n\t\t\tif ( bulk ) {\r\n\r\n\t\t\t\t// Bulk operations run against the entire set\r\n\t\t\t\tif ( raw ) {\r\n\t\t\t\t\tfn.call( elems, value );\r\n\t\t\t\t\tfn = null;\r\n\r\n\t\t\t\t\t// ...except when executing function values\r\n\t\t\t\t} else {\r\n\t\t\t\t\tbulk = fn;\r\n\t\t\t\t\tfn = function( elem, key, value ) {\r\n\t\t\t\t\t\treturn bulk.call( jQuery( elem ), value );\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( fn ) {\r\n\t\t\t\tfor ( ; i < length; i++ ) {\r\n\t\t\t\t\tfn(\r\n\t\t\t\t\t\telems[ i ],\r\n\t\t\t\t\t\tkey,\r\n\t\t\t\t\t\traw ? value : value.call( elems[ i ], i, fn( elems[ i ], key ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn chainable ?\r\n\t\t\telems :\r\n\r\n\t\t\t// Gets\r\n\t\t\tbulk ?\r\n\t\t\t\tfn.call( elems ) :\r\n\t\t\t\tlength ? fn( elems[ 0 ], key ) : emptyGet;\r\n\t};\r\n\tvar rcheckableType = ( /^(?:checkbox|radio)$/i );\r\n\r\n\tvar rtagName = ( /<([\\w:-]+)/ );\r\n\r\n\tvar rscriptType = ( /^$|\\/(?:java|ecma)script/i );\r\n\r\n\tvar rleadingWhitespace = ( /^\\s+/ );\r\n\r\n\tvar nodeNames = \"abbr|article|aside|audio|bdi|canvas|data|datalist|\" +\r\n\t\t\"details|dialog|figcaption|figure|footer|header|hgroup|main|\" +\r\n\t\t\"mark|meter|nav|output|picture|progress|section|summary|template|time|video\";\r\n\r\n\r\n\r\n\tfunction createSafeFragment( document ) {\r\n\t\tvar list = nodeNames.split( \"|\" ),\r\n\t\t\tsafeFrag = document.createDocumentFragment();\r\n\r\n\t\tif ( safeFrag.createElement ) {\r\n\t\t\twhile ( list.length ) {\r\n\t\t\t\tsafeFrag.createElement(\r\n\t\t\t\t\tlist.pop()\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn safeFrag;\r\n\t}\r\n\r\n\r\n\t( function() {\r\n\t\tvar div = document.createElement( \"div\" ),\r\n\t\t\tfragment = document.createDocumentFragment(),\r\n\t\t\tinput = document.createElement( \"input\" );\r\n\r\n\t\t// Setup\r\n\t\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\r\n\r\n\t\t// IE strips leading whitespace when .innerHTML is used\r\n\t\tsupport.leadingWhitespace = div.firstChild.nodeType === 3;\r\n\r\n\t\t// Make sure that tbody elements aren't automatically inserted\r\n\t\t// IE will insert them into empty tables\r\n\t\tsupport.tbody = !div.getElementsByTagName( \"tbody\" ).length;\r\n\r\n\t\t// Make sure that link elements get serialized correctly by innerHTML\r\n\t\t// This requires a wrapper element in IE\r\n\t\tsupport.htmlSerialize = !!div.getElementsByTagName( \"link\" ).length;\r\n\r\n\t\t// Makes sure cloning an html5 element does not cause problems\r\n\t\t// Where outerHTML is undefined, this still works\r\n\t\tsupport.html5Clone =\r\n\t\t\tdocument.createElement( \"nav\" ).cloneNode( true ).outerHTML !== \"<:nav></:nav>\";\r\n\r\n\t\t// Check if a disconnected checkbox will retain its checked\r\n\t\t// value of true after appended to the DOM (IE6/7)\r\n\t\tinput.type = \"checkbox\";\r\n\t\tinput.checked = true;\r\n\t\tfragment.appendChild( input );\r\n\t\tsupport.appendChecked = input.checked;\r\n\r\n\t\t// Make sure textarea (and checkbox) defaultValue is properly cloned\r\n\t\t// Support: IE6-IE11+\r\n\t\tdiv.innerHTML = \"<textarea>x</textarea>\";\r\n\t\tsupport.noCloneChecked = !!div.cloneNode( true ).lastChild.defaultValue;\r\n\r\n\t\t// #11217 - WebKit loses check when the name is after the checked attribute\r\n\t\tfragment.appendChild( div );\r\n\r\n\t\t// Support: Windows Web Apps (WWA)\r\n\t\t// `name` and `type` must use .setAttribute for WWA (#14901)\r\n\t\tinput = document.createElement( \"input\" );\r\n\t\tinput.setAttribute( \"type\", \"radio\" );\r\n\t\tinput.setAttribute( \"checked\", \"checked\" );\r\n\t\tinput.setAttribute( \"name\", \"t\" );\r\n\r\n\t\tdiv.appendChild( input );\r\n\r\n\t\t// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3\r\n\t\t// old WebKit doesn't clone checked state correctly in fragments\r\n\t\tsupport.checkClone = div.cloneNode( true ).cloneNode( true ).lastChild.checked;\r\n\r\n\t\t// Support: IE<9\r\n\t\t// Cloned elements keep attachEvent handlers, we use addEventListener on IE9+\r\n\t\tsupport.noCloneEvent = !!div.addEventListener;\r\n\r\n\t\t// Support: IE<9\r\n\t\t// Since attributes and properties are the same in IE,\r\n\t\t// cleanData must set properties to undefined rather than use removeAttribute\r\n\t\tdiv[ jQuery.expando ] = 1;\r\n\t\tsupport.attributes = !div.getAttribute( jQuery.expando );\r\n\t} )();\r\n\r\n\r\n// We have to close these tags to support XHTML (#13200)\r\n\tvar wrapMap = {\r\n\t\toption: [ 1, \"<select multiple='multiple'>\", \"</select>\" ],\r\n\t\tlegend: [ 1, \"<fieldset>\", \"</fieldset>\" ],\r\n\t\tarea: [ 1, \"<map>\", \"</map>\" ],\r\n\r\n\t\t// Support: IE8\r\n\t\tparam: [ 1, \"<object>\", \"</object>\" ],\r\n\t\tthead: [ 1, \"<table>\", \"</table>\" ],\r\n\t\ttr: [ 2, \"<table><tbody>\", \"</tbody></table>\" ],\r\n\t\tcol: [ 2, \"<table><tbody></tbody><colgroup>\", \"</colgroup></table>\" ],\r\n\t\ttd: [ 3, \"<table><tbody><tr>\", \"</tr></tbody></table>\" ],\r\n\r\n\t\t// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,\r\n\t\t// unless wrapped in a div with non-breaking characters in front of it.\r\n\t\t_default: support.htmlSerialize ? [ 0, \"\", \"\" ] : [ 1, \"X<div>\", \"</div>\" ]\r\n\t};\r\n\r\n// Support: IE8-IE9\r\n\twrapMap.optgroup = wrapMap.option;\r\n\r\n\twrapMap.tbody = wrapMap.tfoot = wrapMap.colgroup = wrapMap.caption = wrapMap.thead;\r\n\twrapMap.th = wrapMap.td;\r\n\r\n\r\n\tfunction getAll( context, tag ) {\r\n\t\tvar elems, elem,\r\n\t\t\ti = 0,\r\n\t\t\tfound = typeof context.getElementsByTagName !== \"undefined\" ?\r\n\t\t\t\tcontext.getElementsByTagName( tag || \"*\" ) :\r\n\t\t\t\ttypeof context.querySelectorAll !== \"undefined\" ?\r\n\t\t\t\t\tcontext.querySelectorAll( tag || \"*\" ) :\r\n\t\t\t\t\tundefined;\r\n\r\n\t\tif ( !found ) {\r\n\t\t\tfor ( found = [], elems = context.childNodes || context;\r\n\t\t\t\t  ( elem = elems[ i ] ) != null;\r\n\t\t\t\t  i++\r\n\t\t\t) {\r\n\t\t\t\tif ( !tag || jQuery.nodeName( elem, tag ) ) {\r\n\t\t\t\t\tfound.push( elem );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery.merge( found, getAll( elem, tag ) );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn tag === undefined || tag && jQuery.nodeName( context, tag ) ?\r\n\t\t\tjQuery.merge( [ context ], found ) :\r\n\t\t\tfound;\r\n\t}\r\n\r\n\r\n// Mark scripts as having already been evaluated\r\n\tfunction setGlobalEval( elems, refElements ) {\r\n\t\tvar elem,\r\n\t\t\ti = 0;\r\n\t\tfor ( ; ( elem = elems[ i ] ) != null; i++ ) {\r\n\t\t\tjQuery._data(\r\n\t\t\t\telem,\r\n\t\t\t\t\"globalEval\",\r\n\t\t\t\t!refElements || jQuery._data( refElements[ i ], \"globalEval\" )\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar rhtml = /<|&#?\\w+;/,\r\n\t\trtbody = /<tbody/i;\r\n\r\n\tfunction fixDefaultChecked( elem ) {\r\n\t\tif ( rcheckableType.test( elem.type ) ) {\r\n\t\t\telem.defaultChecked = elem.checked;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction buildFragment( elems, context, scripts, selection, ignored ) {\r\n\t\tvar j, elem, contains,\r\n\t\t\ttmp, tag, tbody, wrap,\r\n\t\t\tl = elems.length,\r\n\r\n\t\t\t// Ensure a safe fragment\r\n\t\t\tsafe = createSafeFragment( context ),\r\n\r\n\t\t\tnodes = [],\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; i < l; i++ ) {\r\n\t\t\telem = elems[ i ];\r\n\r\n\t\t\tif ( elem || elem === 0 ) {\r\n\r\n\t\t\t\t// Add nodes directly\r\n\t\t\t\tif ( jQuery.type( elem ) === \"object\" ) {\r\n\t\t\t\t\tjQuery.merge( nodes, elem.nodeType ? [ elem ] : elem );\r\n\r\n\t\t\t\t\t// Convert non-html into a text node\r\n\t\t\t\t} else if ( !rhtml.test( elem ) ) {\r\n\t\t\t\t\tnodes.push( context.createTextNode( elem ) );\r\n\r\n\t\t\t\t\t// Convert html into DOM nodes\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttmp = tmp || safe.appendChild( context.createElement( \"div\" ) );\r\n\r\n\t\t\t\t\t// Deserialize a standard representation\r\n\t\t\t\t\ttag = ( rtagName.exec( elem ) || [ \"\", \"\" ] )[ 1 ].toLowerCase();\r\n\t\t\t\t\twrap = wrapMap[ tag ] || wrapMap._default;\r\n\r\n\t\t\t\t\ttmp.innerHTML = wrap[ 1 ] + jQuery.htmlPrefilter( elem ) + wrap[ 2 ];\r\n\r\n\t\t\t\t\t// Descend through wrappers to the right content\r\n\t\t\t\t\tj = wrap[ 0 ];\r\n\t\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\t\ttmp = tmp.lastChild;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Manually add leading whitespace removed by IE\r\n\t\t\t\t\tif ( !support.leadingWhitespace && rleadingWhitespace.test( elem ) ) {\r\n\t\t\t\t\t\tnodes.push( context.createTextNode( rleadingWhitespace.exec( elem )[ 0 ] ) );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Remove IE's autoinserted <tbody> from table fragments\r\n\t\t\t\t\tif ( !support.tbody ) {\r\n\r\n\t\t\t\t\t\t// String was a <table>, *may* have spurious <tbody>\r\n\t\t\t\t\t\telem = tag === \"table\" && !rtbody.test( elem ) ?\r\n\t\t\t\t\t\t\ttmp.firstChild :\r\n\r\n\t\t\t\t\t\t\t// String was a bare <thead> or <tfoot>\r\n\t\t\t\t\t\t\twrap[ 1 ] === \"<table>\" && !rtbody.test( elem ) ?\r\n\t\t\t\t\t\t\t\ttmp :\r\n\t\t\t\t\t\t\t\t0;\r\n\r\n\t\t\t\t\t\tj = elem && elem.childNodes.length;\r\n\t\t\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\t\t\tif ( jQuery.nodeName( ( tbody = elem.childNodes[ j ] ), \"tbody\" ) &&\r\n\t\t\t\t\t\t\t\t!tbody.childNodes.length ) {\r\n\r\n\t\t\t\t\t\t\t\telem.removeChild( tbody );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tjQuery.merge( nodes, tmp.childNodes );\r\n\r\n\t\t\t\t\t// Fix #12392 for WebKit and IE > 9\r\n\t\t\t\t\ttmp.textContent = \"\";\r\n\r\n\t\t\t\t\t// Fix #12392 for oldIE\r\n\t\t\t\t\twhile ( tmp.firstChild ) {\r\n\t\t\t\t\t\ttmp.removeChild( tmp.firstChild );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Remember the top-level container for proper cleanup\r\n\t\t\t\t\ttmp = safe.lastChild;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Fix #11356: Clear elements from fragment\r\n\t\tif ( tmp ) {\r\n\t\t\tsafe.removeChild( tmp );\r\n\t\t}\r\n\r\n\t\t// Reset defaultChecked for any radios and checkboxes\r\n\t\t// about to be appended to the DOM in IE 6/7 (#8060)\r\n\t\tif ( !support.appendChecked ) {\r\n\t\t\tjQuery.grep( getAll( nodes, \"input\" ), fixDefaultChecked );\r\n\t\t}\r\n\r\n\t\ti = 0;\r\n\t\twhile ( ( elem = nodes[ i++ ] ) ) {\r\n\r\n\t\t\t// Skip elements already in the context collection (trac-4087)\r\n\t\t\tif ( selection && jQuery.inArray( elem, selection ) > -1 ) {\r\n\t\t\t\tif ( ignored ) {\r\n\t\t\t\t\tignored.push( elem );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tcontains = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t\t// Append to fragment\r\n\t\t\ttmp = getAll( safe.appendChild( elem ), \"script\" );\r\n\r\n\t\t\t// Preserve script evaluation history\r\n\t\t\tif ( contains ) {\r\n\t\t\t\tsetGlobalEval( tmp );\r\n\t\t\t}\r\n\r\n\t\t\t// Capture executables\r\n\t\t\tif ( scripts ) {\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( ( elem = tmp[ j++ ] ) ) {\r\n\t\t\t\t\tif ( rscriptType.test( elem.type || \"\" ) ) {\r\n\t\t\t\t\t\tscripts.push( elem );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\ttmp = null;\r\n\r\n\t\treturn safe;\r\n\t}\r\n\r\n\r\n\t( function() {\r\n\t\tvar i, eventName,\r\n\t\t\tdiv = document.createElement( \"div\" );\r\n\r\n\t\t// Support: IE<9 (lack submit/change bubble), Firefox (lack focus(in | out) events)\r\n\t\tfor ( i in { submit: true, change: true, focusin: true } ) {\r\n\t\t\teventName = \"on\" + i;\r\n\r\n\t\t\tif ( !( support[ i ] = eventName in window ) ) {\r\n\r\n\t\t\t\t// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)\r\n\t\t\t\tdiv.setAttribute( eventName, \"t\" );\r\n\t\t\t\tsupport[ i ] = div.attributes[ eventName ].expando === false;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Null elements to avoid leaks in IE.\r\n\t\tdiv = null;\r\n\t} )();\r\n\r\n\r\n\tvar rformElems = /^(?:input|select|textarea)$/i,\r\n\t\trkeyEvent = /^key/,\r\n\t\trmouseEvent = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,\r\n\t\trfocusMorph = /^(?:focusinfocus|focusoutblur)$/,\r\n\t\trtypenamespace = /^([^.]*)(?:\\.(.+)|)/;\r\n\r\n\tfunction returnTrue() {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tfunction returnFalse() {\r\n\t\treturn false;\r\n\t}\r\n\r\n// Support: IE9\r\n// See #13393 for more info\r\n\tfunction safeActiveElement() {\r\n\t\ttry {\r\n\t\t\treturn document.activeElement;\r\n\t\t} catch ( err ) { }\r\n\t}\r\n\r\n\tfunction on( elem, types, selector, data, fn, one ) {\r\n\t\tvar origFn, type;\r\n\r\n\t\t// Types can be a map of types/handlers\r\n\t\tif ( typeof types === \"object\" ) {\r\n\r\n\t\t\t// ( types-Object, selector, data )\r\n\t\t\tif ( typeof selector !== \"string\" ) {\r\n\r\n\t\t\t\t// ( types-Object, data )\r\n\t\t\t\tdata = data || selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t\tfor ( type in types ) {\r\n\t\t\t\ton( elem, type, selector, data, types[ type ], one );\r\n\t\t\t}\r\n\t\t\treturn elem;\r\n\t\t}\r\n\r\n\t\tif ( data == null && fn == null ) {\r\n\r\n\t\t\t// ( types, fn )\r\n\t\t\tfn = selector;\r\n\t\t\tdata = selector = undefined;\r\n\t\t} else if ( fn == null ) {\r\n\t\t\tif ( typeof selector === \"string\" ) {\r\n\r\n\t\t\t\t// ( types, selector, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = undefined;\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// ( types, data, fn )\r\n\t\t\t\tfn = data;\r\n\t\t\t\tdata = selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( fn === false ) {\r\n\t\t\tfn = returnFalse;\r\n\t\t} else if ( !fn ) {\r\n\t\t\treturn elem;\r\n\t\t}\r\n\r\n\t\tif ( one === 1 ) {\r\n\t\t\torigFn = fn;\r\n\t\t\tfn = function( event ) {\r\n\r\n\t\t\t\t// Can use an empty set, since event contains the info\r\n\t\t\t\tjQuery().off( event );\r\n\t\t\t\treturn origFn.apply( this, arguments );\r\n\t\t\t};\r\n\r\n\t\t\t// Use same guid so caller can remove using origFn\r\n\t\t\tfn.guid = origFn.guid || ( origFn.guid = jQuery.guid++ );\r\n\t\t}\r\n\t\treturn elem.each( function() {\r\n\t\t\tjQuery.event.add( this, types, fn, data, selector );\r\n\t\t} );\r\n\t}\r\n\r\n\t/*\r\n\t * Helper functions for managing events -- not part of the public interface.\r\n\t * Props to Dean Edwards' addEvent library for many of the ideas.\r\n\t */\r\n\tjQuery.event = {\r\n\r\n\t\tglobal: {},\r\n\r\n\t\tadd: function( elem, types, handler, data, selector ) {\r\n\t\t\tvar tmp, events, t, handleObjIn,\r\n\t\t\t\tspecial, eventHandle, handleObj,\r\n\t\t\t\thandlers, type, namespaces, origType,\r\n\t\t\t\telemData = jQuery._data( elem );\r\n\r\n\t\t\t// Don't attach events to noData or text/comment nodes (but allow plain objects)\r\n\t\t\tif ( !elemData ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Caller can pass in an object of custom data in lieu of the handler\r\n\t\t\tif ( handler.handler ) {\r\n\t\t\t\thandleObjIn = handler;\r\n\t\t\t\thandler = handleObjIn.handler;\r\n\t\t\t\tselector = handleObjIn.selector;\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that the handler has a unique ID, used to find/remove it later\r\n\t\t\tif ( !handler.guid ) {\r\n\t\t\t\thandler.guid = jQuery.guid++;\r\n\t\t\t}\r\n\r\n\t\t\t// Init the element's event structure and main handler, if this is the first\r\n\t\t\tif ( !( events = elemData.events ) ) {\r\n\t\t\t\tevents = elemData.events = {};\r\n\t\t\t}\r\n\t\t\tif ( !( eventHandle = elemData.handle ) ) {\r\n\t\t\t\teventHandle = elemData.handle = function( e ) {\r\n\r\n\t\t\t\t\t// Discard the second event of a jQuery.event.trigger() and\r\n\t\t\t\t\t// when an event is called after a page has unloaded\r\n\t\t\t\t\treturn typeof jQuery !== \"undefined\" &&\r\n\t\t\t\t\t( !e || jQuery.event.triggered !== e.type ) ?\r\n\t\t\t\t\t\tjQuery.event.dispatch.apply( eventHandle.elem, arguments ) :\r\n\t\t\t\t\t\tundefined;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t// Add elem as a property of the handle fn to prevent a memory leak\r\n\t\t\t\t// with IE non-native events\r\n\t\t\t\teventHandle.elem = elem;\r\n\t\t\t}\r\n\r\n\t\t\t// Handle multiple events separated by a space\r\n\t\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\t\tt = types.length;\r\n\t\t\twhile ( t-- ) {\r\n\t\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\r\n\t\t\t\ttype = origType = tmp[ 1 ];\r\n\t\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t\t// There *must* be a type, no attaching namespace-only handlers\r\n\t\t\t\tif ( !type ) {\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If event changes its type, use the special event handlers for the changed type\r\n\t\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t\t// If selector defined, determine special event api type, otherwise given type\r\n\t\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\r\n\t\t\t\t// Update special based on newly reset type\r\n\t\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\r\n\t\t\t\t// handleObj is passed to all event handlers\r\n\t\t\t\thandleObj = jQuery.extend( {\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\torigType: origType,\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\thandler: handler,\r\n\t\t\t\t\tguid: handler.guid,\r\n\t\t\t\t\tselector: selector,\r\n\t\t\t\t\tneedsContext: selector && jQuery.expr.match.needsContext.test( selector ),\r\n\t\t\t\t\tnamespace: namespaces.join( \".\" )\r\n\t\t\t\t}, handleObjIn );\r\n\r\n\t\t\t\t// Init the event handler queue if we're the first\r\n\t\t\t\tif ( !( handlers = events[ type ] ) ) {\r\n\t\t\t\t\thandlers = events[ type ] = [];\r\n\t\t\t\t\thandlers.delegateCount = 0;\r\n\r\n\t\t\t\t\t// Only use addEventListener/attachEvent if the special events handler returns false\r\n\t\t\t\t\tif ( !special.setup ||\r\n\t\t\t\t\t\tspecial.setup.call( elem, data, namespaces, eventHandle ) === false ) {\r\n\r\n\t\t\t\t\t\t// Bind the global event handler to the element\r\n\t\t\t\t\t\tif ( elem.addEventListener ) {\r\n\t\t\t\t\t\t\telem.addEventListener( type, eventHandle, false );\r\n\r\n\t\t\t\t\t\t} else if ( elem.attachEvent ) {\r\n\t\t\t\t\t\t\telem.attachEvent( \"on\" + type, eventHandle );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( special.add ) {\r\n\t\t\t\t\tspecial.add.call( elem, handleObj );\r\n\r\n\t\t\t\t\tif ( !handleObj.handler.guid ) {\r\n\t\t\t\t\t\thandleObj.handler.guid = handler.guid;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add to the element's handler list, delegates in front\r\n\t\t\t\tif ( selector ) {\r\n\t\t\t\t\thandlers.splice( handlers.delegateCount++, 0, handleObj );\r\n\t\t\t\t} else {\r\n\t\t\t\t\thandlers.push( handleObj );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Keep track of which events have ever been used, for event optimization\r\n\t\t\t\tjQuery.event.global[ type ] = true;\r\n\t\t\t}\r\n\r\n\t\t\t// Nullify elem to prevent memory leaks in IE\r\n\t\t\telem = null;\r\n\t\t},\r\n\r\n\t\t// Detach an event or set of events from an element\r\n\t\tremove: function( elem, types, handler, selector, mappedTypes ) {\r\n\t\t\tvar j, handleObj, tmp,\r\n\t\t\t\torigCount, t, events,\r\n\t\t\t\tspecial, handlers, type,\r\n\t\t\t\tnamespaces, origType,\r\n\t\t\t\telemData = jQuery.hasData( elem ) && jQuery._data( elem );\r\n\r\n\t\t\tif ( !elemData || !( events = elemData.events ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Once for each type.namespace in types; type may be omitted\r\n\t\t\ttypes = ( types || \"\" ).match( rnotwhite ) || [ \"\" ];\r\n\t\t\tt = types.length;\r\n\t\t\twhile ( t-- ) {\r\n\t\t\t\ttmp = rtypenamespace.exec( types[ t ] ) || [];\r\n\t\t\t\ttype = origType = tmp[ 1 ];\r\n\t\t\t\tnamespaces = ( tmp[ 2 ] || \"\" ).split( \".\" ).sort();\r\n\r\n\t\t\t\t// Unbind all events (on this namespace, if provided) for the element\r\n\t\t\t\tif ( !type ) {\r\n\t\t\t\t\tfor ( type in events ) {\r\n\t\t\t\t\t\tjQuery.event.remove( elem, type + types[ t ], handler, selector, true );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\t\t\ttype = ( selector ? special.delegateType : special.bindType ) || type;\r\n\t\t\t\thandlers = events[ type ] || [];\r\n\t\t\t\ttmp = tmp[ 2 ] &&\r\n\t\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" );\r\n\r\n\t\t\t\t// Remove matching events\r\n\t\t\t\torigCount = j = handlers.length;\r\n\t\t\t\twhile ( j-- ) {\r\n\t\t\t\t\thandleObj = handlers[ j ];\r\n\r\n\t\t\t\t\tif ( ( mappedTypes || origType === handleObj.origType ) &&\r\n\t\t\t\t\t\t( !handler || handler.guid === handleObj.guid ) &&\r\n\t\t\t\t\t\t( !tmp || tmp.test( handleObj.namespace ) ) &&\r\n\t\t\t\t\t\t( !selector || selector === handleObj.selector ||\r\n\t\t\t\t\t\tselector === \"**\" && handleObj.selector ) ) {\r\n\t\t\t\t\t\thandlers.splice( j, 1 );\r\n\r\n\t\t\t\t\t\tif ( handleObj.selector ) {\r\n\t\t\t\t\t\t\thandlers.delegateCount--;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( special.remove ) {\r\n\t\t\t\t\t\t\tspecial.remove.call( elem, handleObj );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove generic event handler if we removed something and no more handlers exist\r\n\t\t\t\t// (avoids potential for endless recursion during removal of special event handlers)\r\n\t\t\t\tif ( origCount && !handlers.length ) {\r\n\t\t\t\t\tif ( !special.teardown ||\r\n\t\t\t\t\t\tspecial.teardown.call( elem, namespaces, elemData.handle ) === false ) {\r\n\r\n\t\t\t\t\t\tjQuery.removeEvent( elem, type, elemData.handle );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tdelete events[ type ];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Remove the expando if it's no longer used\r\n\t\t\tif ( jQuery.isEmptyObject( events ) ) {\r\n\t\t\t\tdelete elemData.handle;\r\n\r\n\t\t\t\t// removeData also checks for emptiness and clears the expando if empty\r\n\t\t\t\t// so use it instead of delete\r\n\t\t\t\tjQuery._removeData( elem, \"events\" );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\ttrigger: function( event, data, elem, onlyHandlers ) {\r\n\t\t\tvar handle, ontype, cur,\r\n\t\t\t\tbubbleType, special, tmp, i,\r\n\t\t\t\teventPath = [ elem || document ],\r\n\t\t\t\ttype = hasOwn.call( event, \"type\" ) ? event.type : event,\r\n\t\t\t\tnamespaces = hasOwn.call( event, \"namespace\" ) ? event.namespace.split( \".\" ) : [];\r\n\r\n\t\t\tcur = tmp = elem = elem || document;\r\n\r\n\t\t\t// Don't do events on text and comment nodes\r\n\t\t\tif ( elem.nodeType === 3 || elem.nodeType === 8 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// focus/blur morphs to focusin/out; ensure we're not firing them right now\r\n\t\t\tif ( rfocusMorph.test( type + jQuery.event.triggered ) ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( type.indexOf( \".\" ) > -1 ) {\r\n\r\n\t\t\t\t// Namespaced trigger; create a regexp to match event type in handle()\r\n\t\t\t\tnamespaces = type.split( \".\" );\r\n\t\t\t\ttype = namespaces.shift();\r\n\t\t\t\tnamespaces.sort();\r\n\t\t\t}\r\n\t\t\tontype = type.indexOf( \":\" ) < 0 && \"on\" + type;\r\n\r\n\t\t\t// Caller can pass in a jQuery.Event object, Object, or just an event type string\r\n\t\t\tevent = event[ jQuery.expando ] ?\r\n\t\t\t\tevent :\r\n\t\t\t\tnew jQuery.Event( type, typeof event === \"object\" && event );\r\n\r\n\t\t\t// Trigger bitmask: & 1 for native handlers; & 2 for jQuery (always true)\r\n\t\t\tevent.isTrigger = onlyHandlers ? 2 : 3;\r\n\t\t\tevent.namespace = namespaces.join( \".\" );\r\n\t\t\tevent.rnamespace = event.namespace ?\r\n\t\t\t\tnew RegExp( \"(^|\\\\.)\" + namespaces.join( \"\\\\.(?:.*\\\\.|)\" ) + \"(\\\\.|$)\" ) :\r\n\t\t\t\tnull;\r\n\r\n\t\t\t// Clean up the event in case it is being reused\r\n\t\t\tevent.result = undefined;\r\n\t\t\tif ( !event.target ) {\r\n\t\t\t\tevent.target = elem;\r\n\t\t\t}\r\n\r\n\t\t\t// Clone any incoming data and prepend the event, creating the handler arg list\r\n\t\t\tdata = data == null ?\r\n\t\t\t\t[ event ] :\r\n\t\t\t\tjQuery.makeArray( data, [ event ] );\r\n\r\n\t\t\t// Allow special events to draw outside the lines\r\n\t\t\tspecial = jQuery.event.special[ type ] || {};\r\n\t\t\tif ( !onlyHandlers && special.trigger && special.trigger.apply( elem, data ) === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Determine event propagation path in advance, per W3C events spec (#9951)\r\n\t\t\t// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)\r\n\t\t\tif ( !onlyHandlers && !special.noBubble && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\tbubbleType = special.delegateType || type;\r\n\t\t\t\tif ( !rfocusMorph.test( bubbleType + type ) ) {\r\n\t\t\t\t\tcur = cur.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\tfor ( ; cur; cur = cur.parentNode ) {\r\n\t\t\t\t\teventPath.push( cur );\r\n\t\t\t\t\ttmp = cur;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Only add window if we got to document (e.g., not plain obj or detached DOM)\r\n\t\t\t\tif ( tmp === ( elem.ownerDocument || document ) ) {\r\n\t\t\t\t\teventPath.push( tmp.defaultView || tmp.parentWindow || window );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Fire handlers on the event path\r\n\t\t\ti = 0;\r\n\t\t\twhile ( ( cur = eventPath[ i++ ] ) && !event.isPropagationStopped() ) {\r\n\r\n\t\t\t\tevent.type = i > 1 ?\r\n\t\t\t\t\tbubbleType :\r\n\t\t\t\tspecial.bindType || type;\r\n\r\n\t\t\t\t// jQuery handler\r\n\t\t\t\thandle = ( jQuery._data( cur, \"events\" ) || {} )[ event.type ] &&\r\n\t\t\t\t\tjQuery._data( cur, \"handle\" );\r\n\r\n\t\t\t\tif ( handle ) {\r\n\t\t\t\t\thandle.apply( cur, data );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Native handler\r\n\t\t\t\thandle = ontype && cur[ ontype ];\r\n\t\t\t\tif ( handle && handle.apply && acceptData( cur ) ) {\r\n\t\t\t\t\tevent.result = handle.apply( cur, data );\r\n\t\t\t\t\tif ( event.result === false ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tevent.type = type;\r\n\r\n\t\t\t// If nobody prevented the default action, do it now\r\n\t\t\tif ( !onlyHandlers && !event.isDefaultPrevented() ) {\r\n\r\n\t\t\t\tif (\r\n\t\t\t\t\t( !special._default ||\r\n\t\t\t\t\t\tspecial._default.apply( eventPath.pop(), data ) === false\r\n\t\t\t\t\t) && acceptData( elem )\r\n\t\t\t\t) {\r\n\r\n\t\t\t\t\t// Call a native DOM method on the target with the same name name as the event.\r\n\t\t\t\t\t// Can't use an .isFunction() check here because IE6/7 fails that test.\r\n\t\t\t\t\t// Don't do default actions on window, that's where global variables be (#6170)\r\n\t\t\t\t\tif ( ontype && elem[ type ] && !jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\t\t\t// Don't re-trigger an onFOO event when we call its FOO() method\r\n\t\t\t\t\t\ttmp = elem[ ontype ];\r\n\r\n\t\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\t\telem[ ontype ] = null;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Prevent re-triggering of the same event, since we already bubbled it above\r\n\t\t\t\t\t\tjQuery.event.triggered = type;\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\telem[ type ]();\r\n\t\t\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t\t\t// IE<9 dies on focus/blur to hidden element (#1486,#12518)\r\n\t\t\t\t\t\t\t// only reproducible on winXP IE8 native, not IE9 in IE8 mode\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tjQuery.event.triggered = undefined;\r\n\r\n\t\t\t\t\t\tif ( tmp ) {\r\n\t\t\t\t\t\t\telem[ ontype ] = tmp;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn event.result;\r\n\t\t},\r\n\r\n\t\tdispatch: function( event ) {\r\n\r\n\t\t\t// Make a writable jQuery.Event from the native event object\r\n\t\t\tevent = jQuery.event.fix( event );\r\n\r\n\t\t\tvar i, j, ret, matched, handleObj,\r\n\t\t\t\thandlerQueue = [],\r\n\t\t\t\targs = slice.call( arguments ),\r\n\t\t\t\thandlers = ( jQuery._data( this, \"events\" ) || {} )[ event.type ] || [],\r\n\t\t\t\tspecial = jQuery.event.special[ event.type ] || {};\r\n\r\n\t\t\t// Use the fix-ed jQuery.Event rather than the (read-only) native event\r\n\t\t\targs[ 0 ] = event;\r\n\t\t\tevent.delegateTarget = this;\r\n\r\n\t\t\t// Call the preDispatch hook for the mapped type, and let it bail if desired\r\n\t\t\tif ( special.preDispatch && special.preDispatch.call( this, event ) === false ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Determine handlers\r\n\t\t\thandlerQueue = jQuery.event.handlers.call( this, event, handlers );\r\n\r\n\t\t\t// Run delegates first; they may want to stop propagation beneath us\r\n\t\t\ti = 0;\r\n\t\t\twhile ( ( matched = handlerQueue[ i++ ] ) && !event.isPropagationStopped() ) {\r\n\t\t\t\tevent.currentTarget = matched.elem;\r\n\r\n\t\t\t\tj = 0;\r\n\t\t\t\twhile ( ( handleObj = matched.handlers[ j++ ] ) &&\r\n\t\t\t\t!event.isImmediatePropagationStopped() ) {\r\n\r\n\t\t\t\t\t// Triggered event must either 1) have no namespace, or 2) have namespace(s)\r\n\t\t\t\t\t// a subset or equal to those in the bound event (both can have no namespace).\r\n\t\t\t\t\tif ( !event.rnamespace || event.rnamespace.test( handleObj.namespace ) ) {\r\n\r\n\t\t\t\t\t\tevent.handleObj = handleObj;\r\n\t\t\t\t\t\tevent.data = handleObj.data;\r\n\r\n\t\t\t\t\t\tret = ( ( jQuery.event.special[ handleObj.origType ] || {} ).handle ||\r\n\t\t\t\t\t\thandleObj.handler ).apply( matched.elem, args );\r\n\r\n\t\t\t\t\t\tif ( ret !== undefined ) {\r\n\t\t\t\t\t\t\tif ( ( event.result = ret ) === false ) {\r\n\t\t\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t\t\t\tevent.stopPropagation();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Call the postDispatch hook for the mapped type\r\n\t\t\tif ( special.postDispatch ) {\r\n\t\t\t\tspecial.postDispatch.call( this, event );\r\n\t\t\t}\r\n\r\n\t\t\treturn event.result;\r\n\t\t},\r\n\r\n\t\thandlers: function( event, handlers ) {\r\n\t\t\tvar i, matches, sel, handleObj,\r\n\t\t\t\thandlerQueue = [],\r\n\t\t\t\tdelegateCount = handlers.delegateCount,\r\n\t\t\t\tcur = event.target;\r\n\r\n\t\t\t// Support (at least): Chrome, IE9\r\n\t\t\t// Find delegate handlers\r\n\t\t\t// Black-hole SVG <use> instance trees (#13180)\r\n\t\t\t//\r\n\t\t\t// Support: Firefox<=42+\r\n\t\t\t// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)\r\n\t\t\tif ( delegateCount && cur.nodeType &&\r\n\t\t\t\t( event.type !== \"click\" || isNaN( event.button ) || event.button < 1 ) ) {\r\n\r\n\t\t\t\t/* jshint eqeqeq: false */\r\n\t\t\t\tfor ( ; cur != this; cur = cur.parentNode || this ) {\r\n\t\t\t\t\t/* jshint eqeqeq: true */\r\n\r\n\t\t\t\t\t// Don't check non-elements (#13208)\r\n\t\t\t\t\t// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)\r\n\t\t\t\t\tif ( cur.nodeType === 1 && ( cur.disabled !== true || event.type !== \"click\" ) ) {\r\n\t\t\t\t\t\tmatches = [];\r\n\t\t\t\t\t\tfor ( i = 0; i < delegateCount; i++ ) {\r\n\t\t\t\t\t\t\thandleObj = handlers[ i ];\r\n\r\n\t\t\t\t\t\t\t// Don't conflict with Object.prototype properties (#13203)\r\n\t\t\t\t\t\t\tsel = handleObj.selector + \" \";\r\n\r\n\t\t\t\t\t\t\tif ( matches[ sel ] === undefined ) {\r\n\t\t\t\t\t\t\t\tmatches[ sel ] = handleObj.needsContext ?\r\n\t\t\t\t\t\t\t\tjQuery( sel, this ).index( cur ) > -1 :\r\n\t\t\t\t\t\t\t\t\tjQuery.find( sel, this, null, [ cur ] ).length;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif ( matches[ sel ] ) {\r\n\t\t\t\t\t\t\t\tmatches.push( handleObj );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( matches.length ) {\r\n\t\t\t\t\t\t\thandlerQueue.push( { elem: cur, handlers: matches } );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Add the remaining (directly-bound) handlers\r\n\t\t\tif ( delegateCount < handlers.length ) {\r\n\t\t\t\thandlerQueue.push( { elem: this, handlers: handlers.slice( delegateCount ) } );\r\n\t\t\t}\r\n\r\n\t\t\treturn handlerQueue;\r\n\t\t},\r\n\r\n\t\tfix: function( event ) {\r\n\t\t\tif ( event[ jQuery.expando ] ) {\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\r\n\t\t\t// Create a writable copy of the event object and normalize some properties\r\n\t\t\tvar i, prop, copy,\r\n\t\t\t\ttype = event.type,\r\n\t\t\t\toriginalEvent = event,\r\n\t\t\t\tfixHook = this.fixHooks[ type ];\r\n\r\n\t\t\tif ( !fixHook ) {\r\n\t\t\t\tthis.fixHooks[ type ] = fixHook =\r\n\t\t\t\t\trmouseEvent.test( type ) ? this.mouseHooks :\r\n\t\t\t\t\t\trkeyEvent.test( type ) ? this.keyHooks :\r\n\t\t\t\t\t\t{};\r\n\t\t\t}\r\n\t\t\tcopy = fixHook.props ? this.props.concat( fixHook.props ) : this.props;\r\n\r\n\t\t\tevent = new jQuery.Event( originalEvent );\r\n\r\n\t\t\ti = copy.length;\r\n\t\t\twhile ( i-- ) {\r\n\t\t\t\tprop = copy[ i ];\r\n\t\t\t\tevent[ prop ] = originalEvent[ prop ];\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// Fix target property (#1925)\r\n\t\t\tif ( !event.target ) {\r\n\t\t\t\tevent.target = originalEvent.srcElement || document;\r\n\t\t\t}\r\n\r\n\t\t\t// Support: Safari 6-8+\r\n\t\t\t// Target should not be a text node (#504, #13143)\r\n\t\t\tif ( event.target.nodeType === 3 ) {\r\n\t\t\t\tevent.target = event.target.parentNode;\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)\r\n\t\t\tevent.metaKey = !!event.metaKey;\r\n\r\n\t\t\treturn fixHook.filter ? fixHook.filter( event, originalEvent ) : event;\r\n\t\t},\r\n\r\n\t\t// Includes some event props shared by KeyEvent and MouseEvent\r\n\t\tprops: ( \"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase \" +\r\n\t\t\"metaKey relatedTarget shiftKey target timeStamp view which\" ).split( \" \" ),\r\n\r\n\t\tfixHooks: {},\r\n\r\n\t\tkeyHooks: {\r\n\t\t\tprops: \"char charCode key keyCode\".split( \" \" ),\r\n\t\t\tfilter: function( event, original ) {\r\n\r\n\t\t\t\t// Add which for key events\r\n\t\t\t\tif ( event.which == null ) {\r\n\t\t\t\t\tevent.which = original.charCode != null ? original.charCode : original.keyCode;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tmouseHooks: {\r\n\t\t\tprops: ( \"button buttons clientX clientY fromElement offsetX offsetY \" +\r\n\t\t\t\"pageX pageY screenX screenY toElement\" ).split( \" \" ),\r\n\t\t\tfilter: function( event, original ) {\r\n\t\t\t\tvar body, eventDoc, doc,\r\n\t\t\t\t\tbutton = original.button,\r\n\t\t\t\t\tfromElement = original.fromElement;\r\n\r\n\t\t\t\t// Calculate pageX/Y if missing and clientX/Y available\r\n\t\t\t\tif ( event.pageX == null && original.clientX != null ) {\r\n\t\t\t\t\teventDoc = event.target.ownerDocument || document;\r\n\t\t\t\t\tdoc = eventDoc.documentElement;\r\n\t\t\t\t\tbody = eventDoc.body;\r\n\r\n\t\t\t\t\tevent.pageX = original.clientX +\r\n\t\t\t\t\t\t( doc && doc.scrollLeft || body && body.scrollLeft || 0 ) -\r\n\t\t\t\t\t\t( doc && doc.clientLeft || body && body.clientLeft || 0 );\r\n\t\t\t\t\tevent.pageY = original.clientY +\r\n\t\t\t\t\t\t( doc && doc.scrollTop  || body && body.scrollTop  || 0 ) -\r\n\t\t\t\t\t\t( doc && doc.clientTop  || body && body.clientTop  || 0 );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add relatedTarget, if necessary\r\n\t\t\t\tif ( !event.relatedTarget && fromElement ) {\r\n\t\t\t\t\tevent.relatedTarget = fromElement === event.target ?\r\n\t\t\t\t\t\toriginal.toElement :\r\n\t\t\t\t\t\tfromElement;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add which for click: 1 === left; 2 === middle; 3 === right\r\n\t\t\t\t// Note: button is not normalized, so don't use it\r\n\t\t\t\tif ( !event.which && button !== undefined ) {\r\n\t\t\t\t\tevent.which = ( button & 1 ? 1 : ( button & 2 ? 3 : ( button & 4 ? 2 : 0 ) ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn event;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tspecial: {\r\n\t\t\tload: {\r\n\r\n\t\t\t\t// Prevent triggered image.load events from bubbling to window.load\r\n\t\t\t\tnoBubble: true\r\n\t\t\t},\r\n\t\t\tfocus: {\r\n\r\n\t\t\t\t// Fire native event if possible so blur/focus sequence is correct\r\n\t\t\t\ttrigger: function() {\r\n\t\t\t\t\tif ( this !== safeActiveElement() && this.focus ) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tthis.focus();\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t\t\t// Support: IE<9\r\n\t\t\t\t\t\t\t// If we error on focus to hidden element (#1486, #12518),\r\n\t\t\t\t\t\t\t// let .trigger() run the handlers\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdelegateType: \"focusin\"\r\n\t\t\t},\r\n\t\t\tblur: {\r\n\t\t\t\ttrigger: function() {\r\n\t\t\t\t\tif ( this === safeActiveElement() && this.blur ) {\r\n\t\t\t\t\t\tthis.blur();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tdelegateType: \"focusout\"\r\n\t\t\t},\r\n\t\t\tclick: {\r\n\r\n\t\t\t\t// For checkbox, fire native event so checked state will be right\r\n\t\t\t\ttrigger: function() {\r\n\t\t\t\t\tif ( jQuery.nodeName( this, \"input\" ) && this.type === \"checkbox\" && this.click ) {\r\n\t\t\t\t\t\tthis.click();\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\r\n\t\t\t\t// For cross-browser consistency, don't fire native .click() on links\r\n\t\t\t\t_default: function( event ) {\r\n\t\t\t\t\treturn jQuery.nodeName( event.target, \"a\" );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tbeforeunload: {\r\n\t\t\t\tpostDispatch: function( event ) {\r\n\r\n\t\t\t\t\t// Support: Firefox 20+\r\n\t\t\t\t\t// Firefox doesn't alert if the returnValue field is not set.\r\n\t\t\t\t\tif ( event.result !== undefined && event.originalEvent ) {\r\n\t\t\t\t\t\tevent.originalEvent.returnValue = event.result;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Piggyback on a donor event to simulate a different one\r\n\t\tsimulate: function( type, elem, event ) {\r\n\t\t\tvar e = jQuery.extend(\r\n\t\t\t\tnew jQuery.Event(),\r\n\t\t\t\tevent,\r\n\t\t\t\t{\r\n\t\t\t\t\ttype: type,\r\n\t\t\t\t\tisSimulated: true\r\n\r\n\t\t\t\t\t// Previously, `originalEvent: {}` was set here, so stopPropagation call\r\n\t\t\t\t\t// would not be triggered on donor event, since in our own\r\n\t\t\t\t\t// jQuery.event.stopPropagation function we had a check for existence of\r\n\t\t\t\t\t// originalEvent.stopPropagation method, so, consequently it would be a noop.\r\n\t\t\t\t\t//\r\n\t\t\t\t\t// Guard for simulated events was moved to jQuery.event.stopPropagation function\r\n\t\t\t\t\t// since `originalEvent` should point to the original event for the\r\n\t\t\t\t\t// constancy with other events and for more focused logic\r\n\t\t\t\t}\r\n\t\t\t);\r\n\r\n\t\t\tjQuery.event.trigger( e, null, elem );\r\n\r\n\t\t\tif ( e.isDefaultPrevented() ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.removeEvent = document.removeEventListener ?\r\n\t\tfunction( elem, type, handle ) {\r\n\r\n\t\t\t// This \"if\" is needed for plain objects\r\n\t\t\tif ( elem.removeEventListener ) {\r\n\t\t\t\telem.removeEventListener( type, handle );\r\n\t\t\t}\r\n\t\t} :\r\n\t\tfunction( elem, type, handle ) {\r\n\t\t\tvar name = \"on\" + type;\r\n\r\n\t\t\tif ( elem.detachEvent ) {\r\n\r\n\t\t\t\t// #8545, #7054, preventing memory leaks for custom events in IE6-8\r\n\t\t\t\t// detachEvent needed property on element, by name of that event,\r\n\t\t\t\t// to properly expose it to GC\r\n\t\t\t\tif ( typeof elem[ name ] === \"undefined\" ) {\r\n\t\t\t\t\telem[ name ] = null;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.detachEvent( name, handle );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\tjQuery.Event = function( src, props ) {\r\n\r\n\t\t// Allow instantiation without the 'new' keyword\r\n\t\tif ( !( this instanceof jQuery.Event ) ) {\r\n\t\t\treturn new jQuery.Event( src, props );\r\n\t\t}\r\n\r\n\t\t// Event object\r\n\t\tif ( src && src.type ) {\r\n\t\t\tthis.originalEvent = src;\r\n\t\t\tthis.type = src.type;\r\n\r\n\t\t\t// Events bubbling up the document may have been marked as prevented\r\n\t\t\t// by a handler lower down the tree; reflect the correct value.\r\n\t\t\tthis.isDefaultPrevented = src.defaultPrevented ||\r\n\t\t\tsrc.defaultPrevented === undefined &&\r\n\r\n\t\t\t// Support: IE < 9, Android < 4.0\r\n\t\t\tsrc.returnValue === false ?\r\n\t\t\t\treturnTrue :\r\n\t\t\t\treturnFalse;\r\n\r\n\t\t\t// Event type\r\n\t\t} else {\r\n\t\t\tthis.type = src;\r\n\t\t}\r\n\r\n\t\t// Put explicitly provided properties onto the event object\r\n\t\tif ( props ) {\r\n\t\t\tjQuery.extend( this, props );\r\n\t\t}\r\n\r\n\t\t// Create a timestamp if incoming event doesn't have one\r\n\t\tthis.timeStamp = src && src.timeStamp || jQuery.now();\r\n\r\n\t\t// Mark it as fixed\r\n\t\tthis[ jQuery.expando ] = true;\r\n\t};\r\n\r\n// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding\r\n// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\r\n\tjQuery.Event.prototype = {\r\n\t\tconstructor: jQuery.Event,\r\n\t\tisDefaultPrevented: returnFalse,\r\n\t\tisPropagationStopped: returnFalse,\r\n\t\tisImmediatePropagationStopped: returnFalse,\r\n\r\n\t\tpreventDefault: function() {\r\n\t\t\tvar e = this.originalEvent;\r\n\r\n\t\t\tthis.isDefaultPrevented = returnTrue;\r\n\t\t\tif ( !e ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If preventDefault exists, run it on the original event\r\n\t\t\tif ( e.preventDefault ) {\r\n\t\t\t\te.preventDefault();\r\n\r\n\t\t\t\t// Support: IE\r\n\t\t\t\t// Otherwise set the returnValue property of the original event to false\r\n\t\t\t} else {\r\n\t\t\t\te.returnValue = false;\r\n\t\t\t}\r\n\t\t},\r\n\t\tstopPropagation: function() {\r\n\t\t\tvar e = this.originalEvent;\r\n\r\n\t\t\tthis.isPropagationStopped = returnTrue;\r\n\r\n\t\t\tif ( !e || this.isSimulated ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// If stopPropagation exists, run it on the original event\r\n\t\t\tif ( e.stopPropagation ) {\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE\r\n\t\t\t// Set the cancelBubble property of the original event to true\r\n\t\t\te.cancelBubble = true;\r\n\t\t},\r\n\t\tstopImmediatePropagation: function() {\r\n\t\t\tvar e = this.originalEvent;\r\n\r\n\t\t\tthis.isImmediatePropagationStopped = returnTrue;\r\n\r\n\t\t\tif ( e && e.stopImmediatePropagation ) {\r\n\t\t\t\te.stopImmediatePropagation();\r\n\t\t\t}\r\n\r\n\t\t\tthis.stopPropagation();\r\n\t\t}\r\n\t};\r\n\r\n// Create mouseenter/leave events using mouseover/out and event-time checks\r\n// so that event delegation works in jQuery.\r\n// Do the same for pointerenter/pointerleave and pointerover/pointerout\r\n//\r\n// Support: Safari 7 only\r\n// Safari sends mouseenter too often; see:\r\n// https://code.google.com/p/chromium/issues/detail?id=470258\r\n// for the description of the bug (it existed in older Chrome versions as well).\r\n\tjQuery.each( {\r\n\t\tmouseenter: \"mouseover\",\r\n\t\tmouseleave: \"mouseout\",\r\n\t\tpointerenter: \"pointerover\",\r\n\t\tpointerleave: \"pointerout\"\r\n\t}, function( orig, fix ) {\r\n\t\tjQuery.event.special[ orig ] = {\r\n\t\t\tdelegateType: fix,\r\n\t\t\tbindType: fix,\r\n\r\n\t\t\thandle: function( event ) {\r\n\t\t\t\tvar ret,\r\n\t\t\t\t\ttarget = this,\r\n\t\t\t\t\trelated = event.relatedTarget,\r\n\t\t\t\t\thandleObj = event.handleObj;\r\n\r\n\t\t\t\t// For mouseenter/leave call the handler if related is outside the target.\r\n\t\t\t\t// NB: No relatedTarget if the mouse left/entered the browser window\r\n\t\t\t\tif ( !related || ( related !== target && !jQuery.contains( target, related ) ) ) {\r\n\t\t\t\t\tevent.type = handleObj.origType;\r\n\t\t\t\t\tret = handleObj.handler.apply( this, arguments );\r\n\t\t\t\t\tevent.type = fix;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t};\r\n\t} );\r\n\r\n// IE submit delegation\r\n\tif ( !support.submit ) {\r\n\r\n\t\tjQuery.event.special.submit = {\r\n\t\t\tsetup: function() {\r\n\r\n\t\t\t\t// Only need this for delegated form submit events\r\n\t\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Lazy-add a submit handler when a descendant form may potentially be submitted\r\n\t\t\t\tjQuery.event.add( this, \"click._submit keypress._submit\", function( e ) {\r\n\r\n\t\t\t\t\t// Node name check avoids a VML-related crash in IE (#9807)\r\n\t\t\t\t\tvar elem = e.target,\r\n\t\t\t\t\t\tform = jQuery.nodeName( elem, \"input\" ) || jQuery.nodeName( elem, \"button\" ) ?\r\n\r\n\t\t\t\t\t\t\t// Support: IE <=8\r\n\t\t\t\t\t\t\t// We use jQuery.prop instead of elem.form\r\n\t\t\t\t\t\t\t// to allow fixing the IE8 delegated submit issue (gh-2332)\r\n\t\t\t\t\t\t\t// by 3rd party polyfills/workarounds.\r\n\t\t\t\t\t\t\tjQuery.prop( elem, \"form\" ) :\r\n\t\t\t\t\t\t\tundefined;\r\n\r\n\t\t\t\t\tif ( form && !jQuery._data( form, \"submit\" ) ) {\r\n\t\t\t\t\t\tjQuery.event.add( form, \"submit._submit\", function( event ) {\r\n\t\t\t\t\t\t\tevent._submitBubble = true;\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tjQuery._data( form, \"submit\", true );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\r\n\t\t\t\t// return undefined since we don't need an event listener\r\n\t\t\t},\r\n\r\n\t\t\tpostDispatch: function( event ) {\r\n\r\n\t\t\t\t// If form was submitted by the user, bubble the event up the tree\r\n\t\t\t\tif ( event._submitBubble ) {\r\n\t\t\t\t\tdelete event._submitBubble;\r\n\t\t\t\t\tif ( this.parentNode && !event.isTrigger ) {\r\n\t\t\t\t\t\tjQuery.event.simulate( \"submit\", this.parentNode, event );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tteardown: function() {\r\n\r\n\t\t\t\t// Only need this for delegated form submit events\r\n\t\t\t\tif ( jQuery.nodeName( this, \"form\" ) ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove delegated handlers; cleanData eventually reaps submit handlers attached above\r\n\t\t\t\tjQuery.event.remove( this, \"._submit\" );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n// IE change delegation and checkbox/radio fix\r\n\tif ( !support.change ) {\r\n\r\n\t\tjQuery.event.special.change = {\r\n\r\n\t\t\tsetup: function() {\r\n\r\n\t\t\t\tif ( rformElems.test( this.nodeName ) ) {\r\n\r\n\t\t\t\t\t// IE doesn't fire change on a check/radio until blur; trigger it on click\r\n\t\t\t\t\t// after a propertychange. Eat the blur-change in special.change.handle.\r\n\t\t\t\t\t// This still fires onchange a second time for check/radio after blur.\r\n\t\t\t\t\tif ( this.type === \"checkbox\" || this.type === \"radio\" ) {\r\n\t\t\t\t\t\tjQuery.event.add( this, \"propertychange._change\", function( event ) {\r\n\t\t\t\t\t\t\tif ( event.originalEvent.propertyName === \"checked\" ) {\r\n\t\t\t\t\t\t\t\tthis._justChanged = true;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tjQuery.event.add( this, \"click._change\", function( event ) {\r\n\t\t\t\t\t\t\tif ( this._justChanged && !event.isTrigger ) {\r\n\t\t\t\t\t\t\t\tthis._justChanged = false;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Allow triggered, simulated change events (#11500)\r\n\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this, event );\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Delegated event; lazy-add a change handler on descendant inputs\r\n\t\t\t\tjQuery.event.add( this, \"beforeactivate._change\", function( e ) {\r\n\t\t\t\t\tvar elem = e.target;\r\n\r\n\t\t\t\t\tif ( rformElems.test( elem.nodeName ) && !jQuery._data( elem, \"change\" ) ) {\r\n\t\t\t\t\t\tjQuery.event.add( elem, \"change._change\", function( event ) {\r\n\t\t\t\t\t\t\tif ( this.parentNode && !event.isSimulated && !event.isTrigger ) {\r\n\t\t\t\t\t\t\t\tjQuery.event.simulate( \"change\", this.parentNode, event );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} );\r\n\t\t\t\t\t\tjQuery._data( elem, \"change\", true );\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t},\r\n\r\n\t\t\thandle: function( event ) {\r\n\t\t\t\tvar elem = event.target;\r\n\r\n\t\t\t\t// Swallow native change events from checkbox/radio, we already triggered them above\r\n\t\t\t\tif ( this !== elem || event.isSimulated || event.isTrigger ||\r\n\t\t\t\t\t( elem.type !== \"radio\" && elem.type !== \"checkbox\" ) ) {\r\n\r\n\t\t\t\t\treturn event.handleObj.handler.apply( this, arguments );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tteardown: function() {\r\n\t\t\t\tjQuery.event.remove( this, \"._change\" );\r\n\r\n\t\t\t\treturn !rformElems.test( this.nodeName );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n// Support: Firefox\r\n// Firefox doesn't have focus(in | out) events\r\n// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787\r\n//\r\n// Support: Chrome, Safari\r\n// focus(in | out) events fire after focus & blur events,\r\n// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order\r\n// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857\r\n\tif ( !support.focusin ) {\r\n\t\tjQuery.each( { focus: \"focusin\", blur: \"focusout\" }, function( orig, fix ) {\r\n\r\n\t\t\t// Attach a single capturing handler on the document while someone wants focusin/focusout\r\n\t\t\tvar handler = function( event ) {\r\n\t\t\t\tjQuery.event.simulate( fix, event.target, jQuery.event.fix( event ) );\r\n\t\t\t};\r\n\r\n\t\t\tjQuery.event.special[ fix ] = {\r\n\t\t\t\tsetup: function() {\r\n\t\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\t\tattaches = jQuery._data( doc, fix );\r\n\r\n\t\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\t\tdoc.addEventListener( orig, handler, true );\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjQuery._data( doc, fix, ( attaches || 0 ) + 1 );\r\n\t\t\t\t},\r\n\t\t\t\tteardown: function() {\r\n\t\t\t\t\tvar doc = this.ownerDocument || this,\r\n\t\t\t\t\t\tattaches = jQuery._data( doc, fix ) - 1;\r\n\r\n\t\t\t\t\tif ( !attaches ) {\r\n\t\t\t\t\t\tdoc.removeEventListener( orig, handler, true );\r\n\t\t\t\t\t\tjQuery._removeData( doc, fix );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery._data( doc, fix, attaches );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} );\r\n\t}\r\n\r\n\tjQuery.fn.extend( {\r\n\r\n\t\ton: function( types, selector, data, fn ) {\r\n\t\t\treturn on( this, types, selector, data, fn );\r\n\t\t},\r\n\t\tone: function( types, selector, data, fn ) {\r\n\t\t\treturn on( this, types, selector, data, fn, 1 );\r\n\t\t},\r\n\t\toff: function( types, selector, fn ) {\r\n\t\t\tvar handleObj, type;\r\n\t\t\tif ( types && types.preventDefault && types.handleObj ) {\r\n\r\n\t\t\t\t// ( event )  dispatched jQuery.Event\r\n\t\t\t\thandleObj = types.handleObj;\r\n\t\t\t\tjQuery( types.delegateTarget ).off(\r\n\t\t\t\t\thandleObj.namespace ?\r\n\t\t\t\t\thandleObj.origType + \".\" + handleObj.namespace :\r\n\t\t\t\t\t\thandleObj.origType,\r\n\t\t\t\t\thandleObj.selector,\r\n\t\t\t\t\thandleObj.handler\r\n\t\t\t\t);\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tif ( typeof types === \"object\" ) {\r\n\r\n\t\t\t\t// ( types-object [, selector] )\r\n\t\t\t\tfor ( type in types ) {\r\n\t\t\t\t\tthis.off( type, selector, types[ type ] );\r\n\t\t\t\t}\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tif ( selector === false || typeof selector === \"function\" ) {\r\n\r\n\t\t\t\t// ( types [, fn] )\r\n\t\t\t\tfn = selector;\r\n\t\t\t\tselector = undefined;\r\n\t\t\t}\r\n\t\t\tif ( fn === false ) {\r\n\t\t\t\tfn = returnFalse;\r\n\t\t\t}\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tjQuery.event.remove( this, types, fn, selector );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\ttrigger: function( type, data ) {\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tjQuery.event.trigger( type, data, this );\r\n\t\t\t} );\r\n\t\t},\r\n\t\ttriggerHandler: function( type, data ) {\r\n\t\t\tvar elem = this[ 0 ];\r\n\t\t\tif ( elem ) {\r\n\t\t\t\treturn jQuery.event.trigger( type, data, elem, true );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\tvar rinlinejQuery = / jQuery\\d+=\"(?:null|\\d+)\"/g,\r\n\t\trnoshimcache = new RegExp( \"<(?:\" + nodeNames + \")[\\\\s/>]\", \"i\" ),\r\n\t\trxhtmlTag = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:-]+)[^>]*)\\/>/gi,\r\n\r\n\t\t// Support: IE 10-11, Edge 10240+\r\n\t\t// In IE/Edge using regex groups here causes severe slowdowns.\r\n\t\t// See https://connect.microsoft.com/IE/feedback/details/1736512/\r\n\t\trnoInnerhtml = /<script|<style|<link/i,\r\n\r\n\t\t// checked=\"checked\" or checked\r\n\t\trchecked = /checked\\s*(?:[^=]|=\\s*.checked.)/i,\r\n\t\trscriptTypeMasked = /^true\\/(.*)/,\r\n\t\trcleanScript = /^\\s*<!(?:\\[CDATA\\[|--)|(?:\\]\\]|--)>\\s*$/g,\r\n\t\tsafeFragment = createSafeFragment( document ),\r\n\t\tfragmentDiv = safeFragment.appendChild( document.createElement( \"div\" ) );\r\n\r\n// Support: IE<8\r\n// Manipulating tables requires a tbody\r\n\tfunction manipulationTarget( elem, content ) {\r\n\t\treturn jQuery.nodeName( elem, \"table\" ) &&\r\n\t\tjQuery.nodeName( content.nodeType !== 11 ? content : content.firstChild, \"tr\" ) ?\r\n\r\n\t\telem.getElementsByTagName( \"tbody\" )[ 0 ] ||\r\n\t\telem.appendChild( elem.ownerDocument.createElement( \"tbody\" ) ) :\r\n\t\t\telem;\r\n\t}\r\n\r\n// Replace/restore the type attribute of script elements for safe DOM manipulation\r\n\tfunction disableScript( elem ) {\r\n\t\telem.type = ( jQuery.find.attr( elem, \"type\" ) !== null ) + \"/\" + elem.type;\r\n\t\treturn elem;\r\n\t}\r\n\tfunction restoreScript( elem ) {\r\n\t\tvar match = rscriptTypeMasked.exec( elem.type );\r\n\t\tif ( match ) {\r\n\t\t\telem.type = match[ 1 ];\r\n\t\t} else {\r\n\t\t\telem.removeAttribute( \"type\" );\r\n\t\t}\r\n\t\treturn elem;\r\n\t}\r\n\r\n\tfunction cloneCopyEvent( src, dest ) {\r\n\t\tif ( dest.nodeType !== 1 || !jQuery.hasData( src ) ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar type, i, l,\r\n\t\t\toldData = jQuery._data( src ),\r\n\t\t\tcurData = jQuery._data( dest, oldData ),\r\n\t\t\tevents = oldData.events;\r\n\r\n\t\tif ( events ) {\r\n\t\t\tdelete curData.handle;\r\n\t\t\tcurData.events = {};\r\n\r\n\t\t\tfor ( type in events ) {\r\n\t\t\t\tfor ( i = 0, l = events[ type ].length; i < l; i++ ) {\r\n\t\t\t\t\tjQuery.event.add( dest, type, events[ type ][ i ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// make the cloned public data object a copy from the original\r\n\t\tif ( curData.data ) {\r\n\t\t\tcurData.data = jQuery.extend( {}, curData.data );\r\n\t\t}\r\n\t}\r\n\r\n\tfunction fixCloneNodeIssues( src, dest ) {\r\n\t\tvar nodeName, e, data;\r\n\r\n\t\t// We do not need to do anything for non-Elements\r\n\t\tif ( dest.nodeType !== 1 ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tnodeName = dest.nodeName.toLowerCase();\r\n\r\n\t\t// IE6-8 copies events bound via attachEvent when using cloneNode.\r\n\t\tif ( !support.noCloneEvent && dest[ jQuery.expando ] ) {\r\n\t\t\tdata = jQuery._data( dest );\r\n\r\n\t\t\tfor ( e in data.events ) {\r\n\t\t\t\tjQuery.removeEvent( dest, e, data.handle );\r\n\t\t\t}\r\n\r\n\t\t\t// Event data gets referenced instead of copied if the expando gets copied too\r\n\t\t\tdest.removeAttribute( jQuery.expando );\r\n\t\t}\r\n\r\n\t\t// IE blanks contents when cloning scripts, and tries to evaluate newly-set text\r\n\t\tif ( nodeName === \"script\" && dest.text !== src.text ) {\r\n\t\t\tdisableScript( dest ).text = src.text;\r\n\t\t\trestoreScript( dest );\r\n\r\n\t\t\t// IE6-10 improperly clones children of object elements using classid.\r\n\t\t\t// IE10 throws NoModificationAllowedError if parent is null, #12132.\r\n\t\t} else if ( nodeName === \"object\" ) {\r\n\t\t\tif ( dest.parentNode ) {\r\n\t\t\t\tdest.outerHTML = src.outerHTML;\r\n\t\t\t}\r\n\r\n\t\t\t// This path appears unavoidable for IE9. When cloning an object\r\n\t\t\t// element in IE9, the outerHTML strategy above is not sufficient.\r\n\t\t\t// If the src has innerHTML and the destination does not,\r\n\t\t\t// copy the src.innerHTML into the dest.innerHTML. #10324\r\n\t\t\tif ( support.html5Clone && ( src.innerHTML && !jQuery.trim( dest.innerHTML ) ) ) {\r\n\t\t\t\tdest.innerHTML = src.innerHTML;\r\n\t\t\t}\r\n\r\n\t\t} else if ( nodeName === \"input\" && rcheckableType.test( src.type ) ) {\r\n\r\n\t\t\t// IE6-8 fails to persist the checked state of a cloned checkbox\r\n\t\t\t// or radio button. Worse, IE6-7 fail to give the cloned element\r\n\t\t\t// a checked appearance if the defaultChecked value isn't also set\r\n\r\n\t\t\tdest.defaultChecked = dest.checked = src.checked;\r\n\r\n\t\t\t// IE6-7 get confused and end up setting the value of a cloned\r\n\t\t\t// checkbox/radio button to an empty string instead of \"on\"\r\n\t\t\tif ( dest.value !== src.value ) {\r\n\t\t\t\tdest.value = src.value;\r\n\t\t\t}\r\n\r\n\t\t\t// IE6-8 fails to return the selected option to the default selected\r\n\t\t\t// state when cloning options\r\n\t\t} else if ( nodeName === \"option\" ) {\r\n\t\t\tdest.defaultSelected = dest.selected = src.defaultSelected;\r\n\r\n\t\t\t// IE6-8 fails to set the defaultValue to the correct value when\r\n\t\t\t// cloning other types of input fields\r\n\t\t} else if ( nodeName === \"input\" || nodeName === \"textarea\" ) {\r\n\t\t\tdest.defaultValue = src.defaultValue;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction domManip( collection, args, callback, ignored ) {\r\n\r\n\t\t// Flatten any nested arrays\r\n\t\targs = concat.apply( [], args );\r\n\r\n\t\tvar first, node, hasScripts,\r\n\t\t\tscripts, doc, fragment,\r\n\t\t\ti = 0,\r\n\t\t\tl = collection.length,\r\n\t\t\tiNoClone = l - 1,\r\n\t\t\tvalue = args[ 0 ],\r\n\t\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\t// We can't cloneNode fragments that contain checked, in WebKit\r\n\t\tif ( isFunction ||\r\n\t\t\t( l > 1 && typeof value === \"string\" &&\r\n\t\t\t!support.checkClone && rchecked.test( value ) ) ) {\r\n\t\t\treturn collection.each( function( index ) {\r\n\t\t\t\tvar self = collection.eq( index );\r\n\t\t\t\tif ( isFunction ) {\r\n\t\t\t\t\targs[ 0 ] = value.call( this, index, self.html() );\r\n\t\t\t\t}\r\n\t\t\t\tdomManip( self, args, callback, ignored );\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\tif ( l ) {\r\n\t\t\tfragment = buildFragment( args, collection[ 0 ].ownerDocument, false, collection, ignored );\r\n\t\t\tfirst = fragment.firstChild;\r\n\r\n\t\t\tif ( fragment.childNodes.length === 1 ) {\r\n\t\t\t\tfragment = first;\r\n\t\t\t}\r\n\r\n\t\t\t// Require either new content or an interest in ignored elements to invoke the callback\r\n\t\t\tif ( first || ignored ) {\r\n\t\t\t\tscripts = jQuery.map( getAll( fragment, \"script\" ), disableScript );\r\n\t\t\t\thasScripts = scripts.length;\r\n\r\n\t\t\t\t// Use the original fragment for the last item\r\n\t\t\t\t// instead of the first because it can end up\r\n\t\t\t\t// being emptied incorrectly in certain situations (#8070).\r\n\t\t\t\tfor ( ; i < l; i++ ) {\r\n\t\t\t\t\tnode = fragment;\r\n\r\n\t\t\t\t\tif ( i !== iNoClone ) {\r\n\t\t\t\t\t\tnode = jQuery.clone( node, true, true );\r\n\r\n\t\t\t\t\t\t// Keep references to cloned scripts for later restoration\r\n\t\t\t\t\t\tif ( hasScripts ) {\r\n\r\n\t\t\t\t\t\t\t// Support: Android<4.1, PhantomJS<2\r\n\t\t\t\t\t\t\t// push.apply(_, arraylike) throws on ancient WebKit\r\n\t\t\t\t\t\t\tjQuery.merge( scripts, getAll( node, \"script\" ) );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tcallback.call( collection[ i ], node, i );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hasScripts ) {\r\n\t\t\t\t\tdoc = scripts[ scripts.length - 1 ].ownerDocument;\r\n\r\n\t\t\t\t\t// Reenable scripts\r\n\t\t\t\t\tjQuery.map( scripts, restoreScript );\r\n\r\n\t\t\t\t\t// Evaluate executable scripts on first document insertion\r\n\t\t\t\t\tfor ( i = 0; i < hasScripts; i++ ) {\r\n\t\t\t\t\t\tnode = scripts[ i ];\r\n\t\t\t\t\t\tif ( rscriptType.test( node.type || \"\" ) &&\r\n\t\t\t\t\t\t\t!jQuery._data( node, \"globalEval\" ) &&\r\n\t\t\t\t\t\t\tjQuery.contains( doc, node ) ) {\r\n\r\n\t\t\t\t\t\t\tif ( node.src ) {\r\n\r\n\t\t\t\t\t\t\t\t// Optional AJAX dependency, but won't run scripts if not present\r\n\t\t\t\t\t\t\t\tif ( jQuery._evalUrl ) {\r\n\t\t\t\t\t\t\t\t\tjQuery._evalUrl( node.src );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tjQuery.globalEval(\r\n\t\t\t\t\t\t\t\t\t( node.text || node.textContent || node.innerHTML || \"\" )\r\n\t\t\t\t\t\t\t\t\t\t.replace( rcleanScript, \"\" )\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fix #11809: Avoid leaking memory\r\n\t\t\t\tfragment = first = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn collection;\r\n\t}\r\n\r\n\tfunction remove( elem, selector, keepData ) {\r\n\t\tvar node,\r\n\t\t\telems = selector ? jQuery.filter( selector, elem ) : elem,\r\n\t\t\ti = 0;\r\n\r\n\t\tfor ( ; ( node = elems[ i ] ) != null; i++ ) {\r\n\r\n\t\t\tif ( !keepData && node.nodeType === 1 ) {\r\n\t\t\t\tjQuery.cleanData( getAll( node ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( node.parentNode ) {\r\n\t\t\t\tif ( keepData && jQuery.contains( node.ownerDocument, node ) ) {\r\n\t\t\t\t\tsetGlobalEval( getAll( node, \"script\" ) );\r\n\t\t\t\t}\r\n\t\t\t\tnode.parentNode.removeChild( node );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn elem;\r\n\t}\r\n\r\n\tjQuery.extend( {\r\n\t\thtmlPrefilter: function( html ) {\r\n\t\t\treturn html.replace( rxhtmlTag, \"<$1></$2>\" );\r\n\t\t},\r\n\r\n\t\tclone: function( elem, dataAndEvents, deepDataAndEvents ) {\r\n\t\t\tvar destElements, node, clone, i, srcElements,\r\n\t\t\t\tinPage = jQuery.contains( elem.ownerDocument, elem );\r\n\r\n\t\t\tif ( support.html5Clone || jQuery.isXMLDoc( elem ) ||\r\n\t\t\t\t!rnoshimcache.test( \"<\" + elem.nodeName + \">\" ) ) {\r\n\r\n\t\t\t\tclone = elem.cloneNode( true );\r\n\r\n\t\t\t\t// IE<=8 does not properly clone detached, unknown element nodes\r\n\t\t\t} else {\r\n\t\t\t\tfragmentDiv.innerHTML = elem.outerHTML;\r\n\t\t\t\tfragmentDiv.removeChild( clone = fragmentDiv.firstChild );\r\n\t\t\t}\r\n\r\n\t\t\tif ( ( !support.noCloneEvent || !support.noCloneChecked ) &&\r\n\t\t\t\t( elem.nodeType === 1 || elem.nodeType === 11 ) && !jQuery.isXMLDoc( elem ) ) {\r\n\r\n\t\t\t\t// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2\r\n\t\t\t\tdestElements = getAll( clone );\r\n\t\t\t\tsrcElements = getAll( elem );\r\n\r\n\t\t\t\t// Fix all IE cloning issues\r\n\t\t\t\tfor ( i = 0; ( node = srcElements[ i ] ) != null; ++i ) {\r\n\r\n\t\t\t\t\t// Ensure that the destination node is not null; Fixes #9587\r\n\t\t\t\t\tif ( destElements[ i ] ) {\r\n\t\t\t\t\t\tfixCloneNodeIssues( node, destElements[ i ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Copy the events from the original to the clone\r\n\t\t\tif ( dataAndEvents ) {\r\n\t\t\t\tif ( deepDataAndEvents ) {\r\n\t\t\t\t\tsrcElements = srcElements || getAll( elem );\r\n\t\t\t\t\tdestElements = destElements || getAll( clone );\r\n\r\n\t\t\t\t\tfor ( i = 0; ( node = srcElements[ i ] ) != null; i++ ) {\r\n\t\t\t\t\t\tcloneCopyEvent( node, destElements[ i ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcloneCopyEvent( elem, clone );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Preserve script evaluation history\r\n\t\t\tdestElements = getAll( clone, \"script\" );\r\n\t\t\tif ( destElements.length > 0 ) {\r\n\t\t\t\tsetGlobalEval( destElements, !inPage && getAll( elem, \"script\" ) );\r\n\t\t\t}\r\n\r\n\t\t\tdestElements = srcElements = node = null;\r\n\r\n\t\t\t// Return the cloned set\r\n\t\t\treturn clone;\r\n\t\t},\r\n\r\n\t\tcleanData: function( elems, /* internal */ forceAcceptData ) {\r\n\t\t\tvar elem, type, id, data,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tinternalKey = jQuery.expando,\r\n\t\t\t\tcache = jQuery.cache,\r\n\t\t\t\tattributes = support.attributes,\r\n\t\t\t\tspecial = jQuery.event.special;\r\n\r\n\t\t\tfor ( ; ( elem = elems[ i ] ) != null; i++ ) {\r\n\t\t\t\tif ( forceAcceptData || acceptData( elem ) ) {\r\n\r\n\t\t\t\t\tid = elem[ internalKey ];\r\n\t\t\t\t\tdata = id && cache[ id ];\r\n\r\n\t\t\t\t\tif ( data ) {\r\n\t\t\t\t\t\tif ( data.events ) {\r\n\t\t\t\t\t\t\tfor ( type in data.events ) {\r\n\t\t\t\t\t\t\t\tif ( special[ type ] ) {\r\n\t\t\t\t\t\t\t\t\tjQuery.event.remove( elem, type );\r\n\r\n\t\t\t\t\t\t\t\t\t// This is a shortcut to avoid jQuery.event.remove's overhead\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tjQuery.removeEvent( elem, type, data.handle );\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Remove cache only if it was not already removed by jQuery.event.remove\r\n\t\t\t\t\t\tif ( cache[ id ] ) {\r\n\r\n\t\t\t\t\t\t\tdelete cache[ id ];\r\n\r\n\t\t\t\t\t\t\t// Support: IE<9\r\n\t\t\t\t\t\t\t// IE does not allow us to delete expando properties from nodes\r\n\t\t\t\t\t\t\t// IE creates expando attributes along with the property\r\n\t\t\t\t\t\t\t// IE does not have a removeAttribute function on Document nodes\r\n\t\t\t\t\t\t\tif ( !attributes && typeof elem.removeAttribute !== \"undefined\" ) {\r\n\t\t\t\t\t\t\t\telem.removeAttribute( internalKey );\r\n\r\n\t\t\t\t\t\t\t\t// Webkit & Blink performance suffers when deleting properties\r\n\t\t\t\t\t\t\t\t// from DOM nodes, so set to undefined instead\r\n\t\t\t\t\t\t\t\t// https://code.google.com/p/chromium/issues/detail?id=378607\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\telem[ internalKey ] = undefined;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\tdeletedIds.push( id );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.fn.extend( {\r\n\r\n\t\t// Keep domManip exposed until 3.0 (gh-2225)\r\n\t\tdomManip: domManip,\r\n\r\n\t\tdetach: function( selector ) {\r\n\t\t\treturn remove( this, selector, true );\r\n\t\t},\r\n\r\n\t\tremove: function( selector ) {\r\n\t\t\treturn remove( this, selector );\r\n\t\t},\r\n\r\n\t\ttext: function( value ) {\r\n\t\t\treturn access( this, function( value ) {\r\n\t\t\t\treturn value === undefined ?\r\n\t\t\t\t\tjQuery.text( this ) :\r\n\t\t\t\t\tthis.empty().append(\r\n\t\t\t\t\t\t( this[ 0 ] && this[ 0 ].ownerDocument || document ).createTextNode( value )\r\n\t\t\t\t\t);\r\n\t\t\t}, null, value, arguments.length );\r\n\t\t},\r\n\r\n\t\tappend: function() {\r\n\t\t\treturn domManip( this, arguments, function( elem ) {\r\n\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\t\ttarget.appendChild( elem );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tprepend: function() {\r\n\t\t\treturn domManip( this, arguments, function( elem ) {\r\n\t\t\t\tif ( this.nodeType === 1 || this.nodeType === 11 || this.nodeType === 9 ) {\r\n\t\t\t\t\tvar target = manipulationTarget( this, elem );\r\n\t\t\t\t\ttarget.insertBefore( elem, target.firstChild );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tbefore: function() {\r\n\t\t\treturn domManip( this, arguments, function( elem ) {\r\n\t\t\t\tif ( this.parentNode ) {\r\n\t\t\t\t\tthis.parentNode.insertBefore( elem, this );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tafter: function() {\r\n\t\t\treturn domManip( this, arguments, function( elem ) {\r\n\t\t\t\tif ( this.parentNode ) {\r\n\t\t\t\t\tthis.parentNode.insertBefore( elem, this.nextSibling );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tempty: function() {\r\n\t\t\tvar elem,\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tfor ( ; ( elem = this[ i ] ) != null; i++ ) {\r\n\r\n\t\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Remove any remaining nodes\r\n\t\t\t\twhile ( elem.firstChild ) {\r\n\t\t\t\t\telem.removeChild( elem.firstChild );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If this is a select, ensure that it displays empty (#12336)\r\n\t\t\t\t// Support: IE<9\r\n\t\t\t\tif ( elem.options && jQuery.nodeName( elem, \"select\" ) ) {\r\n\t\t\t\t\telem.options.length = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tclone: function( dataAndEvents, deepDataAndEvents ) {\r\n\t\t\tdataAndEvents = dataAndEvents == null ? false : dataAndEvents;\r\n\t\t\tdeepDataAndEvents = deepDataAndEvents == null ? dataAndEvents : deepDataAndEvents;\r\n\r\n\t\t\treturn this.map( function() {\r\n\t\t\t\treturn jQuery.clone( this, dataAndEvents, deepDataAndEvents );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\thtml: function( value ) {\r\n\t\t\treturn access( this, function( value ) {\r\n\t\t\t\tvar elem = this[ 0 ] || {},\r\n\t\t\t\t\ti = 0,\r\n\t\t\t\t\tl = this.length;\r\n\r\n\t\t\t\tif ( value === undefined ) {\r\n\t\t\t\t\treturn elem.nodeType === 1 ?\r\n\t\t\t\t\t\telem.innerHTML.replace( rinlinejQuery, \"\" ) :\r\n\t\t\t\t\t\tundefined;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// See if we can take a shortcut and just use innerHTML\r\n\t\t\t\tif ( typeof value === \"string\" && !rnoInnerhtml.test( value ) &&\r\n\t\t\t\t\t( support.htmlSerialize || !rnoshimcache.test( value )  ) &&\r\n\t\t\t\t\t( support.leadingWhitespace || !rleadingWhitespace.test( value ) ) &&\r\n\t\t\t\t\t!wrapMap[ ( rtagName.exec( value ) || [ \"\", \"\" ] )[ 1 ].toLowerCase() ] ) {\r\n\r\n\t\t\t\t\tvalue = jQuery.htmlPrefilter( value );\r\n\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tfor ( ; i < l; i++ ) {\r\n\r\n\t\t\t\t\t\t\t// Remove element nodes and prevent memory leaks\r\n\t\t\t\t\t\t\telem = this[ i ] || {};\r\n\t\t\t\t\t\t\tif ( elem.nodeType === 1 ) {\r\n\t\t\t\t\t\t\t\tjQuery.cleanData( getAll( elem, false ) );\r\n\t\t\t\t\t\t\t\telem.innerHTML = value;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\telem = 0;\r\n\r\n\t\t\t\t\t\t// If using innerHTML throws an exception, use the fallback method\r\n\t\t\t\t\t} catch ( e ) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( elem ) {\r\n\t\t\t\t\tthis.empty().append( value );\r\n\t\t\t\t}\r\n\t\t\t}, null, value, arguments.length );\r\n\t\t},\r\n\r\n\t\treplaceWith: function() {\r\n\t\t\tvar ignored = [];\r\n\r\n\t\t\t// Make the changes, replacing each non-ignored context element with the new content\r\n\t\t\treturn domManip( this, arguments, function( elem ) {\r\n\t\t\t\tvar parent = this.parentNode;\r\n\r\n\t\t\t\tif ( jQuery.inArray( this, ignored ) < 0 ) {\r\n\t\t\t\t\tjQuery.cleanData( getAll( this ) );\r\n\t\t\t\t\tif ( parent ) {\r\n\t\t\t\t\t\tparent.replaceChild( elem, this );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Force callback invocation\r\n\t\t\t}, ignored );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.each( {\r\n\t\tappendTo: \"append\",\r\n\t\tprependTo: \"prepend\",\r\n\t\tinsertBefore: \"before\",\r\n\t\tinsertAfter: \"after\",\r\n\t\treplaceAll: \"replaceWith\"\r\n\t}, function( name, original ) {\r\n\t\tjQuery.fn[ name ] = function( selector ) {\r\n\t\t\tvar elems,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tret = [],\r\n\t\t\t\tinsert = jQuery( selector ),\r\n\t\t\t\tlast = insert.length - 1;\r\n\r\n\t\t\tfor ( ; i <= last; i++ ) {\r\n\t\t\t\telems = i === last ? this : this.clone( true );\r\n\t\t\t\tjQuery( insert[ i ] )[ original ]( elems );\r\n\r\n\t\t\t\t// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()\r\n\t\t\t\tpush.apply( ret, elems.get() );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.pushStack( ret );\r\n\t\t};\r\n\t} );\r\n\r\n\r\n\tvar iframe,\r\n\t\telemdisplay = {\r\n\r\n\t\t\t// Support: Firefox\r\n\t\t\t// We have to pre-define these values for FF (#10227)\r\n\t\t\tHTML: \"block\",\r\n\t\t\tBODY: \"block\"\r\n\t\t};\r\n\r\n\t/**\r\n\t * Retrieve the actual display of a element\r\n\t * @param {String} name nodeName of the element\r\n\t * @param {Object} doc Document object\r\n\t */\r\n\r\n// Called only from within defaultDisplay\r\n\tfunction actualDisplay( name, doc ) {\r\n\t\tvar elem = jQuery( doc.createElement( name ) ).appendTo( doc.body ),\r\n\r\n\t\t\tdisplay = jQuery.css( elem[ 0 ], \"display\" );\r\n\r\n\t\t// We don't have any data stored on the element,\r\n\t\t// so use \"detach\" method as fast way to get rid of the element\r\n\t\telem.detach();\r\n\r\n\t\treturn display;\r\n\t}\r\n\r\n\t/**\r\n\t * Try to determine the default display value of an element\r\n\t * @param {String} nodeName\r\n\t */\r\n\tfunction defaultDisplay( nodeName ) {\r\n\t\tvar doc = document,\r\n\t\t\tdisplay = elemdisplay[ nodeName ];\r\n\r\n\t\tif ( !display ) {\r\n\t\t\tdisplay = actualDisplay( nodeName, doc );\r\n\r\n\t\t\t// If the simple way fails, read from inside an iframe\r\n\t\t\tif ( display === \"none\" || !display ) {\r\n\r\n\t\t\t\t// Use the already-created iframe if possible\r\n\t\t\t\tiframe = ( iframe || jQuery( \"<iframe frameborder='0' width='0' height='0'/>\" ) )\r\n\t\t\t\t\t.appendTo( doc.documentElement );\r\n\r\n\t\t\t\t// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse\r\n\t\t\t\tdoc = ( iframe[ 0 ].contentWindow || iframe[ 0 ].contentDocument ).document;\r\n\r\n\t\t\t\t// Support: IE\r\n\t\t\t\tdoc.write();\r\n\t\t\t\tdoc.close();\r\n\r\n\t\t\t\tdisplay = actualDisplay( nodeName, doc );\r\n\t\t\t\tiframe.detach();\r\n\t\t\t}\r\n\r\n\t\t\t// Store the correct default display\r\n\t\t\telemdisplay[ nodeName ] = display;\r\n\t\t}\r\n\r\n\t\treturn display;\r\n\t}\r\n\tvar rmargin = ( /^margin/ );\r\n\r\n\tvar rnumnonpx = new RegExp( \"^(\" + pnum + \")(?!px)[a-z%]+$\", \"i\" );\r\n\r\n\tvar swap = function( elem, options, callback, args ) {\r\n\t\tvar ret, name,\r\n\t\t\told = {};\r\n\r\n\t\t// Remember the old values, and insert the new ones\r\n\t\tfor ( name in options ) {\r\n\t\t\told[ name ] = elem.style[ name ];\r\n\t\t\telem.style[ name ] = options[ name ];\r\n\t\t}\r\n\r\n\t\tret = callback.apply( elem, args || [] );\r\n\r\n\t\t// Revert the old values\r\n\t\tfor ( name in options ) {\r\n\t\t\telem.style[ name ] = old[ name ];\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t};\r\n\r\n\r\n\tvar documentElement = document.documentElement;\r\n\r\n\r\n\r\n\t( function() {\r\n\t\tvar pixelPositionVal, pixelMarginRightVal, boxSizingReliableVal,\r\n\t\t\treliableHiddenOffsetsVal, reliableMarginRightVal, reliableMarginLeftVal,\r\n\t\t\tcontainer = document.createElement( \"div\" ),\r\n\t\t\tdiv = document.createElement( \"div\" );\r\n\r\n\t\t// Finish early in limited (non-browser) environments\r\n\t\tif ( !div.style ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tdiv.style.cssText = \"float:left;opacity:.5\";\r\n\r\n\t\t// Support: IE<9\r\n\t\t// Make sure that element opacity exists (as opposed to filter)\r\n\t\tsupport.opacity = div.style.opacity === \"0.5\";\r\n\r\n\t\t// Verify style float existence\r\n\t\t// (IE uses styleFloat instead of cssFloat)\r\n\t\tsupport.cssFloat = !!div.style.cssFloat;\r\n\r\n\t\tdiv.style.backgroundClip = \"content-box\";\r\n\t\tdiv.cloneNode( true ).style.backgroundClip = \"\";\r\n\t\tsupport.clearCloneStyle = div.style.backgroundClip === \"content-box\";\r\n\r\n\t\tcontainer = document.createElement( \"div\" );\r\n\t\tcontainer.style.cssText = \"border:0;width:8px;height:0;top:0;left:-9999px;\" +\r\n\t\t\t\"padding:0;margin-top:1px;position:absolute\";\r\n\t\tdiv.innerHTML = \"\";\r\n\t\tcontainer.appendChild( div );\r\n\r\n\t\t// Support: Firefox<29, Android 2.3\r\n\t\t// Vendor-prefix box-sizing\r\n\t\tsupport.boxSizing = div.style.boxSizing === \"\" || div.style.MozBoxSizing === \"\" ||\r\n\t\t\tdiv.style.WebkitBoxSizing === \"\";\r\n\r\n\t\tjQuery.extend( support, {\r\n\t\t\treliableHiddenOffsets: function() {\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn reliableHiddenOffsetsVal;\r\n\t\t\t},\r\n\r\n\t\t\tboxSizingReliable: function() {\r\n\r\n\t\t\t\t// We're checking for pixelPositionVal here instead of boxSizingReliableVal\r\n\t\t\t\t// since that compresses better and they're computed together anyway.\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn boxSizingReliableVal;\r\n\t\t\t},\r\n\r\n\t\t\tpixelMarginRight: function() {\r\n\r\n\t\t\t\t// Support: Android 4.0-4.3\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn pixelMarginRightVal;\r\n\t\t\t},\r\n\r\n\t\t\tpixelPosition: function() {\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn pixelPositionVal;\r\n\t\t\t},\r\n\r\n\t\t\treliableMarginRight: function() {\r\n\r\n\t\t\t\t// Support: Android 2.3\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn reliableMarginRightVal;\r\n\t\t\t},\r\n\r\n\t\t\treliableMarginLeft: function() {\r\n\r\n\t\t\t\t// Support: IE <=8 only, Android 4.0 - 4.3 only, Firefox <=3 - 37\r\n\t\t\t\tif ( pixelPositionVal == null ) {\r\n\t\t\t\t\tcomputeStyleTests();\r\n\t\t\t\t}\r\n\t\t\t\treturn reliableMarginLeftVal;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tfunction computeStyleTests() {\r\n\t\t\tvar contents, divStyle,\r\n\t\t\t\tdocumentElement = document.documentElement;\r\n\r\n\t\t\t// Setup\r\n\t\t\tdocumentElement.appendChild( container );\r\n\r\n\t\t\tdiv.style.cssText =\r\n\r\n\t\t\t\t// Support: Android 2.3\r\n\t\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\t\"-webkit-box-sizing:border-box;box-sizing:border-box;\" +\r\n\t\t\t\t\"position:relative;display:block;\" +\r\n\t\t\t\t\"margin:auto;border:1px;padding:1px;\" +\r\n\t\t\t\t\"top:1%;width:50%\";\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// Assume reasonable values in the absence of getComputedStyle\r\n\t\t\tpixelPositionVal = boxSizingReliableVal = reliableMarginLeftVal = false;\r\n\t\t\tpixelMarginRightVal = reliableMarginRightVal = true;\r\n\r\n\t\t\t// Check for getComputedStyle so that this code is not run in IE<9.\r\n\t\t\tif ( window.getComputedStyle ) {\r\n\t\t\t\tdivStyle = window.getComputedStyle( div );\r\n\t\t\t\tpixelPositionVal = ( divStyle || {} ).top !== \"1%\";\r\n\t\t\t\treliableMarginLeftVal = ( divStyle || {} ).marginLeft === \"2px\";\r\n\t\t\t\tboxSizingReliableVal = ( divStyle || { width: \"4px\" } ).width === \"4px\";\r\n\r\n\t\t\t\t// Support: Android 4.0 - 4.3 only\r\n\t\t\t\t// Some styles come back with percentage values, even though they shouldn't\r\n\t\t\t\tdiv.style.marginRight = \"50%\";\r\n\t\t\t\tpixelMarginRightVal = ( divStyle || { marginRight: \"4px\" } ).marginRight === \"4px\";\r\n\r\n\t\t\t\t// Support: Android 2.3 only\r\n\t\t\t\t// Div with explicit width and no margin-right incorrectly\r\n\t\t\t\t// gets computed margin-right based on width of container (#3333)\r\n\t\t\t\t// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right\r\n\t\t\t\tcontents = div.appendChild( document.createElement( \"div\" ) );\r\n\r\n\t\t\t\t// Reset CSS: box-sizing; display; margin; border; padding\r\n\t\t\t\tcontents.style.cssText = div.style.cssText =\r\n\r\n\t\t\t\t\t// Support: Android 2.3\r\n\t\t\t\t\t// Vendor-prefix box-sizing\r\n\t\t\t\t\t\"-webkit-box-sizing:content-box;-moz-box-sizing:content-box;\" +\r\n\t\t\t\t\t\"box-sizing:content-box;display:block;margin:0;border:0;padding:0\";\r\n\t\t\t\tcontents.style.marginRight = contents.style.width = \"0\";\r\n\t\t\t\tdiv.style.width = \"1px\";\r\n\r\n\t\t\t\treliableMarginRightVal =\r\n\t\t\t\t\t!parseFloat( ( window.getComputedStyle( contents ) || {} ).marginRight );\r\n\r\n\t\t\t\tdiv.removeChild( contents );\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE6-8\r\n\t\t\t// First check that getClientRects works as expected\r\n\t\t\t// Check if table cells still have offsetWidth/Height when they are set\r\n\t\t\t// to display:none and there are still other visible table cells in a\r\n\t\t\t// table row; if so, offsetWidth/Height are not reliable for use when\r\n\t\t\t// determining if an element has been hidden directly using\r\n\t\t\t// display:none (it is still safe to use offsets if a parent element is\r\n\t\t\t// hidden; don safety goggles and see bug #4512 for more information).\r\n\t\t\tdiv.style.display = \"none\";\r\n\t\t\treliableHiddenOffsetsVal = div.getClientRects().length === 0;\r\n\t\t\tif ( reliableHiddenOffsetsVal ) {\r\n\t\t\t\tdiv.style.display = \"\";\r\n\t\t\t\tdiv.innerHTML = \"<table><tr><td></td><td>t</td></tr></table>\";\r\n\t\t\t\tdiv.childNodes[ 0 ].style.borderCollapse = \"separate\";\r\n\t\t\t\tcontents = div.getElementsByTagName( \"td\" );\r\n\t\t\t\tcontents[ 0 ].style.cssText = \"margin:0;border:0;padding:0;display:none\";\r\n\t\t\t\treliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;\r\n\t\t\t\tif ( reliableHiddenOffsetsVal ) {\r\n\t\t\t\t\tcontents[ 0 ].style.display = \"\";\r\n\t\t\t\t\tcontents[ 1 ].style.display = \"none\";\r\n\t\t\t\t\treliableHiddenOffsetsVal = contents[ 0 ].offsetHeight === 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Teardown\r\n\t\t\tdocumentElement.removeChild( container );\r\n\t\t}\r\n\r\n\t} )();\r\n\r\n\r\n\tvar getStyles, curCSS,\r\n\t\trposition = /^(top|right|bottom|left)$/;\r\n\r\n\tif ( window.getComputedStyle ) {\r\n\t\tgetStyles = function( elem ) {\r\n\r\n\t\t\t// Support: IE<=11+, Firefox<=30+ (#15098, #14150)\r\n\t\t\t// IE throws on elements created in popups\r\n\t\t\t// FF meanwhile throws on frame elements through \"defaultView.getComputedStyle\"\r\n\t\t\tvar view = elem.ownerDocument.defaultView;\r\n\r\n\t\t\tif ( !view || !view.opener ) {\r\n\t\t\t\tview = window;\r\n\t\t\t}\r\n\r\n\t\t\treturn view.getComputedStyle( elem );\r\n\t\t};\r\n\r\n\t\tcurCSS = function( elem, name, computed ) {\r\n\t\t\tvar width, minWidth, maxWidth, ret,\r\n\t\t\t\tstyle = elem.style;\r\n\r\n\t\t\tcomputed = computed || getStyles( elem );\r\n\r\n\t\t\t// getPropertyValue is only needed for .css('filter') in IE9, see #12537\r\n\t\t\tret = computed ? computed.getPropertyValue( name ) || computed[ name ] : undefined;\r\n\r\n\t\t\t// Support: Opera 12.1x only\r\n\t\t\t// Fall back to style even without computed\r\n\t\t\t// computed is undefined for elems on document fragments\r\n\t\t\tif ( ( ret === \"\" || ret === undefined ) && !jQuery.contains( elem.ownerDocument, elem ) ) {\r\n\t\t\t\tret = jQuery.style( elem, name );\r\n\t\t\t}\r\n\r\n\t\t\tif ( computed ) {\r\n\r\n\t\t\t\t// A tribute to the \"awesome hack by Dean Edwards\"\r\n\t\t\t\t// Chrome < 17 and Safari 5.0 uses \"computed value\"\r\n\t\t\t\t// instead of \"used value\" for margin-right\r\n\t\t\t\t// Safari 5.1.7 (at least) returns percentage for a larger set of values,\r\n\t\t\t\t// but width seems to be reliably pixels\r\n\t\t\t\t// this is against the CSSOM draft spec:\r\n\t\t\t\t// http://dev.w3.org/csswg/cssom/#resolved-values\r\n\t\t\t\tif ( !support.pixelMarginRight() && rnumnonpx.test( ret ) && rmargin.test( name ) ) {\r\n\r\n\t\t\t\t\t// Remember the original values\r\n\t\t\t\t\twidth = style.width;\r\n\t\t\t\t\tminWidth = style.minWidth;\r\n\t\t\t\t\tmaxWidth = style.maxWidth;\r\n\r\n\t\t\t\t\t// Put in the new values to get a computed value out\r\n\t\t\t\t\tstyle.minWidth = style.maxWidth = style.width = ret;\r\n\t\t\t\t\tret = computed.width;\r\n\r\n\t\t\t\t\t// Revert the changed values\r\n\t\t\t\t\tstyle.width = width;\r\n\t\t\t\t\tstyle.minWidth = minWidth;\r\n\t\t\t\t\tstyle.maxWidth = maxWidth;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE\r\n\t\t\t// IE returns zIndex value as an integer.\r\n\t\t\treturn ret === undefined ?\r\n\t\t\t\tret :\r\n\t\t\tret + \"\";\r\n\t\t};\r\n\t} else if ( documentElement.currentStyle ) {\r\n\t\tgetStyles = function( elem ) {\r\n\t\t\treturn elem.currentStyle;\r\n\t\t};\r\n\r\n\t\tcurCSS = function( elem, name, computed ) {\r\n\t\t\tvar left, rs, rsLeft, ret,\r\n\t\t\t\tstyle = elem.style;\r\n\r\n\t\t\tcomputed = computed || getStyles( elem );\r\n\t\t\tret = computed ? computed[ name ] : undefined;\r\n\r\n\t\t\t// Avoid setting ret to empty string here\r\n\t\t\t// so we don't default to auto\r\n\t\t\tif ( ret == null && style && style[ name ] ) {\r\n\t\t\t\tret = style[ name ];\r\n\t\t\t}\r\n\r\n\t\t\t// From the awesome hack by Dean Edwards\r\n\t\t\t// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\r\n\r\n\t\t\t// If we're not dealing with a regular pixel number\r\n\t\t\t// but a number that has a weird ending, we need to convert it to pixels\r\n\t\t\t// but not position css attributes, as those are\r\n\t\t\t// proportional to the parent element instead\r\n\t\t\t// and we can't measure the parent instead because it\r\n\t\t\t// might trigger a \"stacking dolls\" problem\r\n\t\t\tif ( rnumnonpx.test( ret ) && !rposition.test( name ) ) {\r\n\r\n\t\t\t\t// Remember the original values\r\n\t\t\t\tleft = style.left;\r\n\t\t\t\trs = elem.runtimeStyle;\r\n\t\t\t\trsLeft = rs && rs.left;\r\n\r\n\t\t\t\t// Put in the new values to get a computed value out\r\n\t\t\t\tif ( rsLeft ) {\r\n\t\t\t\t\trs.left = elem.currentStyle.left;\r\n\t\t\t\t}\r\n\t\t\t\tstyle.left = name === \"fontSize\" ? \"1em\" : ret;\r\n\t\t\t\tret = style.pixelLeft + \"px\";\r\n\r\n\t\t\t\t// Revert the changed values\r\n\t\t\t\tstyle.left = left;\r\n\t\t\t\tif ( rsLeft ) {\r\n\t\t\t\t\trs.left = rsLeft;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE\r\n\t\t\t// IE returns zIndex value as an integer.\r\n\t\t\treturn ret === undefined ?\r\n\t\t\t\tret :\r\n\t\t\tret + \"\" || \"auto\";\r\n\t\t};\r\n\t}\r\n\r\n\r\n\r\n\r\n\tfunction addGetHookIf( conditionFn, hookFn ) {\r\n\r\n\t\t// Define the hook, we'll check on the first run if it's really needed.\r\n\t\treturn {\r\n\t\t\tget: function() {\r\n\t\t\t\tif ( conditionFn() ) {\r\n\r\n\t\t\t\t\t// Hook not needed (or it's not possible to use it due\r\n\t\t\t\t\t// to missing dependency), remove it.\r\n\t\t\t\t\tdelete this.get;\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Hook needed; redefine it so that the support test is not executed again.\r\n\t\t\t\treturn ( this.get = hookFn ).apply( this, arguments );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\tvar\r\n\r\n\t\tralpha = /alpha\\([^)]*\\)/i,\r\n\t\tropacity = /opacity\\s*=\\s*([^)]*)/i,\r\n\r\n\t\t// swappable if display is none or starts with table except\r\n\t\t// \"table\", \"table-cell\", or \"table-caption\"\r\n\t\t// see here for display values:\r\n\t\t// https://developer.mozilla.org/en-US/docs/CSS/display\r\n\t\trdisplayswap = /^(none|table(?!-c[ea]).+)/,\r\n\t\trnumsplit = new RegExp( \"^(\" + pnum + \")(.*)$\", \"i\" ),\r\n\r\n\t\tcssShow = { position: \"absolute\", visibility: \"hidden\", display: \"block\" },\r\n\t\tcssNormalTransform = {\r\n\t\t\tletterSpacing: \"0\",\r\n\t\t\tfontWeight: \"400\"\r\n\t\t},\r\n\r\n\t\tcssPrefixes = [ \"Webkit\", \"O\", \"Moz\", \"ms\" ],\r\n\t\temptyStyle = document.createElement( \"div\" ).style;\r\n\r\n\r\n// return a css property mapped to a potentially vendor prefixed property\r\n\tfunction vendorPropName( name ) {\r\n\r\n\t\t// shortcut for names that are not vendor prefixed\r\n\t\tif ( name in emptyStyle ) {\r\n\t\t\treturn name;\r\n\t\t}\r\n\r\n\t\t// check for vendor prefixed names\r\n\t\tvar capName = name.charAt( 0 ).toUpperCase() + name.slice( 1 ),\r\n\t\t\ti = cssPrefixes.length;\r\n\r\n\t\twhile ( i-- ) {\r\n\t\t\tname = cssPrefixes[ i ] + capName;\r\n\t\t\tif ( name in emptyStyle ) {\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction showHide( elements, show ) {\r\n\t\tvar display, elem, hidden,\r\n\t\t\tvalues = [],\r\n\t\t\tindex = 0,\r\n\t\t\tlength = elements.length;\r\n\r\n\t\tfor ( ; index < length; index++ ) {\r\n\t\t\telem = elements[ index ];\r\n\t\t\tif ( !elem.style ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tvalues[ index ] = jQuery._data( elem, \"olddisplay\" );\r\n\t\t\tdisplay = elem.style.display;\r\n\t\t\tif ( show ) {\r\n\r\n\t\t\t\t// Reset the inline display of this element to learn if it is\r\n\t\t\t\t// being hidden by cascaded rules or not\r\n\t\t\t\tif ( !values[ index ] && display === \"none\" ) {\r\n\t\t\t\t\telem.style.display = \"\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set elements which have been overridden with display: none\r\n\t\t\t\t// in a stylesheet to whatever the default browser style is\r\n\t\t\t\t// for such an element\r\n\t\t\t\tif ( elem.style.display === \"\" && isHidden( elem ) ) {\r\n\t\t\t\t\tvalues[ index ] =\r\n\t\t\t\t\t\tjQuery._data( elem, \"olddisplay\", defaultDisplay( elem.nodeName ) );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\thidden = isHidden( elem );\r\n\r\n\t\t\t\tif ( display && display !== \"none\" || !hidden ) {\r\n\t\t\t\t\tjQuery._data(\r\n\t\t\t\t\t\telem,\r\n\t\t\t\t\t\t\"olddisplay\",\r\n\t\t\t\t\t\thidden ? display : jQuery.css( elem, \"display\" )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Set the display of most of the elements in a second loop\r\n\t\t// to avoid the constant reflow\r\n\t\tfor ( index = 0; index < length; index++ ) {\r\n\t\t\telem = elements[ index ];\r\n\t\t\tif ( !elem.style ) {\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t\tif ( !show || elem.style.display === \"none\" || elem.style.display === \"\" ) {\r\n\t\t\t\telem.style.display = show ? values[ index ] || \"\" : \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn elements;\r\n\t}\r\n\r\n\tfunction setPositiveNumber( elem, value, subtract ) {\r\n\t\tvar matches = rnumsplit.exec( value );\r\n\t\treturn matches ?\r\n\r\n\t\t\t// Guard against undefined \"subtract\", e.g., when used as in cssHooks\r\n\t\tMath.max( 0, matches[ 1 ] - ( subtract || 0 ) ) + ( matches[ 2 ] || \"px\" ) :\r\n\t\t\tvalue;\r\n\t}\r\n\r\n\tfunction augmentWidthOrHeight( elem, name, extra, isBorderBox, styles ) {\r\n\t\tvar i = extra === ( isBorderBox ? \"border\" : \"content\" ) ?\r\n\r\n\t\t\t\t// If we already have the right measurement, avoid augmentation\r\n\t\t\t\t4 :\r\n\r\n\t\t\t\t// Otherwise initialize for horizontal or vertical properties\r\n\t\t\t\tname === \"width\" ? 1 : 0,\r\n\r\n\t\t\tval = 0;\r\n\r\n\t\tfor ( ; i < 4; i += 2 ) {\r\n\r\n\t\t\t// both box models exclude margin, so add it if we want it\r\n\t\t\tif ( extra === \"margin\" ) {\r\n\t\t\t\tval += jQuery.css( elem, extra + cssExpand[ i ], true, styles );\r\n\t\t\t}\r\n\r\n\t\t\tif ( isBorderBox ) {\r\n\r\n\t\t\t\t// border-box includes padding, so remove it if we want content\r\n\t\t\t\tif ( extra === \"content\" ) {\r\n\t\t\t\t\tval -= jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// at this point, extra isn't border nor margin, so remove border\r\n\t\t\t\tif ( extra !== \"margin\" ) {\r\n\t\t\t\t\tval -= jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// at this point, extra isn't content, so add padding\r\n\t\t\t\tval += jQuery.css( elem, \"padding\" + cssExpand[ i ], true, styles );\r\n\r\n\t\t\t\t// at this point, extra isn't content nor padding, so add border\r\n\t\t\t\tif ( extra !== \"padding\" ) {\r\n\t\t\t\t\tval += jQuery.css( elem, \"border\" + cssExpand[ i ] + \"Width\", true, styles );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn val;\r\n\t}\r\n\r\n\tfunction getWidthOrHeight( elem, name, extra ) {\r\n\r\n\t\t// Start with offset property, which is equivalent to the border-box value\r\n\t\tvar valueIsBorderBox = true,\r\n\t\t\tval = name === \"width\" ? elem.offsetWidth : elem.offsetHeight,\r\n\t\t\tstyles = getStyles( elem ),\r\n\t\t\tisBorderBox = support.boxSizing &&\r\n\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\";\r\n\r\n\t\t// some non-html elements return undefined for offsetWidth, so check for null/undefined\r\n\t\t// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285\r\n\t\t// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668\r\n\t\tif ( val <= 0 || val == null ) {\r\n\r\n\t\t\t// Fall back to computed then uncomputed css if necessary\r\n\t\t\tval = curCSS( elem, name, styles );\r\n\t\t\tif ( val < 0 || val == null ) {\r\n\t\t\t\tval = elem.style[ name ];\r\n\t\t\t}\r\n\r\n\t\t\t// Computed unit is not pixels. Stop here and return.\r\n\t\t\tif ( rnumnonpx.test( val ) ) {\r\n\t\t\t\treturn val;\r\n\t\t\t}\r\n\r\n\t\t\t// we need the check for style in case a browser which returns unreliable values\r\n\t\t\t// for getComputedStyle silently falls back to the reliable elem.style\r\n\t\t\tvalueIsBorderBox = isBorderBox &&\r\n\t\t\t\t( support.boxSizingReliable() || val === elem.style[ name ] );\r\n\r\n\t\t\t// Normalize \"\", auto, and prepare for extra\r\n\t\t\tval = parseFloat( val ) || 0;\r\n\t\t}\r\n\r\n\t\t// use the active box-sizing model to add/subtract irrelevant styles\r\n\t\treturn ( val +\r\n\t\t\t\taugmentWidthOrHeight(\r\n\t\t\t\t\telem,\r\n\t\t\t\t\tname,\r\n\t\t\t\t\textra || ( isBorderBox ? \"border\" : \"content\" ),\r\n\t\t\t\t\tvalueIsBorderBox,\r\n\t\t\t\t\tstyles\r\n\t\t\t\t)\r\n\t\t\t) + \"px\";\r\n\t}\r\n\r\n\tjQuery.extend( {\r\n\r\n\t\t// Add in style property hooks for overriding the default\r\n\t\t// behavior of getting and setting a style property\r\n\t\tcssHooks: {\r\n\t\t\topacity: {\r\n\t\t\t\tget: function( elem, computed ) {\r\n\t\t\t\t\tif ( computed ) {\r\n\r\n\t\t\t\t\t\t// We should always get a number back from opacity\r\n\t\t\t\t\t\tvar ret = curCSS( elem, \"opacity\" );\r\n\t\t\t\t\t\treturn ret === \"\" ? \"1\" : ret;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Don't automatically add \"px\" to these possibly-unitless properties\r\n\t\tcssNumber: {\r\n\t\t\t\"animationIterationCount\": true,\r\n\t\t\t\"columnCount\": true,\r\n\t\t\t\"fillOpacity\": true,\r\n\t\t\t\"flexGrow\": true,\r\n\t\t\t\"flexShrink\": true,\r\n\t\t\t\"fontWeight\": true,\r\n\t\t\t\"lineHeight\": true,\r\n\t\t\t\"opacity\": true,\r\n\t\t\t\"order\": true,\r\n\t\t\t\"orphans\": true,\r\n\t\t\t\"widows\": true,\r\n\t\t\t\"zIndex\": true,\r\n\t\t\t\"zoom\": true\r\n\t\t},\r\n\r\n\t\t// Add in properties whose names you wish to fix before\r\n\t\t// setting or getting the value\r\n\t\tcssProps: {\r\n\r\n\t\t\t// normalize float css property\r\n\t\t\t\"float\": support.cssFloat ? \"cssFloat\" : \"styleFloat\"\r\n\t\t},\r\n\r\n\t\t// Get and set the style property on a DOM Node\r\n\t\tstyle: function( elem, name, value, extra ) {\r\n\r\n\t\t\t// Don't set styles on text and comment nodes\r\n\t\t\tif ( !elem || elem.nodeType === 3 || elem.nodeType === 8 || !elem.style ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Make sure that we're working with the right name\r\n\t\t\tvar ret, type, hooks,\r\n\t\t\t\torigName = jQuery.camelCase( name ),\r\n\t\t\t\tstyle = elem.style;\r\n\r\n\t\t\tname = jQuery.cssProps[ origName ] ||\r\n\t\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\r\n\r\n\t\t\t// gets hook for the prefixed version\r\n\t\t\t// followed by the unprefixed version\r\n\t\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t\t// Check if we're setting a value\r\n\t\t\tif ( value !== undefined ) {\r\n\t\t\t\ttype = typeof value;\r\n\r\n\t\t\t\t// Convert \"+=\" or \"-=\" to relative numbers (#7345)\r\n\t\t\t\tif ( type === \"string\" && ( ret = rcssNum.exec( value ) ) && ret[ 1 ] ) {\r\n\t\t\t\t\tvalue = adjustCSS( elem, name, ret );\r\n\r\n\t\t\t\t\t// Fixes bug #9237\r\n\t\t\t\t\ttype = \"number\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Make sure that null and NaN values aren't set. See: #7116\r\n\t\t\t\tif ( value == null || value !== value ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If a number was passed in, add the unit (except for certain CSS properties)\r\n\t\t\t\tif ( type === \"number\" ) {\r\n\t\t\t\t\tvalue += ret && ret[ 3 ] || ( jQuery.cssNumber[ origName ] ? \"\" : \"px\" );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,\r\n\t\t\t\t// but it would mean to define eight\r\n\t\t\t\t// (for every problematic property) identical functions\r\n\t\t\t\tif ( !support.clearCloneStyle && value === \"\" && name.indexOf( \"background\" ) === 0 ) {\r\n\t\t\t\t\tstyle[ name ] = \"inherit\";\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If a hook was provided, use that value, otherwise just set the specified value\r\n\t\t\t\tif ( !hooks || !( \"set\" in hooks ) ||\r\n\t\t\t\t\t( value = hooks.set( elem, value, extra ) ) !== undefined ) {\r\n\r\n\t\t\t\t\t// Support: IE\r\n\t\t\t\t\t// Swallow errors from 'invalid' CSS values (#5509)\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tstyle[ name ] = value;\r\n\t\t\t\t\t} catch ( e ) {}\r\n\t\t\t\t}\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// If a hook was provided get the non-computed value from there\r\n\t\t\t\tif ( hooks && \"get\" in hooks &&\r\n\t\t\t\t\t( ret = hooks.get( elem, false, extra ) ) !== undefined ) {\r\n\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Otherwise just get the value from the style object\r\n\t\t\t\treturn style[ name ];\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcss: function( elem, name, extra, styles ) {\r\n\t\t\tvar num, val, hooks,\r\n\t\t\t\torigName = jQuery.camelCase( name );\r\n\r\n\t\t\t// Make sure that we're working with the right name\r\n\t\t\tname = jQuery.cssProps[ origName ] ||\r\n\t\t\t\t( jQuery.cssProps[ origName ] = vendorPropName( origName ) || origName );\r\n\r\n\t\t\t// gets hook for the prefixed version\r\n\t\t\t// followed by the unprefixed version\r\n\t\t\thooks = jQuery.cssHooks[ name ] || jQuery.cssHooks[ origName ];\r\n\r\n\t\t\t// If a hook was provided get the computed value from there\r\n\t\t\tif ( hooks && \"get\" in hooks ) {\r\n\t\t\t\tval = hooks.get( elem, true, extra );\r\n\t\t\t}\r\n\r\n\t\t\t// Otherwise, if a way to get the computed value exists, use that\r\n\t\t\tif ( val === undefined ) {\r\n\t\t\t\tval = curCSS( elem, name, styles );\r\n\t\t\t}\r\n\r\n\t\t\t//convert \"normal\" to computed value\r\n\t\t\tif ( val === \"normal\" && name in cssNormalTransform ) {\r\n\t\t\t\tval = cssNormalTransform[ name ];\r\n\t\t\t}\r\n\r\n\t\t\t// Return, converting to number if forced or a qualifier was provided and val looks numeric\r\n\t\t\tif ( extra === \"\" || extra ) {\r\n\t\t\t\tnum = parseFloat( val );\r\n\t\t\t\treturn extra === true || isFinite( num ) ? num || 0 : val;\r\n\t\t\t}\r\n\t\t\treturn val;\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.each( [ \"height\", \"width\" ], function( i, name ) {\r\n\t\tjQuery.cssHooks[ name ] = {\r\n\t\t\tget: function( elem, computed, extra ) {\r\n\t\t\t\tif ( computed ) {\r\n\r\n\t\t\t\t\t// certain elements can have dimension info if we invisibly show them\r\n\t\t\t\t\t// however, it must have a current display style that would benefit from this\r\n\t\t\t\t\treturn rdisplayswap.test( jQuery.css( elem, \"display\" ) ) &&\r\n\t\t\t\t\telem.offsetWidth === 0 ?\r\n\t\t\t\t\t\tswap( elem, cssShow, function() {\r\n\t\t\t\t\t\t\treturn getWidthOrHeight( elem, name, extra );\r\n\t\t\t\t\t\t} ) :\r\n\t\t\t\t\t\tgetWidthOrHeight( elem, name, extra );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tset: function( elem, value, extra ) {\r\n\t\t\t\tvar styles = extra && getStyles( elem );\r\n\t\t\t\treturn setPositiveNumber( elem, value, extra ?\r\n\t\t\t\t\taugmentWidthOrHeight(\r\n\t\t\t\t\t\telem,\r\n\t\t\t\t\t\tname,\r\n\t\t\t\t\t\textra,\r\n\t\t\t\t\t\tsupport.boxSizing &&\r\n\t\t\t\t\t\tjQuery.css( elem, \"boxSizing\", false, styles ) === \"border-box\",\r\n\t\t\t\t\t\tstyles\r\n\t\t\t\t\t) : 0\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t};\r\n\t} );\r\n\r\n\tif ( !support.opacity ) {\r\n\t\tjQuery.cssHooks.opacity = {\r\n\t\t\tget: function( elem, computed ) {\r\n\r\n\t\t\t\t// IE uses filters for opacity\r\n\t\t\t\treturn ropacity.test( ( computed && elem.currentStyle ?\r\n\t\t\t\t\t\telem.currentStyle.filter :\r\n\t\t\t\t\t\telem.style.filter ) || \"\" ) ?\r\n\t\t\t\t( 0.01 * parseFloat( RegExp.$1 ) ) + \"\" :\r\n\t\t\t\t\tcomputed ? \"1\" : \"\";\r\n\t\t\t},\r\n\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tvar style = elem.style,\r\n\t\t\t\t\tcurrentStyle = elem.currentStyle,\r\n\t\t\t\t\topacity = jQuery.isNumeric( value ) ? \"alpha(opacity=\" + value * 100 + \")\" : \"\",\r\n\t\t\t\t\tfilter = currentStyle && currentStyle.filter || style.filter || \"\";\r\n\r\n\t\t\t\t// IE has trouble with opacity if it does not have layout\r\n\t\t\t\t// Force it by setting the zoom level\r\n\t\t\t\tstyle.zoom = 1;\r\n\r\n\t\t\t\t// if setting opacity to 1, and no other filters exist -\r\n\t\t\t\t// attempt to remove filter attribute #6652\r\n\t\t\t\t// if value === \"\", then remove inline opacity #12685\r\n\t\t\t\tif ( ( value >= 1 || value === \"\" ) &&\r\n\t\t\t\t\tjQuery.trim( filter.replace( ralpha, \"\" ) ) === \"\" &&\r\n\t\t\t\t\tstyle.removeAttribute ) {\r\n\r\n\t\t\t\t\t// Setting style.filter to null, \"\" & \" \" still leave \"filter:\" in the cssText\r\n\t\t\t\t\t// if \"filter:\" is present at all, clearType is disabled, we want to avoid this\r\n\t\t\t\t\t// style.removeAttribute is IE Only, but so apparently is this code path...\r\n\t\t\t\t\tstyle.removeAttribute( \"filter\" );\r\n\r\n\t\t\t\t\t// if there is no filter style applied in a css rule\r\n\t\t\t\t\t// or unset inline opacity, we are done\r\n\t\t\t\t\tif ( value === \"\" || currentStyle && !currentStyle.filter ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// otherwise, set new filter values\r\n\t\t\t\tstyle.filter = ralpha.test( filter ) ?\r\n\t\t\t\t\tfilter.replace( ralpha, opacity ) :\r\n\t\t\t\tfilter + \" \" + opacity;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tjQuery.cssHooks.marginRight = addGetHookIf( support.reliableMarginRight,\r\n\t\tfunction( elem, computed ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\treturn swap( elem, { \"display\": \"inline-block\" },\r\n\t\t\t\t\tcurCSS, [ elem, \"marginRight\" ] );\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n\tjQuery.cssHooks.marginLeft = addGetHookIf( support.reliableMarginLeft,\r\n\t\tfunction( elem, computed ) {\r\n\t\t\tif ( computed ) {\r\n\t\t\t\treturn (\r\n\t\t\t\t\t\tparseFloat( curCSS( elem, \"marginLeft\" ) ) ||\r\n\r\n\t\t\t\t\t\t// Support: IE<=11+\r\n\t\t\t\t\t\t// Running getBoundingClientRect on a disconnected node in IE throws an error\r\n\t\t\t\t\t\t// Support: IE8 only\r\n\t\t\t\t\t\t// getClientRects() errors on disconnected elems\r\n\t\t\t\t\t\t( jQuery.contains( elem.ownerDocument, elem ) ?\r\n\t\t\t\t\t\t\telem.getBoundingClientRect().left -\r\n\t\t\t\t\t\t\tswap( elem, { marginLeft: 0 }, function() {\r\n\t\t\t\t\t\t\t\treturn elem.getBoundingClientRect().left;\r\n\t\t\t\t\t\t\t} ) :\r\n\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) + \"px\";\r\n\t\t\t}\r\n\t\t}\r\n\t);\r\n\r\n// These hooks are used by animate to expand properties\r\n\tjQuery.each( {\r\n\t\tmargin: \"\",\r\n\t\tpadding: \"\",\r\n\t\tborder: \"Width\"\r\n\t}, function( prefix, suffix ) {\r\n\t\tjQuery.cssHooks[ prefix + suffix ] = {\r\n\t\t\texpand: function( value ) {\r\n\t\t\t\tvar i = 0,\r\n\t\t\t\t\texpanded = {},\r\n\r\n\t\t\t\t\t// assumes a single number if not a string\r\n\t\t\t\t\tparts = typeof value === \"string\" ? value.split( \" \" ) : [ value ];\r\n\r\n\t\t\t\tfor ( ; i < 4; i++ ) {\r\n\t\t\t\t\texpanded[ prefix + cssExpand[ i ] + suffix ] =\r\n\t\t\t\t\t\tparts[ i ] || parts[ i - 2 ] || parts[ 0 ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn expanded;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tif ( !rmargin.test( prefix ) ) {\r\n\t\t\tjQuery.cssHooks[ prefix + suffix ].set = setPositiveNumber;\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tcss: function( name, value ) {\r\n\t\t\treturn access( this, function( elem, name, value ) {\r\n\t\t\t\tvar styles, len,\r\n\t\t\t\t\tmap = {},\r\n\t\t\t\t\ti = 0;\r\n\r\n\t\t\t\tif ( jQuery.isArray( name ) ) {\r\n\t\t\t\t\tstyles = getStyles( elem );\r\n\t\t\t\t\tlen = name.length;\r\n\r\n\t\t\t\t\tfor ( ; i < len; i++ ) {\r\n\t\t\t\t\t\tmap[ name[ i ] ] = jQuery.css( elem, name[ i ], false, styles );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn map;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn value !== undefined ?\r\n\t\t\t\t\tjQuery.style( elem, name, value ) :\r\n\t\t\t\t\tjQuery.css( elem, name );\r\n\t\t\t}, name, value, arguments.length > 1 );\r\n\t\t},\r\n\t\tshow: function() {\r\n\t\t\treturn showHide( this, true );\r\n\t\t},\r\n\t\thide: function() {\r\n\t\t\treturn showHide( this );\r\n\t\t},\r\n\t\ttoggle: function( state ) {\r\n\t\t\tif ( typeof state === \"boolean\" ) {\r\n\t\t\t\treturn state ? this.show() : this.hide();\r\n\t\t\t}\r\n\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tif ( isHidden( this ) ) {\r\n\t\t\t\t\tjQuery( this ).show();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tjQuery( this ).hide();\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\tfunction Tween( elem, options, prop, end, easing ) {\r\n\t\treturn new Tween.prototype.init( elem, options, prop, end, easing );\r\n\t}\r\n\tjQuery.Tween = Tween;\r\n\r\n\tTween.prototype = {\r\n\t\tconstructor: Tween,\r\n\t\tinit: function( elem, options, prop, end, easing, unit ) {\r\n\t\t\tthis.elem = elem;\r\n\t\t\tthis.prop = prop;\r\n\t\t\tthis.easing = easing || jQuery.easing._default;\r\n\t\t\tthis.options = options;\r\n\t\t\tthis.start = this.now = this.cur();\r\n\t\t\tthis.end = end;\r\n\t\t\tthis.unit = unit || ( jQuery.cssNumber[ prop ] ? \"\" : \"px\" );\r\n\t\t},\r\n\t\tcur: function() {\r\n\t\t\tvar hooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\t\treturn hooks && hooks.get ?\r\n\t\t\t\thooks.get( this ) :\r\n\t\t\t\tTween.propHooks._default.get( this );\r\n\t\t},\r\n\t\trun: function( percent ) {\r\n\t\t\tvar eased,\r\n\t\t\t\thooks = Tween.propHooks[ this.prop ];\r\n\r\n\t\t\tif ( this.options.duration ) {\r\n\t\t\t\tthis.pos = eased = jQuery.easing[ this.easing ](\r\n\t\t\t\t\tpercent, this.options.duration * percent, 0, 1, this.options.duration\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.pos = eased = percent;\r\n\t\t\t}\r\n\t\t\tthis.now = ( this.end - this.start ) * eased + this.start;\r\n\r\n\t\t\tif ( this.options.step ) {\r\n\t\t\t\tthis.options.step.call( this.elem, this.now, this );\r\n\t\t\t}\r\n\r\n\t\t\tif ( hooks && hooks.set ) {\r\n\t\t\t\thooks.set( this );\r\n\t\t\t} else {\r\n\t\t\t\tTween.propHooks._default.set( this );\r\n\t\t\t}\r\n\t\t\treturn this;\r\n\t\t}\r\n\t};\r\n\r\n\tTween.prototype.init.prototype = Tween.prototype;\r\n\r\n\tTween.propHooks = {\r\n\t\t_default: {\r\n\t\t\tget: function( tween ) {\r\n\t\t\t\tvar result;\r\n\r\n\t\t\t\t// Use a property on the element directly when it is not a DOM element,\r\n\t\t\t\t// or when there is no matching style property that exists.\r\n\t\t\t\tif ( tween.elem.nodeType !== 1 ||\r\n\t\t\t\t\ttween.elem[ tween.prop ] != null && tween.elem.style[ tween.prop ] == null ) {\r\n\t\t\t\t\treturn tween.elem[ tween.prop ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// passing an empty string as a 3rd parameter to .css will automatically\r\n\t\t\t\t// attempt a parseFloat and fallback to a string if the parse fails\r\n\t\t\t\t// so, simple values such as \"10px\" are parsed to Float.\r\n\t\t\t\t// complex values such as \"rotate(1rad)\" are returned as is.\r\n\t\t\t\tresult = jQuery.css( tween.elem, tween.prop, \"\" );\r\n\r\n\t\t\t\t// Empty strings, null, undefined and \"auto\" are converted to 0.\r\n\t\t\t\treturn !result || result === \"auto\" ? 0 : result;\r\n\t\t\t},\r\n\t\t\tset: function( tween ) {\r\n\r\n\t\t\t\t// use step hook for back compat - use cssHook if its there - use .style if its\r\n\t\t\t\t// available and use plain properties where available\r\n\t\t\t\tif ( jQuery.fx.step[ tween.prop ] ) {\r\n\t\t\t\t\tjQuery.fx.step[ tween.prop ]( tween );\r\n\t\t\t\t} else if ( tween.elem.nodeType === 1 &&\r\n\t\t\t\t\t( tween.elem.style[ jQuery.cssProps[ tween.prop ] ] != null ||\r\n\t\t\t\t\tjQuery.cssHooks[ tween.prop ] ) ) {\r\n\t\t\t\t\tjQuery.style( tween.elem, tween.prop, tween.now + tween.unit );\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n// Support: IE <=9\r\n// Panic based approach to setting things on disconnected nodes\r\n\r\n\tTween.propHooks.scrollTop = Tween.propHooks.scrollLeft = {\r\n\t\tset: function( tween ) {\r\n\t\t\tif ( tween.elem.nodeType && tween.elem.parentNode ) {\r\n\t\t\t\ttween.elem[ tween.prop ] = tween.now;\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.easing = {\r\n\t\tlinear: function( p ) {\r\n\t\t\treturn p;\r\n\t\t},\r\n\t\tswing: function( p ) {\r\n\t\t\treturn 0.5 - Math.cos( p * Math.PI ) / 2;\r\n\t\t},\r\n\t\t_default: \"swing\"\r\n\t};\r\n\r\n\tjQuery.fx = Tween.prototype.init;\r\n\r\n// Back Compat <1.8 extension point\r\n\tjQuery.fx.step = {};\r\n\r\n\r\n\r\n\r\n\tvar\r\n\t\tfxNow, timerId,\r\n\t\trfxtypes = /^(?:toggle|show|hide)$/,\r\n\t\trrun = /queueHooks$/;\r\n\r\n// Animations created synchronously will run synchronously\r\n\tfunction createFxNow() {\r\n\t\twindow.setTimeout( function() {\r\n\t\t\tfxNow = undefined;\r\n\t\t} );\r\n\t\treturn ( fxNow = jQuery.now() );\r\n\t}\r\n\r\n// Generate parameters to create a standard animation\r\n\tfunction genFx( type, includeWidth ) {\r\n\t\tvar which,\r\n\t\t\tattrs = { height: type },\r\n\t\t\ti = 0;\r\n\r\n\t\t// if we include width, step value is 1 to do all cssExpand values,\r\n\t\t// if we don't include width, step value is 2 to skip over Left and Right\r\n\t\tincludeWidth = includeWidth ? 1 : 0;\r\n\t\tfor ( ; i < 4 ; i += 2 - includeWidth ) {\r\n\t\t\twhich = cssExpand[ i ];\r\n\t\t\tattrs[ \"margin\" + which ] = attrs[ \"padding\" + which ] = type;\r\n\t\t}\r\n\r\n\t\tif ( includeWidth ) {\r\n\t\t\tattrs.opacity = attrs.width = type;\r\n\t\t}\r\n\r\n\t\treturn attrs;\r\n\t}\r\n\r\n\tfunction createTween( value, prop, animation ) {\r\n\t\tvar tween,\r\n\t\t\tcollection = ( Animation.tweeners[ prop ] || [] ).concat( Animation.tweeners[ \"*\" ] ),\r\n\t\t\tindex = 0,\r\n\t\t\tlength = collection.length;\r\n\t\tfor ( ; index < length; index++ ) {\r\n\t\t\tif ( ( tween = collection[ index ].call( animation, prop, value ) ) ) {\r\n\r\n\t\t\t\t// we're done with this property\r\n\t\t\t\treturn tween;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction defaultPrefilter( elem, props, opts ) {\r\n\t\t/* jshint validthis: true */\r\n\t\tvar prop, value, toggle, tween, hooks, oldfire, display, checkDisplay,\r\n\t\t\tanim = this,\r\n\t\t\torig = {},\r\n\t\t\tstyle = elem.style,\r\n\t\t\thidden = elem.nodeType && isHidden( elem ),\r\n\t\t\tdataShow = jQuery._data( elem, \"fxshow\" );\r\n\r\n\t\t// handle queue: false promises\r\n\t\tif ( !opts.queue ) {\r\n\t\t\thooks = jQuery._queueHooks( elem, \"fx\" );\r\n\t\t\tif ( hooks.unqueued == null ) {\r\n\t\t\t\thooks.unqueued = 0;\r\n\t\t\t\toldfire = hooks.empty.fire;\r\n\t\t\t\thooks.empty.fire = function() {\r\n\t\t\t\t\tif ( !hooks.unqueued ) {\r\n\t\t\t\t\t\toldfire();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\thooks.unqueued++;\r\n\r\n\t\t\tanim.always( function() {\r\n\r\n\t\t\t\t// doing this makes sure that the complete handler will be called\r\n\t\t\t\t// before this completes\r\n\t\t\t\tanim.always( function() {\r\n\t\t\t\t\thooks.unqueued--;\r\n\t\t\t\t\tif ( !jQuery.queue( elem, \"fx\" ).length ) {\r\n\t\t\t\t\t\thooks.empty.fire();\r\n\t\t\t\t\t}\r\n\t\t\t\t} );\r\n\t\t\t} );\r\n\t\t}\r\n\r\n\t\t// height/width overflow pass\r\n\t\tif ( elem.nodeType === 1 && ( \"height\" in props || \"width\" in props ) ) {\r\n\r\n\t\t\t// Make sure that nothing sneaks out\r\n\t\t\t// Record all 3 overflow attributes because IE does not\r\n\t\t\t// change the overflow attribute when overflowX and\r\n\t\t\t// overflowY are set to the same value\r\n\t\t\topts.overflow = [ style.overflow, style.overflowX, style.overflowY ];\r\n\r\n\t\t\t// Set display property to inline-block for height/width\r\n\t\t\t// animations on inline elements that are having width/height animated\r\n\t\t\tdisplay = jQuery.css( elem, \"display\" );\r\n\r\n\t\t\t// Test default display if display is currently \"none\"\r\n\t\t\tcheckDisplay = display === \"none\" ?\r\n\t\t\tjQuery._data( elem, \"olddisplay\" ) || defaultDisplay( elem.nodeName ) : display;\r\n\r\n\t\t\tif ( checkDisplay === \"inline\" && jQuery.css( elem, \"float\" ) === \"none\" ) {\r\n\r\n\t\t\t\t// inline-level elements accept inline-block;\r\n\t\t\t\t// block-level elements need to be inline with layout\r\n\t\t\t\tif ( !support.inlineBlockNeedsLayout || defaultDisplay( elem.nodeName ) === \"inline\" ) {\r\n\t\t\t\t\tstyle.display = \"inline-block\";\r\n\t\t\t\t} else {\r\n\t\t\t\t\tstyle.zoom = 1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( opts.overflow ) {\r\n\t\t\tstyle.overflow = \"hidden\";\r\n\t\t\tif ( !support.shrinkWrapBlocks() ) {\r\n\t\t\t\tanim.always( function() {\r\n\t\t\t\t\tstyle.overflow = opts.overflow[ 0 ];\r\n\t\t\t\t\tstyle.overflowX = opts.overflow[ 1 ];\r\n\t\t\t\t\tstyle.overflowY = opts.overflow[ 2 ];\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// show/hide pass\r\n\t\tfor ( prop in props ) {\r\n\t\t\tvalue = props[ prop ];\r\n\t\t\tif ( rfxtypes.exec( value ) ) {\r\n\t\t\t\tdelete props[ prop ];\r\n\t\t\t\ttoggle = toggle || value === \"toggle\";\r\n\t\t\t\tif ( value === ( hidden ? \"hide\" : \"show\" ) ) {\r\n\r\n\t\t\t\t\t// If there is dataShow left over from a stopped hide or show\r\n\t\t\t\t\t// and we are going to proceed with show, we should pretend to be hidden\r\n\t\t\t\t\tif ( value === \"show\" && dataShow && dataShow[ prop ] !== undefined ) {\r\n\t\t\t\t\t\thidden = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\torig[ prop ] = dataShow && dataShow[ prop ] || jQuery.style( elem, prop );\r\n\r\n\t\t\t\t// Any non-fx value stops us from restoring the original display value\r\n\t\t\t} else {\r\n\t\t\t\tdisplay = undefined;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !jQuery.isEmptyObject( orig ) ) {\r\n\t\t\tif ( dataShow ) {\r\n\t\t\t\tif ( \"hidden\" in dataShow ) {\r\n\t\t\t\t\thidden = dataShow.hidden;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdataShow = jQuery._data( elem, \"fxshow\", {} );\r\n\t\t\t}\r\n\r\n\t\t\t// store state if its toggle - enables .stop().toggle() to \"reverse\"\r\n\t\t\tif ( toggle ) {\r\n\t\t\t\tdataShow.hidden = !hidden;\r\n\t\t\t}\r\n\t\t\tif ( hidden ) {\r\n\t\t\t\tjQuery( elem ).show();\r\n\t\t\t} else {\r\n\t\t\t\tanim.done( function() {\r\n\t\t\t\t\tjQuery( elem ).hide();\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tanim.done( function() {\r\n\t\t\t\tvar prop;\r\n\t\t\t\tjQuery._removeData( elem, \"fxshow\" );\r\n\t\t\t\tfor ( prop in orig ) {\r\n\t\t\t\t\tjQuery.style( elem, prop, orig[ prop ] );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\tfor ( prop in orig ) {\r\n\t\t\t\ttween = createTween( hidden ? dataShow[ prop ] : 0, prop, anim );\r\n\r\n\t\t\t\tif ( !( prop in dataShow ) ) {\r\n\t\t\t\t\tdataShow[ prop ] = tween.start;\r\n\t\t\t\t\tif ( hidden ) {\r\n\t\t\t\t\t\ttween.end = tween.start;\r\n\t\t\t\t\t\ttween.start = prop === \"width\" || prop === \"height\" ? 1 : 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// If this is a noop like .hide().hide(), restore an overwritten display value\r\n\t\t} else if ( ( display === \"none\" ? defaultDisplay( elem.nodeName ) : display ) === \"inline\" ) {\r\n\t\t\tstyle.display = display;\r\n\t\t}\r\n\t}\r\n\r\n\tfunction propFilter( props, specialEasing ) {\r\n\t\tvar index, name, easing, value, hooks;\r\n\r\n\t\t// camelCase, specialEasing and expand cssHook pass\r\n\t\tfor ( index in props ) {\r\n\t\t\tname = jQuery.camelCase( index );\r\n\t\t\teasing = specialEasing[ name ];\r\n\t\t\tvalue = props[ index ];\r\n\t\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\t\teasing = value[ 1 ];\r\n\t\t\t\tvalue = props[ index ] = value[ 0 ];\r\n\t\t\t}\r\n\r\n\t\t\tif ( index !== name ) {\r\n\t\t\t\tprops[ name ] = value;\r\n\t\t\t\tdelete props[ index ];\r\n\t\t\t}\r\n\r\n\t\t\thooks = jQuery.cssHooks[ name ];\r\n\t\t\tif ( hooks && \"expand\" in hooks ) {\r\n\t\t\t\tvalue = hooks.expand( value );\r\n\t\t\t\tdelete props[ name ];\r\n\r\n\t\t\t\t// not quite $.extend, this wont overwrite keys already present.\r\n\t\t\t\t// also - reusing 'index' from above because we have the correct \"name\"\r\n\t\t\t\tfor ( index in value ) {\r\n\t\t\t\t\tif ( !( index in props ) ) {\r\n\t\t\t\t\t\tprops[ index ] = value[ index ];\r\n\t\t\t\t\t\tspecialEasing[ index ] = easing;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tspecialEasing[ name ] = easing;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction Animation( elem, properties, options ) {\r\n\t\tvar result,\r\n\t\t\tstopped,\r\n\t\t\tindex = 0,\r\n\t\t\tlength = Animation.prefilters.length,\r\n\t\t\tdeferred = jQuery.Deferred().always( function() {\r\n\r\n\t\t\t\t// don't match elem in the :animated selector\r\n\t\t\t\tdelete tick.elem;\r\n\t\t\t} ),\r\n\t\t\ttick = function() {\r\n\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar currentTime = fxNow || createFxNow(),\r\n\t\t\t\t\tremaining = Math.max( 0, animation.startTime + animation.duration - currentTime ),\r\n\r\n\t\t\t\t\t// Support: Android 2.3\r\n\t\t\t\t\t// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)\r\n\t\t\t\t\ttemp = remaining / animation.duration || 0,\r\n\t\t\t\t\tpercent = 1 - temp,\r\n\t\t\t\t\tindex = 0,\r\n\t\t\t\t\tlength = animation.tweens.length;\r\n\r\n\t\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\t\tanimation.tweens[ index ].run( percent );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdeferred.notifyWith( elem, [ animation, percent, remaining ] );\r\n\r\n\t\t\t\tif ( percent < 1 && length ) {\r\n\t\t\t\t\treturn remaining;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeferred.resolveWith( elem, [ animation ] );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tanimation = deferred.promise( {\r\n\t\t\t\telem: elem,\r\n\t\t\t\tprops: jQuery.extend( {}, properties ),\r\n\t\t\t\topts: jQuery.extend( true, {\r\n\t\t\t\t\tspecialEasing: {},\r\n\t\t\t\t\teasing: jQuery.easing._default\r\n\t\t\t\t}, options ),\r\n\t\t\t\toriginalProperties: properties,\r\n\t\t\t\toriginalOptions: options,\r\n\t\t\t\tstartTime: fxNow || createFxNow(),\r\n\t\t\t\tduration: options.duration,\r\n\t\t\t\ttweens: [],\r\n\t\t\t\tcreateTween: function( prop, end ) {\r\n\t\t\t\t\tvar tween = jQuery.Tween( elem, animation.opts, prop, end,\r\n\t\t\t\t\t\tanimation.opts.specialEasing[ prop ] || animation.opts.easing );\r\n\t\t\t\t\tanimation.tweens.push( tween );\r\n\t\t\t\t\treturn tween;\r\n\t\t\t\t},\r\n\t\t\t\tstop: function( gotoEnd ) {\r\n\t\t\t\t\tvar index = 0,\r\n\r\n\t\t\t\t\t\t// if we are going to the end, we want to run all the tweens\r\n\t\t\t\t\t\t// otherwise we skip this part\r\n\t\t\t\t\t\tlength = gotoEnd ? animation.tweens.length : 0;\r\n\t\t\t\t\tif ( stopped ) {\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tstopped = true;\r\n\t\t\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\t\t\tanimation.tweens[ index ].run( 1 );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// resolve when we played the last frame\r\n\t\t\t\t\t// otherwise, reject\r\n\t\t\t\t\tif ( gotoEnd ) {\r\n\t\t\t\t\t\tdeferred.notifyWith( elem, [ animation, 1, 0 ] );\r\n\t\t\t\t\t\tdeferred.resolveWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tdeferred.rejectWith( elem, [ animation, gotoEnd ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t} ),\r\n\t\t\tprops = animation.props;\r\n\r\n\t\tpropFilter( props, animation.opts.specialEasing );\r\n\r\n\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\tresult = Animation.prefilters[ index ].call( animation, elem, props, animation.opts );\r\n\t\t\tif ( result ) {\r\n\t\t\t\tif ( jQuery.isFunction( result.stop ) ) {\r\n\t\t\t\t\tjQuery._queueHooks( animation.elem, animation.opts.queue ).stop =\r\n\t\t\t\t\t\tjQuery.proxy( result.stop, result );\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tjQuery.map( props, createTween, animation );\r\n\r\n\t\tif ( jQuery.isFunction( animation.opts.start ) ) {\r\n\t\t\tanimation.opts.start.call( elem, animation );\r\n\t\t}\r\n\r\n\t\tjQuery.fx.timer(\r\n\t\t\tjQuery.extend( tick, {\r\n\t\t\t\telem: elem,\r\n\t\t\t\tanim: animation,\r\n\t\t\t\tqueue: animation.opts.queue\r\n\t\t\t} )\r\n\t\t);\r\n\r\n\t\t// attach callbacks from options\r\n\t\treturn animation.progress( animation.opts.progress )\r\n\t\t\t.done( animation.opts.done, animation.opts.complete )\r\n\t\t\t.fail( animation.opts.fail )\r\n\t\t\t.always( animation.opts.always );\r\n\t}\r\n\r\n\tjQuery.Animation = jQuery.extend( Animation, {\r\n\r\n\t\ttweeners: {\r\n\t\t\t\"*\": [ function( prop, value ) {\r\n\t\t\t\tvar tween = this.createTween( prop, value );\r\n\t\t\t\tadjustCSS( tween.elem, prop, rcssNum.exec( value ), tween );\r\n\t\t\t\treturn tween;\r\n\t\t\t} ]\r\n\t\t},\r\n\r\n\t\ttweener: function( props, callback ) {\r\n\t\t\tif ( jQuery.isFunction( props ) ) {\r\n\t\t\t\tcallback = props;\r\n\t\t\t\tprops = [ \"*\" ];\r\n\t\t\t} else {\r\n\t\t\t\tprops = props.match( rnotwhite );\r\n\t\t\t}\r\n\r\n\t\t\tvar prop,\r\n\t\t\t\tindex = 0,\r\n\t\t\t\tlength = props.length;\r\n\r\n\t\t\tfor ( ; index < length ; index++ ) {\r\n\t\t\t\tprop = props[ index ];\r\n\t\t\t\tAnimation.tweeners[ prop ] = Animation.tweeners[ prop ] || [];\r\n\t\t\t\tAnimation.tweeners[ prop ].unshift( callback );\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tprefilters: [ defaultPrefilter ],\r\n\r\n\t\tprefilter: function( callback, prepend ) {\r\n\t\t\tif ( prepend ) {\r\n\t\t\t\tAnimation.prefilters.unshift( callback );\r\n\t\t\t} else {\r\n\t\t\t\tAnimation.prefilters.push( callback );\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.speed = function( speed, easing, fn ) {\r\n\t\tvar opt = speed && typeof speed === \"object\" ? jQuery.extend( {}, speed ) : {\r\n\t\t\tcomplete: fn || !fn && easing ||\r\n\t\t\tjQuery.isFunction( speed ) && speed,\r\n\t\t\tduration: speed,\r\n\t\t\teasing: fn && easing || easing && !jQuery.isFunction( easing ) && easing\r\n\t\t};\r\n\r\n\t\topt.duration = jQuery.fx.off ? 0 : typeof opt.duration === \"number\" ? opt.duration :\r\n\t\t\topt.duration in jQuery.fx.speeds ?\r\n\t\t\t\tjQuery.fx.speeds[ opt.duration ] : jQuery.fx.speeds._default;\r\n\r\n\t\t// normalize opt.queue - true/undefined/null -> \"fx\"\r\n\t\tif ( opt.queue == null || opt.queue === true ) {\r\n\t\t\topt.queue = \"fx\";\r\n\t\t}\r\n\r\n\t\t// Queueing\r\n\t\topt.old = opt.complete;\r\n\r\n\t\topt.complete = function() {\r\n\t\t\tif ( jQuery.isFunction( opt.old ) ) {\r\n\t\t\t\topt.old.call( this );\r\n\t\t\t}\r\n\r\n\t\t\tif ( opt.queue ) {\r\n\t\t\t\tjQuery.dequeue( this, opt.queue );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn opt;\r\n\t};\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tfadeTo: function( speed, to, easing, callback ) {\r\n\r\n\t\t\t// show any hidden elements after setting opacity to 0\r\n\t\t\treturn this.filter( isHidden ).css( \"opacity\", 0 ).show()\r\n\r\n\t\t\t// animate to the value specified\r\n\t\t\t\t.end().animate( { opacity: to }, speed, easing, callback );\r\n\t\t},\r\n\t\tanimate: function( prop, speed, easing, callback ) {\r\n\t\t\tvar empty = jQuery.isEmptyObject( prop ),\r\n\t\t\t\toptall = jQuery.speed( speed, easing, callback ),\r\n\t\t\t\tdoAnimation = function() {\r\n\r\n\t\t\t\t\t// Operate on a copy of prop so per-property easing won't be lost\r\n\t\t\t\t\tvar anim = Animation( this, jQuery.extend( {}, prop ), optall );\r\n\r\n\t\t\t\t\t// Empty animations, or finishing resolves immediately\r\n\t\t\t\t\tif ( empty || jQuery._data( this, \"finish\" ) ) {\r\n\t\t\t\t\t\tanim.stop( true );\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\tdoAnimation.finish = doAnimation;\r\n\r\n\t\t\treturn empty || optall.queue === false ?\r\n\t\t\t\tthis.each( doAnimation ) :\r\n\t\t\t\tthis.queue( optall.queue, doAnimation );\r\n\t\t},\r\n\t\tstop: function( type, clearQueue, gotoEnd ) {\r\n\t\t\tvar stopQueue = function( hooks ) {\r\n\t\t\t\tvar stop = hooks.stop;\r\n\t\t\t\tdelete hooks.stop;\r\n\t\t\t\tstop( gotoEnd );\r\n\t\t\t};\r\n\r\n\t\t\tif ( typeof type !== \"string\" ) {\r\n\t\t\t\tgotoEnd = clearQueue;\r\n\t\t\t\tclearQueue = type;\r\n\t\t\t\ttype = undefined;\r\n\t\t\t}\r\n\t\t\tif ( clearQueue && type !== false ) {\r\n\t\t\t\tthis.queue( type || \"fx\", [] );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tvar dequeue = true,\r\n\t\t\t\t\tindex = type != null && type + \"queueHooks\",\r\n\t\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\t\tdata = jQuery._data( this );\r\n\r\n\t\t\t\tif ( index ) {\r\n\t\t\t\t\tif ( data[ index ] && data[ index ].stop ) {\r\n\t\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfor ( index in data ) {\r\n\t\t\t\t\t\tif ( data[ index ] && data[ index ].stop && rrun.test( index ) ) {\r\n\t\t\t\t\t\t\tstopQueue( data[ index ] );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\t\tif ( timers[ index ].elem === this &&\r\n\t\t\t\t\t\t( type == null || timers[ index ].queue === type ) ) {\r\n\r\n\t\t\t\t\t\ttimers[ index ].anim.stop( gotoEnd );\r\n\t\t\t\t\t\tdequeue = false;\r\n\t\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// start the next in the queue if the last step wasn't forced\r\n\t\t\t\t// timers currently will call their complete callbacks, which will dequeue\r\n\t\t\t\t// but only if they were gotoEnd\r\n\t\t\t\tif ( dequeue || !gotoEnd ) {\r\n\t\t\t\t\tjQuery.dequeue( this, type );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\t\tfinish: function( type ) {\r\n\t\t\tif ( type !== false ) {\r\n\t\t\t\ttype = type || \"fx\";\r\n\t\t\t}\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tvar index,\r\n\t\t\t\t\tdata = jQuery._data( this ),\r\n\t\t\t\t\tqueue = data[ type + \"queue\" ],\r\n\t\t\t\t\thooks = data[ type + \"queueHooks\" ],\r\n\t\t\t\t\ttimers = jQuery.timers,\r\n\t\t\t\t\tlength = queue ? queue.length : 0;\r\n\r\n\t\t\t\t// enable finishing flag on private data\r\n\t\t\t\tdata.finish = true;\r\n\r\n\t\t\t\t// empty the queue first\r\n\t\t\t\tjQuery.queue( this, type, [] );\r\n\r\n\t\t\t\tif ( hooks && hooks.stop ) {\r\n\t\t\t\t\thooks.stop.call( this, true );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// look for any active animations, and finish them\r\n\t\t\t\tfor ( index = timers.length; index--; ) {\r\n\t\t\t\t\tif ( timers[ index ].elem === this && timers[ index ].queue === type ) {\r\n\t\t\t\t\t\ttimers[ index ].anim.stop( true );\r\n\t\t\t\t\t\ttimers.splice( index, 1 );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// look for any animations in the old queue and finish them\r\n\t\t\t\tfor ( index = 0; index < length; index++ ) {\r\n\t\t\t\t\tif ( queue[ index ] && queue[ index ].finish ) {\r\n\t\t\t\t\t\tqueue[ index ].finish.call( this );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// turn off finishing flag\r\n\t\t\t\tdelete data.finish;\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.each( [ \"toggle\", \"show\", \"hide\" ], function( i, name ) {\r\n\t\tvar cssFn = jQuery.fn[ name ];\r\n\t\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\t\treturn speed == null || typeof speed === \"boolean\" ?\r\n\t\t\t\tcssFn.apply( this, arguments ) :\r\n\t\t\t\tthis.animate( genFx( name, true ), speed, easing, callback );\r\n\t\t};\r\n\t} );\r\n\r\n// Generate shortcuts for custom animations\r\n\tjQuery.each( {\r\n\t\tslideDown: genFx( \"show\" ),\r\n\t\tslideUp: genFx( \"hide\" ),\r\n\t\tslideToggle: genFx( \"toggle\" ),\r\n\t\tfadeIn: { opacity: \"show\" },\r\n\t\tfadeOut: { opacity: \"hide\" },\r\n\t\tfadeToggle: { opacity: \"toggle\" }\r\n\t}, function( name, props ) {\r\n\t\tjQuery.fn[ name ] = function( speed, easing, callback ) {\r\n\t\t\treturn this.animate( props, speed, easing, callback );\r\n\t\t};\r\n\t} );\r\n\r\n\tjQuery.timers = [];\r\n\tjQuery.fx.tick = function() {\r\n\t\tvar timer,\r\n\t\t\ttimers = jQuery.timers,\r\n\t\t\ti = 0;\r\n\r\n\t\tfxNow = jQuery.now();\r\n\r\n\t\tfor ( ; i < timers.length; i++ ) {\r\n\t\t\ttimer = timers[ i ];\r\n\r\n\t\t\t// Checks the timer has not already been removed\r\n\t\t\tif ( !timer() && timers[ i ] === timer ) {\r\n\t\t\t\ttimers.splice( i--, 1 );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( !timers.length ) {\r\n\t\t\tjQuery.fx.stop();\r\n\t\t}\r\n\t\tfxNow = undefined;\r\n\t};\r\n\r\n\tjQuery.fx.timer = function( timer ) {\r\n\t\tjQuery.timers.push( timer );\r\n\t\tif ( timer() ) {\r\n\t\t\tjQuery.fx.start();\r\n\t\t} else {\r\n\t\t\tjQuery.timers.pop();\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.fx.interval = 13;\r\n\r\n\tjQuery.fx.start = function() {\r\n\t\tif ( !timerId ) {\r\n\t\t\ttimerId = window.setInterval( jQuery.fx.tick, jQuery.fx.interval );\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.fx.stop = function() {\r\n\t\twindow.clearInterval( timerId );\r\n\t\ttimerId = null;\r\n\t};\r\n\r\n\tjQuery.fx.speeds = {\r\n\t\tslow: 600,\r\n\t\tfast: 200,\r\n\r\n\t\t// Default speed\r\n\t\t_default: 400\r\n\t};\r\n\r\n\r\n// Based off of the plugin by Clint Helfers, with permission.\r\n// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/\r\n\tjQuery.fn.delay = function( time, type ) {\r\n\t\ttime = jQuery.fx ? jQuery.fx.speeds[ time ] || time : time;\r\n\t\ttype = type || \"fx\";\r\n\r\n\t\treturn this.queue( type, function( next, hooks ) {\r\n\t\t\tvar timeout = window.setTimeout( next, time );\r\n\t\t\thooks.stop = function() {\r\n\t\t\t\twindow.clearTimeout( timeout );\r\n\t\t\t};\r\n\t\t} );\r\n\t};\r\n\r\n\r\n\t( function() {\r\n\t\tvar a,\r\n\t\t\tinput = document.createElement( \"input\" ),\r\n\t\t\tdiv = document.createElement( \"div\" ),\r\n\t\t\tselect = document.createElement( \"select\" ),\r\n\t\t\topt = select.appendChild( document.createElement( \"option\" ) );\r\n\r\n\t\t// Setup\r\n\t\tdiv = document.createElement( \"div\" );\r\n\t\tdiv.setAttribute( \"className\", \"t\" );\r\n\t\tdiv.innerHTML = \"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\";\r\n\t\ta = div.getElementsByTagName( \"a\" )[ 0 ];\r\n\r\n\t\t// Support: Windows Web Apps (WWA)\r\n\t\t// `type` must use .setAttribute for WWA (#14901)\r\n\t\tinput.setAttribute( \"type\", \"checkbox\" );\r\n\t\tdiv.appendChild( input );\r\n\r\n\t\ta = div.getElementsByTagName( \"a\" )[ 0 ];\r\n\r\n\t\t// First batch of tests.\r\n\t\ta.style.cssText = \"top:1px\";\r\n\r\n\t\t// Test setAttribute on camelCase class.\r\n\t\t// If it works, we need attrFixes when doing get/setAttribute (ie6/7)\r\n\t\tsupport.getSetAttribute = div.className !== \"t\";\r\n\r\n\t\t// Get the style information from getAttribute\r\n\t\t// (IE uses .cssText instead)\r\n\t\tsupport.style = /top/.test( a.getAttribute( \"style\" ) );\r\n\r\n\t\t// Make sure that URLs aren't manipulated\r\n\t\t// (IE normalizes it by default)\r\n\t\tsupport.hrefNormalized = a.getAttribute( \"href\" ) === \"/a\";\r\n\r\n\t\t// Check the default checkbox/radio value (\"\" on WebKit; \"on\" elsewhere)\r\n\t\tsupport.checkOn = !!input.value;\r\n\r\n\t\t// Make sure that a selected-by-default option has a working selected property.\r\n\t\t// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)\r\n\t\tsupport.optSelected = opt.selected;\r\n\r\n\t\t// Tests for enctype support on a form (#6743)\r\n\t\tsupport.enctype = !!document.createElement( \"form\" ).enctype;\r\n\r\n\t\t// Make sure that the options inside disabled selects aren't marked as disabled\r\n\t\t// (WebKit marks them as disabled)\r\n\t\tselect.disabled = true;\r\n\t\tsupport.optDisabled = !opt.disabled;\r\n\r\n\t\t// Support: IE8 only\r\n\t\t// Check if we can trust getAttribute(\"value\")\r\n\t\tinput = document.createElement( \"input\" );\r\n\t\tinput.setAttribute( \"value\", \"\" );\r\n\t\tsupport.input = input.getAttribute( \"value\" ) === \"\";\r\n\r\n\t\t// Check if an input maintains its value after becoming a radio\r\n\t\tinput.value = \"t\";\r\n\t\tinput.setAttribute( \"type\", \"radio\" );\r\n\t\tsupport.radioValue = input.value === \"t\";\r\n\t} )();\r\n\r\n\r\n\tvar rreturn = /\\r/g,\r\n\t\trspaces = /[\\x20\\t\\r\\n\\f]+/g;\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tval: function( value ) {\r\n\t\t\tvar hooks, ret, isFunction,\r\n\t\t\t\telem = this[ 0 ];\r\n\r\n\t\t\tif ( !arguments.length ) {\r\n\t\t\t\tif ( elem ) {\r\n\t\t\t\t\thooks = jQuery.valHooks[ elem.type ] ||\r\n\t\t\t\t\t\tjQuery.valHooks[ elem.nodeName.toLowerCase() ];\r\n\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\thooks &&\r\n\t\t\t\t\t\t\"get\" in hooks &&\r\n\t\t\t\t\t\t( ret = hooks.get( elem, \"value\" ) ) !== undefined\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\treturn ret;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tret = elem.value;\r\n\r\n\t\t\t\t\treturn typeof ret === \"string\" ?\r\n\r\n\t\t\t\t\t\t// handle most common string cases\r\n\t\t\t\t\t\tret.replace( rreturn, \"\" ) :\r\n\r\n\t\t\t\t\t\t// handle cases where value is null/undef or number\r\n\t\t\t\t\t\tret == null ? \"\" : ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tisFunction = jQuery.isFunction( value );\r\n\r\n\t\t\treturn this.each( function( i ) {\r\n\t\t\t\tvar val;\r\n\r\n\t\t\t\tif ( this.nodeType !== 1 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( isFunction ) {\r\n\t\t\t\t\tval = value.call( this, i, jQuery( this ).val() );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tval = value;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Treat null/undefined as \"\"; convert numbers to string\r\n\t\t\t\tif ( val == null ) {\r\n\t\t\t\t\tval = \"\";\r\n\t\t\t\t} else if ( typeof val === \"number\" ) {\r\n\t\t\t\t\tval += \"\";\r\n\t\t\t\t} else if ( jQuery.isArray( val ) ) {\r\n\t\t\t\t\tval = jQuery.map( val, function( value ) {\r\n\t\t\t\t\t\treturn value == null ? \"\" : value + \"\";\r\n\t\t\t\t\t} );\r\n\t\t\t\t}\r\n\r\n\t\t\t\thooks = jQuery.valHooks[ this.type ] || jQuery.valHooks[ this.nodeName.toLowerCase() ];\r\n\r\n\t\t\t\t// If set returns undefined, fall back to normal setting\r\n\t\t\t\tif ( !hooks || !( \"set\" in hooks ) || hooks.set( this, val, \"value\" ) === undefined ) {\r\n\t\t\t\t\tthis.value = val;\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.extend( {\r\n\t\tvalHooks: {\r\n\t\t\toption: {\r\n\t\t\t\tget: function( elem ) {\r\n\t\t\t\t\tvar val = jQuery.find.attr( elem, \"value\" );\r\n\t\t\t\t\treturn val != null ?\r\n\t\t\t\t\t\tval :\r\n\r\n\t\t\t\t\t\t// Support: IE10-11+\r\n\t\t\t\t\t\t// option.text throws exceptions (#14686, #14858)\r\n\t\t\t\t\t\t// Strip and collapse whitespace\r\n\t\t\t\t\t\t// https://html.spec.whatwg.org/#strip-and-collapse-whitespace\r\n\t\t\t\t\t\tjQuery.trim( jQuery.text( elem ) ).replace( rspaces, \" \" );\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tselect: {\r\n\t\t\t\tget: function( elem ) {\r\n\t\t\t\t\tvar value, option,\r\n\t\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\t\tindex = elem.selectedIndex,\r\n\t\t\t\t\t\tone = elem.type === \"select-one\" || index < 0,\r\n\t\t\t\t\t\tvalues = one ? null : [],\r\n\t\t\t\t\t\tmax = one ? index + 1 : options.length,\r\n\t\t\t\t\t\ti = index < 0 ?\r\n\t\t\t\t\t\t\tmax :\r\n\t\t\t\t\t\t\tone ? index : 0;\r\n\r\n\t\t\t\t\t// Loop through all the selected options\r\n\t\t\t\t\tfor ( ; i < max; i++ ) {\r\n\t\t\t\t\t\toption = options[ i ];\r\n\r\n\t\t\t\t\t\t// oldIE doesn't update selected after form reset (#2551)\r\n\t\t\t\t\t\tif ( ( option.selected || i === index ) &&\r\n\r\n\t\t\t\t\t\t\t// Don't return options that are disabled or in a disabled optgroup\r\n\t\t\t\t\t\t\t( support.optDisabled ?\r\n\t\t\t\t\t\t\t\t!option.disabled :\r\n\t\t\t\t\t\t\toption.getAttribute( \"disabled\" ) === null ) &&\r\n\t\t\t\t\t\t\t( !option.parentNode.disabled ||\r\n\t\t\t\t\t\t\t!jQuery.nodeName( option.parentNode, \"optgroup\" ) ) ) {\r\n\r\n\t\t\t\t\t\t\t// Get the specific value for the option\r\n\t\t\t\t\t\t\tvalue = jQuery( option ).val();\r\n\r\n\t\t\t\t\t\t\t// We don't need an array for one selects\r\n\t\t\t\t\t\t\tif ( one ) {\r\n\t\t\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Multi-Selects return an array\r\n\t\t\t\t\t\t\tvalues.push( value );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn values;\r\n\t\t\t\t},\r\n\r\n\t\t\t\tset: function( elem, value ) {\r\n\t\t\t\t\tvar optionSet, option,\r\n\t\t\t\t\t\toptions = elem.options,\r\n\t\t\t\t\t\tvalues = jQuery.makeArray( value ),\r\n\t\t\t\t\t\ti = options.length;\r\n\r\n\t\t\t\t\twhile ( i-- ) {\r\n\t\t\t\t\t\toption = options[ i ];\r\n\r\n\t\t\t\t\t\tif ( jQuery.inArray( jQuery.valHooks.option.get( option ), values ) > -1 ) {\r\n\r\n\t\t\t\t\t\t\t// Support: IE6\r\n\t\t\t\t\t\t\t// When new option element is added to select box we need to\r\n\t\t\t\t\t\t\t// force reflow of newly added node in order to workaround delay\r\n\t\t\t\t\t\t\t// of initialization properties\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\toption.selected = optionSet = true;\r\n\r\n\t\t\t\t\t\t\t} catch ( _ ) {\r\n\r\n\t\t\t\t\t\t\t\t// Will be executed only in IE6\r\n\t\t\t\t\t\t\t\toption.scrollHeight;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toption.selected = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Force browsers to behave consistently when non-matching value is set\r\n\t\t\t\t\tif ( !optionSet ) {\r\n\t\t\t\t\t\telem.selectedIndex = -1;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn options;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n// Radios and checkboxes getter/setter\r\n\tjQuery.each( [ \"radio\", \"checkbox\" ], function() {\r\n\t\tjQuery.valHooks[ this ] = {\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\tif ( jQuery.isArray( value ) ) {\r\n\t\t\t\t\treturn ( elem.checked = jQuery.inArray( jQuery( elem ).val(), value ) > -1 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tif ( !support.checkOn ) {\r\n\t\t\tjQuery.valHooks[ this ].get = function( elem ) {\r\n\t\t\t\treturn elem.getAttribute( \"value\" ) === null ? \"on\" : elem.value;\r\n\t\t\t};\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\r\n\r\n\tvar nodeHook, boolHook,\r\n\t\tattrHandle = jQuery.expr.attrHandle,\r\n\t\truseDefault = /^(?:checked|selected)$/i,\r\n\t\tgetSetAttribute = support.getSetAttribute,\r\n\t\tgetSetInput = support.input;\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tattr: function( name, value ) {\r\n\t\t\treturn access( this, jQuery.attr, name, value, arguments.length > 1 );\r\n\t\t},\r\n\r\n\t\tremoveAttr: function( name ) {\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tjQuery.removeAttr( this, name );\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.extend( {\r\n\t\tattr: function( elem, name, value ) {\r\n\t\t\tvar ret, hooks,\r\n\t\t\t\tnType = elem.nodeType;\r\n\r\n\t\t\t// Don't get/set attributes on text, comment and attribute nodes\r\n\t\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\t// Fallback to prop when attributes are not supported\r\n\t\t\tif ( typeof elem.getAttribute === \"undefined\" ) {\r\n\t\t\t\treturn jQuery.prop( elem, name, value );\r\n\t\t\t}\r\n\r\n\t\t\t// All attributes are lowercase\r\n\t\t\t// Grab necessary hook if one is defined\r\n\t\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\r\n\t\t\t\tname = name.toLowerCase();\r\n\t\t\t\thooks = jQuery.attrHooks[ name ] ||\r\n\t\t\t\t\t( jQuery.expr.match.bool.test( name ) ? boolHook : nodeHook );\r\n\t\t\t}\r\n\r\n\t\t\tif ( value !== undefined ) {\r\n\t\t\t\tif ( value === null ) {\r\n\t\t\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( hooks && \"set\" in hooks &&\r\n\t\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\telem.setAttribute( name, value + \"\" );\r\n\t\t\t\treturn value;\r\n\t\t\t}\r\n\r\n\t\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\tret = jQuery.find.attr( elem, name );\r\n\r\n\t\t\t// Non-existent attributes return null, we normalize to undefined\r\n\t\t\treturn ret == null ? undefined : ret;\r\n\t\t},\r\n\r\n\t\tattrHooks: {\r\n\t\t\ttype: {\r\n\t\t\t\tset: function( elem, value ) {\r\n\t\t\t\t\tif ( !support.radioValue && value === \"radio\" &&\r\n\t\t\t\t\t\tjQuery.nodeName( elem, \"input\" ) ) {\r\n\r\n\t\t\t\t\t\t// Setting the type on a radio button after the value resets the value in IE8-9\r\n\t\t\t\t\t\t// Reset value to default in case type is set after value during creation\r\n\t\t\t\t\t\tvar val = elem.value;\r\n\t\t\t\t\t\telem.setAttribute( \"type\", value );\r\n\t\t\t\t\t\tif ( val ) {\r\n\t\t\t\t\t\t\telem.value = val;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tremoveAttr: function( elem, value ) {\r\n\t\t\tvar name, propName,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tattrNames = value && value.match( rnotwhite );\r\n\r\n\t\t\tif ( attrNames && elem.nodeType === 1 ) {\r\n\t\t\t\twhile ( ( name = attrNames[ i++ ] ) ) {\r\n\t\t\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\r\n\t\t\t\t\t// Boolean attributes get special treatment (#10870)\r\n\t\t\t\t\tif ( jQuery.expr.match.bool.test( name ) ) {\r\n\r\n\t\t\t\t\t\t// Set corresponding property to false\r\n\t\t\t\t\t\tif ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\r\n\t\t\t\t\t\t\telem[ propName ] = false;\r\n\r\n\t\t\t\t\t\t\t// Support: IE<9\r\n\t\t\t\t\t\t\t// Also clear defaultChecked/defaultSelected (if appropriate)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] =\r\n\t\t\t\t\t\t\t\telem[ propName ] = false;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// See #9699 for explanation of this approach (setting first, then removal)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tjQuery.attr( elem, name, \"\" );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem.removeAttribute( getSetAttribute ? name : propName );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n// Hooks for boolean attributes\r\n\tboolHook = {\r\n\t\tset: function( elem, value, name ) {\r\n\t\t\tif ( value === false ) {\r\n\r\n\t\t\t\t// Remove boolean attributes when set to false\r\n\t\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t\t} else if ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\r\n\r\n\t\t\t\t// IE<8 needs the *property* name\r\n\t\t\t\telem.setAttribute( !getSetAttribute && jQuery.propFix[ name ] || name, name );\r\n\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Support: IE<9\r\n\t\t\t\t// Use defaultChecked and defaultSelected for oldIE\r\n\t\t\t\telem[ jQuery.camelCase( \"default-\" + name ) ] = elem[ name ] = true;\r\n\t\t\t}\r\n\t\t\treturn name;\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.each( jQuery.expr.match.bool.source.match( /\\w+/g ), function( i, name ) {\r\n\t\tvar getter = attrHandle[ name ] || jQuery.find.attr;\r\n\r\n\t\tif ( getSetInput && getSetAttribute || !ruseDefault.test( name ) ) {\r\n\t\t\tattrHandle[ name ] = function( elem, name, isXML ) {\r\n\t\t\t\tvar ret, handle;\r\n\t\t\t\tif ( !isXML ) {\r\n\r\n\t\t\t\t\t// Avoid an infinite loop by temporarily removing this function from the getter\r\n\t\t\t\t\thandle = attrHandle[ name ];\r\n\t\t\t\t\tattrHandle[ name ] = ret;\r\n\t\t\t\t\tret = getter( elem, name, isXML ) != null ?\r\n\t\t\t\t\t\tname.toLowerCase() :\r\n\t\t\t\t\t\tnull;\r\n\t\t\t\t\tattrHandle[ name ] = handle;\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t};\r\n\t\t} else {\r\n\t\t\tattrHandle[ name ] = function( elem, name, isXML ) {\r\n\t\t\t\tif ( !isXML ) {\r\n\t\t\t\t\treturn elem[ jQuery.camelCase( \"default-\" + name ) ] ?\r\n\t\t\t\t\t\tname.toLowerCase() :\r\n\t\t\t\t\t\tnull;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t} );\r\n\r\n// fix oldIE attroperties\r\n\tif ( !getSetInput || !getSetAttribute ) {\r\n\t\tjQuery.attrHooks.value = {\r\n\t\t\tset: function( elem, value, name ) {\r\n\t\t\t\tif ( jQuery.nodeName( elem, \"input\" ) ) {\r\n\r\n\t\t\t\t\t// Does not return so that setAttribute is also used\r\n\t\t\t\t\telem.defaultValue = value;\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Use nodeHook if defined (#1954); otherwise setAttribute is fine\r\n\t\t\t\t\treturn nodeHook && nodeHook.set( elem, value, name );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n// IE6/7 do not support getting/setting some attributes with get/setAttribute\r\n\tif ( !getSetAttribute ) {\r\n\r\n\t\t// Use this for any attribute in IE6/7\r\n\t\t// This fixes almost every IE6/7 issue\r\n\t\tnodeHook = {\r\n\t\t\tset: function( elem, value, name ) {\r\n\r\n\t\t\t\t// Set the existing or create a new attribute node\r\n\t\t\t\tvar ret = elem.getAttributeNode( name );\r\n\t\t\t\tif ( !ret ) {\r\n\t\t\t\t\telem.setAttributeNode(\r\n\t\t\t\t\t\t( ret = elem.ownerDocument.createAttribute( name ) )\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tret.value = value += \"\";\r\n\r\n\t\t\t\t// Break association with cloned elements by also using setAttribute (#9646)\r\n\t\t\t\tif ( name === \"value\" || value === elem.getAttribute( name ) ) {\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Some attributes are constructed with empty-string values when not defined\r\n\t\tattrHandle.id = attrHandle.name = attrHandle.coords =\r\n\t\t\tfunction( elem, name, isXML ) {\r\n\t\t\t\tvar ret;\r\n\t\t\t\tif ( !isXML ) {\r\n\t\t\t\t\treturn ( ret = elem.getAttributeNode( name ) ) && ret.value !== \"\" ?\r\n\t\t\t\t\t\tret.value :\r\n\t\t\t\t\t\tnull;\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t// Fixing value retrieval on a button requires this module\r\n\t\tjQuery.valHooks.button = {\r\n\t\t\tget: function( elem, name ) {\r\n\t\t\t\tvar ret = elem.getAttributeNode( name );\r\n\t\t\t\tif ( ret && ret.specified ) {\r\n\t\t\t\t\treturn ret.value;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tset: nodeHook.set\r\n\t\t};\r\n\r\n\t\t// Set contenteditable to false on removals(#10429)\r\n\t\t// Setting to empty string throws an error as an invalid value\r\n\t\tjQuery.attrHooks.contenteditable = {\r\n\t\t\tset: function( elem, value, name ) {\r\n\t\t\t\tnodeHook.set( elem, value === \"\" ? false : value, name );\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Set width and height to auto instead of 0 on empty string( Bug #8150 )\r\n\t\t// This is for removals\r\n\t\tjQuery.each( [ \"width\", \"height\" ], function( i, name ) {\r\n\t\t\tjQuery.attrHooks[ name ] = {\r\n\t\t\t\tset: function( elem, value ) {\r\n\t\t\t\t\tif ( value === \"\" ) {\r\n\t\t\t\t\t\telem.setAttribute( name, \"auto\" );\r\n\t\t\t\t\t\treturn value;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} );\r\n\t}\r\n\r\n\tif ( !support.style ) {\r\n\t\tjQuery.attrHooks.style = {\r\n\t\t\tget: function( elem ) {\r\n\r\n\t\t\t\t// Return undefined in the case of empty string\r\n\t\t\t\t// Note: IE uppercases css property names, but if we were to .toLowerCase()\r\n\t\t\t\t// .cssText, that would destroy case sensitivity in URL's, like in \"background\"\r\n\t\t\t\treturn elem.style.cssText || undefined;\r\n\t\t\t},\r\n\t\t\tset: function( elem, value ) {\r\n\t\t\t\treturn ( elem.style.cssText = value + \"\" );\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\r\n\r\n\r\n\tvar rfocusable = /^(?:input|select|textarea|button|object)$/i,\r\n\t\trclickable = /^(?:a|area)$/i;\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tprop: function( name, value ) {\r\n\t\t\treturn access( this, jQuery.prop, name, value, arguments.length > 1 );\r\n\t\t},\r\n\r\n\t\tremoveProp: function( name ) {\r\n\t\t\tname = jQuery.propFix[ name ] || name;\r\n\t\t\treturn this.each( function() {\r\n\r\n\t\t\t\t// try/catch handles cases where IE balks (such as removing a property on window)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis[ name ] = undefined;\r\n\t\t\t\t\tdelete this[ name ];\r\n\t\t\t\t} catch ( e ) {}\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.extend( {\r\n\t\tprop: function( elem, name, value ) {\r\n\t\t\tvar ret, hooks,\r\n\t\t\t\tnType = elem.nodeType;\r\n\r\n\t\t\t// Don't get/set properties on text, comment and attribute nodes\r\n\t\t\tif ( nType === 3 || nType === 8 || nType === 2 ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif ( nType !== 1 || !jQuery.isXMLDoc( elem ) ) {\r\n\r\n\t\t\t\t// Fix name and attach hooks\r\n\t\t\t\tname = jQuery.propFix[ name ] || name;\r\n\t\t\t\thooks = jQuery.propHooks[ name ];\r\n\t\t\t}\r\n\r\n\t\t\tif ( value !== undefined ) {\r\n\t\t\t\tif ( hooks && \"set\" in hooks &&\r\n\t\t\t\t\t( ret = hooks.set( elem, value, name ) ) !== undefined ) {\r\n\t\t\t\t\treturn ret;\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn ( elem[ name ] = value );\r\n\t\t\t}\r\n\r\n\t\t\tif ( hooks && \"get\" in hooks && ( ret = hooks.get( elem, name ) ) !== null ) {\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\r\n\t\t\treturn elem[ name ];\r\n\t\t},\r\n\r\n\t\tpropHooks: {\r\n\t\t\ttabIndex: {\r\n\t\t\t\tget: function( elem ) {\r\n\r\n\t\t\t\t\t// elem.tabIndex doesn't always return the\r\n\t\t\t\t\t// correct value when it hasn't been explicitly set\r\n\t\t\t\t\t// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/\r\n\t\t\t\t\t// Use proper attribute retrieval(#12072)\r\n\t\t\t\t\tvar tabindex = jQuery.find.attr( elem, \"tabindex\" );\r\n\r\n\t\t\t\t\treturn tabindex ?\r\n\t\t\t\t\t\tparseInt( tabindex, 10 ) :\r\n\t\t\t\t\t\trfocusable.test( elem.nodeName ) ||\r\n\t\t\t\t\t\trclickable.test( elem.nodeName ) && elem.href ?\r\n\t\t\t\t\t\t\t0 :\r\n\t\t\t\t\t\t\t-1;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tpropFix: {\r\n\t\t\t\"for\": \"htmlFor\",\r\n\t\t\t\"class\": \"className\"\r\n\t\t}\r\n\t} );\r\n\r\n// Some attributes require a special call on IE\r\n// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx\r\n\tif ( !support.hrefNormalized ) {\r\n\r\n\t\t// href/src property should get the full normalized URL (#10299/#12915)\r\n\t\tjQuery.each( [ \"href\", \"src\" ], function( i, name ) {\r\n\t\t\tjQuery.propHooks[ name ] = {\r\n\t\t\t\tget: function( elem ) {\r\n\t\t\t\t\treturn elem.getAttribute( name, 4 );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t} );\r\n\t}\r\n\r\n// Support: Safari, IE9+\r\n// Accessing the selectedIndex property\r\n// forces the browser to respect setting selected\r\n// on the option\r\n// The getter ensures a default option is selected\r\n// when in an optgroup\r\n\tif ( !support.optSelected ) {\r\n\t\tjQuery.propHooks.selected = {\r\n\t\t\tget: function( elem ) {\r\n\t\t\t\tvar parent = elem.parentNode;\r\n\r\n\t\t\t\tif ( parent ) {\r\n\t\t\t\t\tparent.selectedIndex;\r\n\r\n\t\t\t\t\t// Make sure that it also works with optgroups, see #5701\r\n\t\t\t\t\tif ( parent.parentNode ) {\r\n\t\t\t\t\t\tparent.parentNode.selectedIndex;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn null;\r\n\t\t\t},\r\n\t\t\tset: function( elem ) {\r\n\t\t\t\tvar parent = elem.parentNode;\r\n\t\t\t\tif ( parent ) {\r\n\t\t\t\t\tparent.selectedIndex;\r\n\r\n\t\t\t\t\tif ( parent.parentNode ) {\r\n\t\t\t\t\t\tparent.parentNode.selectedIndex;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n\tjQuery.each( [\r\n\t\t\"tabIndex\",\r\n\t\t\"readOnly\",\r\n\t\t\"maxLength\",\r\n\t\t\"cellSpacing\",\r\n\t\t\"cellPadding\",\r\n\t\t\"rowSpan\",\r\n\t\t\"colSpan\",\r\n\t\t\"useMap\",\r\n\t\t\"frameBorder\",\r\n\t\t\"contentEditable\"\r\n\t], function() {\r\n\t\tjQuery.propFix[ this.toLowerCase() ] = this;\r\n\t} );\r\n\r\n// IE6/7 call enctype encoding\r\n\tif ( !support.enctype ) {\r\n\t\tjQuery.propFix.enctype = \"encoding\";\r\n\t}\r\n\r\n\r\n\r\n\r\n\tvar rclass = /[\\t\\r\\n\\f]/g;\r\n\r\n\tfunction getClass( elem ) {\r\n\t\treturn jQuery.attr( elem, \"class\" ) || \"\";\r\n\t}\r\n\r\n\tjQuery.fn.extend( {\r\n\t\taddClass: function( value ) {\r\n\t\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\t\treturn this.each( function( j ) {\r\n\t\t\t\t\tjQuery( this ).addClass( value.call( this, j, getClass( this ) ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof value === \"string\" && value ) {\r\n\t\t\t\tclasses = value.match( rnotwhite ) || [];\r\n\r\n\t\t\t\twhile ( ( elem = this[ i++ ] ) ) {\r\n\t\t\t\t\tcurValue = getClass( elem );\r\n\t\t\t\t\tcur = elem.nodeType === 1 &&\r\n\t\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\r\n\r\n\t\t\t\t\tif ( cur ) {\r\n\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\r\n\t\t\t\t\t\t\tif ( cur.indexOf( \" \" + clazz + \" \" ) < 0 ) {\r\n\t\t\t\t\t\t\t\tcur += clazz + \" \";\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\t\tfinalValue = jQuery.trim( cur );\r\n\t\t\t\t\t\tif ( curValue !== finalValue ) {\r\n\t\t\t\t\t\t\tjQuery.attr( elem, \"class\", finalValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\tremoveClass: function( value ) {\r\n\t\t\tvar classes, elem, cur, curValue, clazz, j, finalValue,\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\t\treturn this.each( function( j ) {\r\n\t\t\t\t\tjQuery( this ).removeClass( value.call( this, j, getClass( this ) ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( !arguments.length ) {\r\n\t\t\t\treturn this.attr( \"class\", \"\" );\r\n\t\t\t}\r\n\r\n\t\t\tif ( typeof value === \"string\" && value ) {\r\n\t\t\t\tclasses = value.match( rnotwhite ) || [];\r\n\r\n\t\t\t\twhile ( ( elem = this[ i++ ] ) ) {\r\n\t\t\t\t\tcurValue = getClass( elem );\r\n\r\n\t\t\t\t\t// This expression is here for better compressibility (see addClass)\r\n\t\t\t\t\tcur = elem.nodeType === 1 &&\r\n\t\t\t\t\t\t( \" \" + curValue + \" \" ).replace( rclass, \" \" );\r\n\r\n\t\t\t\t\tif ( cur ) {\r\n\t\t\t\t\t\tj = 0;\r\n\t\t\t\t\t\twhile ( ( clazz = classes[ j++ ] ) ) {\r\n\r\n\t\t\t\t\t\t\t// Remove *all* instances\r\n\t\t\t\t\t\t\twhile ( cur.indexOf( \" \" + clazz + \" \" ) > -1 ) {\r\n\t\t\t\t\t\t\t\tcur = cur.replace( \" \" + clazz + \" \", \" \" );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Only assign if different to avoid unneeded rendering.\r\n\t\t\t\t\t\tfinalValue = jQuery.trim( cur );\r\n\t\t\t\t\t\tif ( curValue !== finalValue ) {\r\n\t\t\t\t\t\t\tjQuery.attr( elem, \"class\", finalValue );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\ttoggleClass: function( value, stateVal ) {\r\n\t\t\tvar type = typeof value;\r\n\r\n\t\t\tif ( typeof stateVal === \"boolean\" && type === \"string\" ) {\r\n\t\t\t\treturn stateVal ? this.addClass( value ) : this.removeClass( value );\r\n\t\t\t}\r\n\r\n\t\t\tif ( jQuery.isFunction( value ) ) {\r\n\t\t\t\treturn this.each( function( i ) {\r\n\t\t\t\t\tjQuery( this ).toggleClass(\r\n\t\t\t\t\t\tvalue.call( this, i, getClass( this ), stateVal ),\r\n\t\t\t\t\t\tstateVal\r\n\t\t\t\t\t);\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tvar className, i, self, classNames;\r\n\r\n\t\t\t\tif ( type === \"string\" ) {\r\n\r\n\t\t\t\t\t// Toggle individual class names\r\n\t\t\t\t\ti = 0;\r\n\t\t\t\t\tself = jQuery( this );\r\n\t\t\t\t\tclassNames = value.match( rnotwhite ) || [];\r\n\r\n\t\t\t\t\twhile ( ( className = classNames[ i++ ] ) ) {\r\n\r\n\t\t\t\t\t\t// Check each className given, space separated list\r\n\t\t\t\t\t\tif ( self.hasClass( className ) ) {\r\n\t\t\t\t\t\t\tself.removeClass( className );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tself.addClass( className );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Toggle whole class name\r\n\t\t\t\t} else if ( value === undefined || type === \"boolean\" ) {\r\n\t\t\t\t\tclassName = getClass( this );\r\n\t\t\t\t\tif ( className ) {\r\n\r\n\t\t\t\t\t\t// store className if set\r\n\t\t\t\t\t\tjQuery._data( this, \"__className__\", className );\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// If the element has a class name or if we're passed \"false\",\r\n\t\t\t\t\t// then remove the whole classname (if there was one, the above saved it).\r\n\t\t\t\t\t// Otherwise bring back whatever was previously saved (if anything),\r\n\t\t\t\t\t// falling back to the empty string if nothing was stored.\r\n\t\t\t\t\tjQuery.attr( this, \"class\",\r\n\t\t\t\t\t\tclassName || value === false ?\r\n\t\t\t\t\t\t\t\"\" :\r\n\t\t\t\t\t\tjQuery._data( this, \"__className__\" ) || \"\"\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\thasClass: function( selector ) {\r\n\t\t\tvar className, elem,\r\n\t\t\t\ti = 0;\r\n\r\n\t\t\tclassName = \" \" + selector + \" \";\r\n\t\t\twhile ( ( elem = this[ i++ ] ) ) {\r\n\t\t\t\tif ( elem.nodeType === 1 &&\r\n\t\t\t\t\t( \" \" + getClass( elem ) + \" \" ).replace( rclass, \" \" )\r\n\t\t\t\t\t\t.indexOf( className ) > -1\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\r\n\r\n// Return jQuery for attributes-only inclusion\r\n\r\n\r\n\tjQuery.each( ( \"blur focus focusin focusout load resize scroll unload click dblclick \" +\r\n\t\t\"mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave \" +\r\n\t\t\"change select submit keydown keypress keyup error contextmenu\" ).split( \" \" ),\r\n\t\tfunction( i, name ) {\r\n\r\n\t\t\t// Handle event binding\r\n\t\t\tjQuery.fn[ name ] = function( data, fn ) {\r\n\t\t\t\treturn arguments.length > 0 ?\r\n\t\t\t\t\tthis.on( name, null, data, fn ) :\r\n\t\t\t\t\tthis.trigger( name );\r\n\t\t\t};\r\n\t\t} );\r\n\r\n\tjQuery.fn.extend( {\r\n\t\thover: function( fnOver, fnOut ) {\r\n\t\t\treturn this.mouseenter( fnOver ).mouseleave( fnOut || fnOver );\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\tvar location = window.location;\r\n\r\n\tvar nonce = jQuery.now();\r\n\r\n\tvar rquery = ( /\\?/ );\r\n\r\n\r\n\r\n\tvar rvalidtokens = /(,)|(\\[|{)|(}|])|\"(?:[^\"\\\\\\r\\n]|\\\\[\"\\\\\\/bfnrt]|\\\\u[\\da-fA-F]{4})*\"\\s*:?|true|false|null|-?(?!0\\d)\\d+(?:\\.\\d+|)(?:[eE][+-]?\\d+|)/g;\r\n\r\n\tjQuery.parseJSON = function( data ) {\r\n\r\n\t\t// Attempt to parse using the native JSON parser first\r\n\t\tif ( window.JSON && window.JSON.parse ) {\r\n\r\n\t\t\t// Support: Android 2.3\r\n\t\t\t// Workaround failure to string-cast null input\r\n\t\t\treturn window.JSON.parse( data + \"\" );\r\n\t\t}\r\n\r\n\t\tvar requireNonComma,\r\n\t\t\tdepth = null,\r\n\t\t\tstr = jQuery.trim( data + \"\" );\r\n\r\n\t\t// Guard against invalid (and possibly dangerous) input by ensuring that nothing remains\r\n\t\t// after removing valid tokens\r\n\t\treturn str && !jQuery.trim( str.replace( rvalidtokens, function( token, comma, open, close ) {\r\n\r\n\t\t\t// Force termination if we see a misplaced comma\r\n\t\t\tif ( requireNonComma && comma ) {\r\n\t\t\t\tdepth = 0;\r\n\t\t\t}\r\n\r\n\t\t\t// Perform no more replacements after returning to outermost depth\r\n\t\t\tif ( depth === 0 ) {\r\n\t\t\t\treturn token;\r\n\t\t\t}\r\n\r\n\t\t\t// Commas must not follow \"[\", \"{\", or \",\"\r\n\t\t\trequireNonComma = open || comma;\r\n\r\n\t\t\t// Determine new depth\r\n\t\t\t// array/object open (\"[\" or \"{\"): depth += true - false (increment)\r\n\t\t\t// array/object close (\"]\" or \"}\"): depth += false - true (decrement)\r\n\t\t\t// other cases (\",\" or primitive): depth += true - true (numeric cast)\r\n\t\t\tdepth += !close - !open;\r\n\r\n\t\t\t// Remove this token\r\n\t\t\treturn \"\";\r\n\t\t} ) ) ?\r\n\t\t\t( Function( \"return \" + str ) )() :\r\n\t\t\tjQuery.error( \"Invalid JSON: \" + data );\r\n\t};\r\n\r\n\r\n// Cross-browser xml parsing\r\n\tjQuery.parseXML = function( data ) {\r\n\t\tvar xml, tmp;\r\n\t\tif ( !data || typeof data !== \"string\" ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tif ( window.DOMParser ) { // Standard\r\n\t\t\t\ttmp = new window.DOMParser();\r\n\t\t\t\txml = tmp.parseFromString( data, \"text/xml\" );\r\n\t\t\t} else { // IE\r\n\t\t\t\txml = new window.ActiveXObject( \"Microsoft.XMLDOM\" );\r\n\t\t\t\txml.async = \"false\";\r\n\t\t\t\txml.loadXML( data );\r\n\t\t\t}\r\n\t\t} catch ( e ) {\r\n\t\t\txml = undefined;\r\n\t\t}\r\n\t\tif ( !xml || !xml.documentElement || xml.getElementsByTagName( \"parsererror\" ).length ) {\r\n\t\t\tjQuery.error( \"Invalid XML: \" + data );\r\n\t\t}\r\n\t\treturn xml;\r\n\t};\r\n\r\n\r\n\tvar\r\n\t\trhash = /#.*$/,\r\n\t\trts = /([?&])_=[^&]*/,\r\n\r\n\t\t// IE leaves an \\r character at EOL\r\n\t\trheaders = /^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,\r\n\r\n\t\t// #7653, #8125, #8152: local protocol detection\r\n\t\trlocalProtocol = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,\r\n\t\trnoContent = /^(?:GET|HEAD)$/,\r\n\t\trprotocol = /^\\/\\//,\r\n\t\trurl = /^([\\w.+-]+:)(?:\\/\\/(?:[^\\/?#]*@|)([^\\/?#:]*)(?::(\\d+)|)|)/,\r\n\r\n\t\t/* Prefilters\r\n\t\t * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)\r\n\t\t * 2) These are called:\r\n\t\t *    - BEFORE asking for a transport\r\n\t\t *    - AFTER param serialization (s.data is a string if s.processData is true)\r\n\t\t * 3) key is the dataType\r\n\t\t * 4) the catchall symbol \"*\" can be used\r\n\t\t * 5) execution will start with transport dataType and THEN continue down to \"*\" if needed\r\n\t\t */\r\n\t\tprefilters = {},\r\n\r\n\t\t/* Transports bindings\r\n\t\t * 1) key is the dataType\r\n\t\t * 2) the catchall symbol \"*\" can be used\r\n\t\t * 3) selection will start with transport dataType and THEN go to \"*\" if needed\r\n\t\t */\r\n\t\ttransports = {},\r\n\r\n\t\t// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression\r\n\t\tallTypes = \"*/\".concat( \"*\" ),\r\n\r\n\t\t// Document location\r\n\t\tajaxLocation = location.href,\r\n\r\n\t\t// Segment location into parts\r\n\t\tajaxLocParts = rurl.exec( ajaxLocation.toLowerCase() ) || [];\r\n\r\n// Base \"constructor\" for jQuery.ajaxPrefilter and jQuery.ajaxTransport\r\n\tfunction addToPrefiltersOrTransports( structure ) {\r\n\r\n\t\t// dataTypeExpression is optional and defaults to \"*\"\r\n\t\treturn function( dataTypeExpression, func ) {\r\n\r\n\t\t\tif ( typeof dataTypeExpression !== \"string\" ) {\r\n\t\t\t\tfunc = dataTypeExpression;\r\n\t\t\t\tdataTypeExpression = \"*\";\r\n\t\t\t}\r\n\r\n\t\t\tvar dataType,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tdataTypes = dataTypeExpression.toLowerCase().match( rnotwhite ) || [];\r\n\r\n\t\t\tif ( jQuery.isFunction( func ) ) {\r\n\r\n\t\t\t\t// For each dataType in the dataTypeExpression\r\n\t\t\t\twhile ( ( dataType = dataTypes[ i++ ] ) ) {\r\n\r\n\t\t\t\t\t// Prepend if requested\r\n\t\t\t\t\tif ( dataType.charAt( 0 ) === \"+\" ) {\r\n\t\t\t\t\t\tdataType = dataType.slice( 1 ) || \"*\";\r\n\t\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).unshift( func );\r\n\r\n\t\t\t\t\t\t// Otherwise append\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t( structure[ dataType ] = structure[ dataType ] || [] ).push( func );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n\r\n// Base inspection function for prefilters and transports\r\n\tfunction inspectPrefiltersOrTransports( structure, options, originalOptions, jqXHR ) {\r\n\r\n\t\tvar inspected = {},\r\n\t\t\tseekingTransport = ( structure === transports );\r\n\r\n\t\tfunction inspect( dataType ) {\r\n\t\t\tvar selected;\r\n\t\t\tinspected[ dataType ] = true;\r\n\t\t\tjQuery.each( structure[ dataType ] || [], function( _, prefilterOrFactory ) {\r\n\t\t\t\tvar dataTypeOrTransport = prefilterOrFactory( options, originalOptions, jqXHR );\r\n\t\t\t\tif ( typeof dataTypeOrTransport === \"string\" &&\r\n\t\t\t\t\t!seekingTransport && !inspected[ dataTypeOrTransport ] ) {\r\n\r\n\t\t\t\t\toptions.dataTypes.unshift( dataTypeOrTransport );\r\n\t\t\t\t\tinspect( dataTypeOrTransport );\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if ( seekingTransport ) {\r\n\t\t\t\t\treturn !( selected = dataTypeOrTransport );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t\treturn selected;\r\n\t\t}\r\n\r\n\t\treturn inspect( options.dataTypes[ 0 ] ) || !inspected[ \"*\" ] && inspect( \"*\" );\r\n\t}\r\n\r\n// A special extend for ajax options\r\n// that takes \"flat\" options (not to be deep extended)\r\n// Fixes #9887\r\n\tfunction ajaxExtend( target, src ) {\r\n\t\tvar deep, key,\r\n\t\t\tflatOptions = jQuery.ajaxSettings.flatOptions || {};\r\n\r\n\t\tfor ( key in src ) {\r\n\t\t\tif ( src[ key ] !== undefined ) {\r\n\t\t\t\t( flatOptions[ key ] ? target : ( deep || ( deep = {} ) ) )[ key ] = src[ key ];\r\n\t\t\t}\r\n\t\t}\r\n\t\tif ( deep ) {\r\n\t\t\tjQuery.extend( true, target, deep );\r\n\t\t}\r\n\r\n\t\treturn target;\r\n\t}\r\n\r\n\t/* Handles responses to an ajax request:\r\n\t * - finds the right dataType (mediates between content-type and expected dataType)\r\n\t * - returns the corresponding response\r\n\t */\r\n\tfunction ajaxHandleResponses( s, jqXHR, responses ) {\r\n\t\tvar firstDataType, ct, finalDataType, type,\r\n\t\t\tcontents = s.contents,\r\n\t\t\tdataTypes = s.dataTypes;\r\n\r\n\t\t// Remove auto dataType and get content-type in the process\r\n\t\twhile ( dataTypes[ 0 ] === \"*\" ) {\r\n\t\t\tdataTypes.shift();\r\n\t\t\tif ( ct === undefined ) {\r\n\t\t\t\tct = s.mimeType || jqXHR.getResponseHeader( \"Content-Type\" );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check if we're dealing with a known content-type\r\n\t\tif ( ct ) {\r\n\t\t\tfor ( type in contents ) {\r\n\t\t\t\tif ( contents[ type ] && contents[ type ].test( ct ) ) {\r\n\t\t\t\t\tdataTypes.unshift( type );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Check to see if we have a response for the expected dataType\r\n\t\tif ( dataTypes[ 0 ] in responses ) {\r\n\t\t\tfinalDataType = dataTypes[ 0 ];\r\n\t\t} else {\r\n\r\n\t\t\t// Try convertible dataTypes\r\n\t\t\tfor ( type in responses ) {\r\n\t\t\t\tif ( !dataTypes[ 0 ] || s.converters[ type + \" \" + dataTypes[ 0 ] ] ) {\r\n\t\t\t\t\tfinalDataType = type;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif ( !firstDataType ) {\r\n\t\t\t\t\tfirstDataType = type;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Or just use first one\r\n\t\t\tfinalDataType = finalDataType || firstDataType;\r\n\t\t}\r\n\r\n\t\t// If we found a dataType\r\n\t\t// We add the dataType to the list if needed\r\n\t\t// and return the corresponding response\r\n\t\tif ( finalDataType ) {\r\n\t\t\tif ( finalDataType !== dataTypes[ 0 ] ) {\r\n\t\t\t\tdataTypes.unshift( finalDataType );\r\n\t\t\t}\r\n\t\t\treturn responses[ finalDataType ];\r\n\t\t}\r\n\t}\r\n\r\n\t/* Chain conversions given the request and the original response\r\n\t * Also sets the responseXXX fields on the jqXHR instance\r\n\t */\r\n\tfunction ajaxConvert( s, response, jqXHR, isSuccess ) {\r\n\t\tvar conv2, current, conv, tmp, prev,\r\n\t\t\tconverters = {},\r\n\r\n\t\t\t// Work with a copy of dataTypes in case we need to modify it for conversion\r\n\t\t\tdataTypes = s.dataTypes.slice();\r\n\r\n\t\t// Create converters map with lowercased keys\r\n\t\tif ( dataTypes[ 1 ] ) {\r\n\t\t\tfor ( conv in s.converters ) {\r\n\t\t\t\tconverters[ conv.toLowerCase() ] = s.converters[ conv ];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tcurrent = dataTypes.shift();\r\n\r\n\t\t// Convert to each sequential dataType\r\n\t\twhile ( current ) {\r\n\r\n\t\t\tif ( s.responseFields[ current ] ) {\r\n\t\t\t\tjqXHR[ s.responseFields[ current ] ] = response;\r\n\t\t\t}\r\n\r\n\t\t\t// Apply the dataFilter if provided\r\n\t\t\tif ( !prev && isSuccess && s.dataFilter ) {\r\n\t\t\t\tresponse = s.dataFilter( response, s.dataType );\r\n\t\t\t}\r\n\r\n\t\t\tprev = current;\r\n\t\t\tcurrent = dataTypes.shift();\r\n\r\n\t\t\tif ( current ) {\r\n\r\n\t\t\t\t// There's only work to do if current dataType is non-auto\r\n\t\t\t\tif ( current === \"*\" ) {\r\n\r\n\t\t\t\t\tcurrent = prev;\r\n\r\n\t\t\t\t\t// Convert response if prev dataType is non-auto and differs from current\r\n\t\t\t\t} else if ( prev !== \"*\" && prev !== current ) {\r\n\r\n\t\t\t\t\t// Seek a direct converter\r\n\t\t\t\t\tconv = converters[ prev + \" \" + current ] || converters[ \"* \" + current ];\r\n\r\n\t\t\t\t\t// If none found, seek a pair\r\n\t\t\t\t\tif ( !conv ) {\r\n\t\t\t\t\t\tfor ( conv2 in converters ) {\r\n\r\n\t\t\t\t\t\t\t// If conv2 outputs current\r\n\t\t\t\t\t\t\ttmp = conv2.split( \" \" );\r\n\t\t\t\t\t\t\tif ( tmp[ 1 ] === current ) {\r\n\r\n\t\t\t\t\t\t\t\t// If prev can be converted to accepted input\r\n\t\t\t\t\t\t\t\tconv = converters[ prev + \" \" + tmp[ 0 ] ] ||\r\n\t\t\t\t\t\t\t\t\tconverters[ \"* \" + tmp[ 0 ] ];\r\n\t\t\t\t\t\t\t\tif ( conv ) {\r\n\r\n\t\t\t\t\t\t\t\t\t// Condense equivalence converters\r\n\t\t\t\t\t\t\t\t\tif ( conv === true ) {\r\n\t\t\t\t\t\t\t\t\t\tconv = converters[ conv2 ];\r\n\r\n\t\t\t\t\t\t\t\t\t\t// Otherwise, insert the intermediate dataType\r\n\t\t\t\t\t\t\t\t\t} else if ( converters[ conv2 ] !== true ) {\r\n\t\t\t\t\t\t\t\t\t\tcurrent = tmp[ 0 ];\r\n\t\t\t\t\t\t\t\t\t\tdataTypes.unshift( tmp[ 1 ] );\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// Apply converter (if not an equivalence)\r\n\t\t\t\t\tif ( conv !== true ) {\r\n\r\n\t\t\t\t\t\t// Unless errors are allowed to bubble, catch and return them\r\n\t\t\t\t\t\tif ( conv && s[ \"throws\" ] ) { // jscs:ignore requireDotNotation\r\n\t\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tresponse = conv( response );\r\n\t\t\t\t\t\t\t} catch ( e ) {\r\n\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\tstate: \"parsererror\",\r\n\t\t\t\t\t\t\t\t\terror: conv ? e : \"No conversion from \" + prev + \" to \" + current\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn { state: \"success\", data: response };\r\n\t}\r\n\r\n\tjQuery.extend( {\r\n\r\n\t\t// Counter for holding the number of active queries\r\n\t\tactive: 0,\r\n\r\n\t\t// Last-Modified header cache for next request\r\n\t\tlastModified: {},\r\n\t\tetag: {},\r\n\r\n\t\tajaxSettings: {\r\n\t\t\turl: ajaxLocation,\r\n\t\t\ttype: \"GET\",\r\n\t\t\tisLocal: rlocalProtocol.test( ajaxLocParts[ 1 ] ),\r\n\t\t\tglobal: true,\r\n\t\t\tprocessData: true,\r\n\t\t\tasync: true,\r\n\t\t\tcontentType: \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\t\t\t/*\r\n\t\t\t timeout: 0,\r\n\t\t\t data: null,\r\n\t\t\t dataType: null,\r\n\t\t\t username: null,\r\n\t\t\t password: null,\r\n\t\t\t cache: null,\r\n\t\t\t throws: false,\r\n\t\t\t traditional: false,\r\n\t\t\t headers: {},\r\n\t\t\t */\r\n\r\n\t\t\taccepts: {\r\n\t\t\t\t\"*\": allTypes,\r\n\t\t\t\ttext: \"text/plain\",\r\n\t\t\t\thtml: \"text/html\",\r\n\t\t\t\txml: \"application/xml, text/xml\",\r\n\t\t\t\tjson: \"application/json, text/javascript\"\r\n\t\t\t},\r\n\r\n\t\t\tcontents: {\r\n\t\t\t\txml: /\\bxml\\b/,\r\n\t\t\t\thtml: /\\bhtml/,\r\n\t\t\t\tjson: /\\bjson\\b/\r\n\t\t\t},\r\n\r\n\t\t\tresponseFields: {\r\n\t\t\t\txml: \"responseXML\",\r\n\t\t\t\ttext: \"responseText\",\r\n\t\t\t\tjson: \"responseJSON\"\r\n\t\t\t},\r\n\r\n\t\t\t// Data converters\r\n\t\t\t// Keys separate source (or catchall \"*\") and destination types with a single space\r\n\t\t\tconverters: {\r\n\r\n\t\t\t\t// Convert anything to text\r\n\t\t\t\t\"* text\": String,\r\n\r\n\t\t\t\t// Text to html (true = no transformation)\r\n\t\t\t\t\"text html\": true,\r\n\r\n\t\t\t\t// Evaluate text as a json expression\r\n\t\t\t\t\"text json\": jQuery.parseJSON,\r\n\r\n\t\t\t\t// Parse text as xml\r\n\t\t\t\t\"text xml\": jQuery.parseXML\r\n\t\t\t},\r\n\r\n\t\t\t// For options that shouldn't be deep extended:\r\n\t\t\t// you can add your own custom options here if\r\n\t\t\t// and when you create one that shouldn't be\r\n\t\t\t// deep extended (see ajaxExtend)\r\n\t\t\tflatOptions: {\r\n\t\t\t\turl: true,\r\n\t\t\t\tcontext: true\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t// Creates a full fledged settings object into target\r\n\t\t// with both ajaxSettings and settings fields.\r\n\t\t// If target is omitted, writes into ajaxSettings.\r\n\t\tajaxSetup: function( target, settings ) {\r\n\t\t\treturn settings ?\r\n\r\n\t\t\t\t// Building a settings object\r\n\t\t\t\tajaxExtend( ajaxExtend( target, jQuery.ajaxSettings ), settings ) :\r\n\r\n\t\t\t\t// Extending ajaxSettings\r\n\t\t\t\tajaxExtend( jQuery.ajaxSettings, target );\r\n\t\t},\r\n\r\n\t\tajaxPrefilter: addToPrefiltersOrTransports( prefilters ),\r\n\t\tajaxTransport: addToPrefiltersOrTransports( transports ),\r\n\r\n\t\t// Main method\r\n\t\tajax: function( url, options ) {\r\n\r\n\t\t\t// If url is an object, simulate pre-1.5 signature\r\n\t\t\tif ( typeof url === \"object\" ) {\r\n\t\t\t\toptions = url;\r\n\t\t\t\turl = undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// Force options to be an object\r\n\t\t\toptions = options || {};\r\n\r\n\t\t\tvar\r\n\r\n\t\t\t\t// Cross-domain detection vars\r\n\t\t\t\tparts,\r\n\r\n\t\t\t\t// Loop variable\r\n\t\t\t\ti,\r\n\r\n\t\t\t\t// URL without anti-cache param\r\n\t\t\t\tcacheURL,\r\n\r\n\t\t\t\t// Response headers as string\r\n\t\t\t\tresponseHeadersString,\r\n\r\n\t\t\t\t// timeout handle\r\n\t\t\t\ttimeoutTimer,\r\n\r\n\t\t\t\t// To know if global events are to be dispatched\r\n\t\t\t\tfireGlobals,\r\n\r\n\t\t\t\ttransport,\r\n\r\n\t\t\t\t// Response headers\r\n\t\t\t\tresponseHeaders,\r\n\r\n\t\t\t\t// Create the final options object\r\n\t\t\t\ts = jQuery.ajaxSetup( {}, options ),\r\n\r\n\t\t\t\t// Callbacks context\r\n\t\t\t\tcallbackContext = s.context || s,\r\n\r\n\t\t\t\t// Context for global events is callbackContext if it is a DOM node or jQuery collection\r\n\t\t\t\tglobalEventContext = s.context &&\r\n\t\t\t\t( callbackContext.nodeType || callbackContext.jquery ) ?\r\n\t\t\t\t\tjQuery( callbackContext ) :\r\n\t\t\t\t\tjQuery.event,\r\n\r\n\t\t\t\t// Deferreds\r\n\t\t\t\tdeferred = jQuery.Deferred(),\r\n\t\t\t\tcompleteDeferred = jQuery.Callbacks( \"once memory\" ),\r\n\r\n\t\t\t\t// Status-dependent callbacks\r\n\t\t\t\tstatusCode = s.statusCode || {},\r\n\r\n\t\t\t\t// Headers (they are sent all at once)\r\n\t\t\t\trequestHeaders = {},\r\n\t\t\t\trequestHeadersNames = {},\r\n\r\n\t\t\t\t// The jqXHR state\r\n\t\t\t\tstate = 0,\r\n\r\n\t\t\t\t// Default abort message\r\n\t\t\t\tstrAbort = \"canceled\",\r\n\r\n\t\t\t\t// Fake xhr\r\n\t\t\t\tjqXHR = {\r\n\t\t\t\t\treadyState: 0,\r\n\r\n\t\t\t\t\t// Builds headers hashtable if needed\r\n\t\t\t\t\tgetResponseHeader: function( key ) {\r\n\t\t\t\t\t\tvar match;\r\n\t\t\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\t\t\tif ( !responseHeaders ) {\r\n\t\t\t\t\t\t\t\tresponseHeaders = {};\r\n\t\t\t\t\t\t\t\twhile ( ( match = rheaders.exec( responseHeadersString ) ) ) {\r\n\t\t\t\t\t\t\t\t\tresponseHeaders[ match[ 1 ].toLowerCase() ] = match[ 2 ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tmatch = responseHeaders[ key.toLowerCase() ];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn match == null ? null : match;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Raw string\r\n\t\t\t\t\tgetAllResponseHeaders: function() {\r\n\t\t\t\t\t\treturn state === 2 ? responseHeadersString : null;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Caches the header\r\n\t\t\t\t\tsetRequestHeader: function( name, value ) {\r\n\t\t\t\t\t\tvar lname = name.toLowerCase();\r\n\t\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\t\tname = requestHeadersNames[ lname ] = requestHeadersNames[ lname ] || name;\r\n\t\t\t\t\t\t\trequestHeaders[ name ] = value;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Overrides response content-type header\r\n\t\t\t\t\toverrideMimeType: function( type ) {\r\n\t\t\t\t\t\tif ( !state ) {\r\n\t\t\t\t\t\t\ts.mimeType = type;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Status-dependent callbacks\r\n\t\t\t\t\tstatusCode: function( map ) {\r\n\t\t\t\t\t\tvar code;\r\n\t\t\t\t\t\tif ( map ) {\r\n\t\t\t\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\t\t\t\tfor ( code in map ) {\r\n\r\n\t\t\t\t\t\t\t\t\t// Lazy-add the new callback in a way that preserves old ones\r\n\t\t\t\t\t\t\t\t\tstatusCode[ code ] = [ statusCode[ code ], map[ code ] ];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t\t// Execute the appropriate callbacks\r\n\t\t\t\t\t\t\t\tjqXHR.always( map[ jqXHR.status ] );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\t// Cancel the request\r\n\t\t\t\t\tabort: function( statusText ) {\r\n\t\t\t\t\t\tvar finalText = statusText || strAbort;\r\n\t\t\t\t\t\tif ( transport ) {\r\n\t\t\t\t\t\t\ttransport.abort( finalText );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tdone( 0, finalText );\r\n\t\t\t\t\t\treturn this;\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t// Attach deferreds\r\n\t\t\tdeferred.promise( jqXHR ).complete = completeDeferred.add;\r\n\t\t\tjqXHR.success = jqXHR.done;\r\n\t\t\tjqXHR.error = jqXHR.fail;\r\n\r\n\t\t\t// Remove hash character (#7531: and string promotion)\r\n\t\t\t// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)\r\n\t\t\t// Handle falsy url in the settings object (#10093: consistency with old signature)\r\n\t\t\t// We also use the url parameter if available\r\n\t\t\ts.url = ( ( url || s.url || ajaxLocation ) + \"\" )\r\n\t\t\t\t.replace( rhash, \"\" )\r\n\t\t\t\t.replace( rprotocol, ajaxLocParts[ 1 ] + \"//\" );\r\n\r\n\t\t\t// Alias method option to type as per ticket #12004\r\n\t\t\ts.type = options.method || options.type || s.method || s.type;\r\n\r\n\t\t\t// Extract dataTypes list\r\n\t\t\ts.dataTypes = jQuery.trim( s.dataType || \"*\" ).toLowerCase().match( rnotwhite ) || [ \"\" ];\r\n\r\n\t\t\t// A cross-domain request is in order when we have a protocol:host:port mismatch\r\n\t\t\tif ( s.crossDomain == null ) {\r\n\t\t\t\tparts = rurl.exec( s.url.toLowerCase() );\r\n\t\t\t\ts.crossDomain = !!( parts &&\r\n\t\t\t\t\t( parts[ 1 ] !== ajaxLocParts[ 1 ] || parts[ 2 ] !== ajaxLocParts[ 2 ] ||\r\n\t\t\t\t\t( parts[ 3 ] || ( parts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) !==\r\n\t\t\t\t\t( ajaxLocParts[ 3 ] || ( ajaxLocParts[ 1 ] === \"http:\" ? \"80\" : \"443\" ) ) )\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t// Convert data if not already a string\r\n\t\t\tif ( s.data && s.processData && typeof s.data !== \"string\" ) {\r\n\t\t\t\ts.data = jQuery.param( s.data, s.traditional );\r\n\t\t\t}\r\n\r\n\t\t\t// Apply prefilters\r\n\t\t\tinspectPrefiltersOrTransports( prefilters, s, options, jqXHR );\r\n\r\n\t\t\t// If request was aborted inside a prefilter, stop there\r\n\t\t\tif ( state === 2 ) {\r\n\t\t\t\treturn jqXHR;\r\n\t\t\t}\r\n\r\n\t\t\t// We can fire global events as of now if asked to\r\n\t\t\t// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)\r\n\t\t\tfireGlobals = jQuery.event && s.global;\r\n\r\n\t\t\t// Watch for a new set of requests\r\n\t\t\tif ( fireGlobals && jQuery.active++ === 0 ) {\r\n\t\t\t\tjQuery.event.trigger( \"ajaxStart\" );\r\n\t\t\t}\r\n\r\n\t\t\t// Uppercase the type\r\n\t\t\ts.type = s.type.toUpperCase();\r\n\r\n\t\t\t// Determine if request has content\r\n\t\t\ts.hasContent = !rnoContent.test( s.type );\r\n\r\n\t\t\t// Save the URL in case we're toying with the If-Modified-Since\r\n\t\t\t// and/or If-None-Match header later on\r\n\t\t\tcacheURL = s.url;\r\n\r\n\t\t\t// More options handling for requests with no content\r\n\t\t\tif ( !s.hasContent ) {\r\n\r\n\t\t\t\t// If data is available, append data to url\r\n\t\t\t\tif ( s.data ) {\r\n\t\t\t\t\tcacheURL = ( s.url += ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + s.data );\r\n\r\n\t\t\t\t\t// #9682: remove data so that it's not used in an eventual retry\r\n\t\t\t\t\tdelete s.data;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add anti-cache in url if needed\r\n\t\t\t\tif ( s.cache === false ) {\r\n\t\t\t\t\ts.url = rts.test( cacheURL ) ?\r\n\r\n\t\t\t\t\t\t// If there is already a '_' parameter, set its value\r\n\t\t\t\t\t\tcacheURL.replace( rts, \"$1_=\" + nonce++ ) :\r\n\r\n\t\t\t\t\t\t// Otherwise add one to the end\r\n\t\t\t\t\tcacheURL + ( rquery.test( cacheURL ) ? \"&\" : \"?\" ) + \"_=\" + nonce++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\t\tif ( s.ifModified ) {\r\n\t\t\t\tif ( jQuery.lastModified[ cacheURL ] ) {\r\n\t\t\t\t\tjqXHR.setRequestHeader( \"If-Modified-Since\", jQuery.lastModified[ cacheURL ] );\r\n\t\t\t\t}\r\n\t\t\t\tif ( jQuery.etag[ cacheURL ] ) {\r\n\t\t\t\t\tjqXHR.setRequestHeader( \"If-None-Match\", jQuery.etag[ cacheURL ] );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Set the correct header, if data is being sent\r\n\t\t\tif ( s.data && s.hasContent && s.contentType !== false || options.contentType ) {\r\n\t\t\t\tjqXHR.setRequestHeader( \"Content-Type\", s.contentType );\r\n\t\t\t}\r\n\r\n\t\t\t// Set the Accepts header for the server, depending on the dataType\r\n\t\t\tjqXHR.setRequestHeader(\r\n\t\t\t\t\"Accept\",\r\n\t\t\t\ts.dataTypes[ 0 ] && s.accepts[ s.dataTypes[ 0 ] ] ?\r\n\t\t\t\ts.accepts[ s.dataTypes[ 0 ] ] +\r\n\t\t\t\t( s.dataTypes[ 0 ] !== \"*\" ? \", \" + allTypes + \"; q=0.01\" : \"\" ) :\r\n\t\t\t\t\ts.accepts[ \"*\" ]\r\n\t\t\t);\r\n\r\n\t\t\t// Check for headers option\r\n\t\t\tfor ( i in s.headers ) {\r\n\t\t\t\tjqXHR.setRequestHeader( i, s.headers[ i ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Allow custom headers/mimetypes and early abort\r\n\t\t\tif ( s.beforeSend &&\r\n\t\t\t\t( s.beforeSend.call( callbackContext, jqXHR, s ) === false || state === 2 ) ) {\r\n\r\n\t\t\t\t// Abort if not done already and return\r\n\t\t\t\treturn jqXHR.abort();\r\n\t\t\t}\r\n\r\n\t\t\t// aborting is no longer a cancellation\r\n\t\t\tstrAbort = \"abort\";\r\n\r\n\t\t\t// Install callbacks on deferreds\r\n\t\t\tfor ( i in { success: 1, error: 1, complete: 1 } ) {\r\n\t\t\t\tjqXHR[ i ]( s[ i ] );\r\n\t\t\t}\r\n\r\n\t\t\t// Get transport\r\n\t\t\ttransport = inspectPrefiltersOrTransports( transports, s, options, jqXHR );\r\n\r\n\t\t\t// If no transport, we auto-abort\r\n\t\t\tif ( !transport ) {\r\n\t\t\t\tdone( -1, \"No Transport\" );\r\n\t\t\t} else {\r\n\t\t\t\tjqXHR.readyState = 1;\r\n\r\n\t\t\t\t// Send global event\r\n\t\t\t\tif ( fireGlobals ) {\r\n\t\t\t\t\tglobalEventContext.trigger( \"ajaxSend\", [ jqXHR, s ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// If request was aborted inside ajaxSend, stop there\r\n\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\treturn jqXHR;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Timeout\r\n\t\t\t\tif ( s.async && s.timeout > 0 ) {\r\n\t\t\t\t\ttimeoutTimer = window.setTimeout( function() {\r\n\t\t\t\t\t\tjqXHR.abort( \"timeout\" );\r\n\t\t\t\t\t}, s.timeout );\r\n\t\t\t\t}\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstate = 1;\r\n\t\t\t\t\ttransport.send( requestHeaders, done );\r\n\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t// Propagate exception as error if not done\r\n\t\t\t\t\tif ( state < 2 ) {\r\n\t\t\t\t\t\tdone( -1, e );\r\n\r\n\t\t\t\t\t\t// Simply rethrow otherwise\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow e;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// Callback for when everything is done\r\n\t\t\tfunction done( status, nativeStatusText, responses, headers ) {\r\n\t\t\t\tvar isSuccess, success, error, response, modified,\r\n\t\t\t\t\tstatusText = nativeStatusText;\r\n\r\n\t\t\t\t// Called once\r\n\t\t\t\tif ( state === 2 ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// State is \"done\" now\r\n\t\t\t\tstate = 2;\r\n\r\n\t\t\t\t// Clear timeout if it exists\r\n\t\t\t\tif ( timeoutTimer ) {\r\n\t\t\t\t\twindow.clearTimeout( timeoutTimer );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Dereference transport for early garbage collection\r\n\t\t\t\t// (no matter how long the jqXHR object will be used)\r\n\t\t\t\ttransport = undefined;\r\n\r\n\t\t\t\t// Cache response headers\r\n\t\t\t\tresponseHeadersString = headers || \"\";\r\n\r\n\t\t\t\t// Set readyState\r\n\t\t\t\tjqXHR.readyState = status > 0 ? 4 : 0;\r\n\r\n\t\t\t\t// Determine if successful\r\n\t\t\t\tisSuccess = status >= 200 && status < 300 || status === 304;\r\n\r\n\t\t\t\t// Get response data\r\n\t\t\t\tif ( responses ) {\r\n\t\t\t\t\tresponse = ajaxHandleResponses( s, jqXHR, responses );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Convert no matter what (that way responseXXX fields are always set)\r\n\t\t\t\tresponse = ajaxConvert( s, response, jqXHR, isSuccess );\r\n\r\n\t\t\t\t// If successful, handle type chaining\r\n\t\t\t\tif ( isSuccess ) {\r\n\r\n\t\t\t\t\t// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.\r\n\t\t\t\t\tif ( s.ifModified ) {\r\n\t\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"Last-Modified\" );\r\n\t\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\t\tjQuery.lastModified[ cacheURL ] = modified;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmodified = jqXHR.getResponseHeader( \"etag\" );\r\n\t\t\t\t\t\tif ( modified ) {\r\n\t\t\t\t\t\t\tjQuery.etag[ cacheURL ] = modified;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// if no content\r\n\t\t\t\t\tif ( status === 204 || s.type === \"HEAD\" ) {\r\n\t\t\t\t\t\tstatusText = \"nocontent\";\r\n\r\n\t\t\t\t\t\t// if not modified\r\n\t\t\t\t\t} else if ( status === 304 ) {\r\n\t\t\t\t\t\tstatusText = \"notmodified\";\r\n\r\n\t\t\t\t\t\t// If we have data, let's convert it\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tstatusText = response.state;\r\n\t\t\t\t\t\tsuccess = response.data;\r\n\t\t\t\t\t\terror = response.error;\r\n\t\t\t\t\t\tisSuccess = !error;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// We extract error from statusText\r\n\t\t\t\t\t// then normalize statusText and status for non-aborts\r\n\t\t\t\t\terror = statusText;\r\n\t\t\t\t\tif ( status || !statusText ) {\r\n\t\t\t\t\t\tstatusText = \"error\";\r\n\t\t\t\t\t\tif ( status < 0 ) {\r\n\t\t\t\t\t\t\tstatus = 0;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Set data for the fake xhr object\r\n\t\t\t\tjqXHR.status = status;\r\n\t\t\t\tjqXHR.statusText = ( nativeStatusText || statusText ) + \"\";\r\n\r\n\t\t\t\t// Success/Error\r\n\t\t\t\tif ( isSuccess ) {\r\n\t\t\t\t\tdeferred.resolveWith( callbackContext, [ success, statusText, jqXHR ] );\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdeferred.rejectWith( callbackContext, [ jqXHR, statusText, error ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Status-dependent callbacks\r\n\t\t\t\tjqXHR.statusCode( statusCode );\r\n\t\t\t\tstatusCode = undefined;\r\n\r\n\t\t\t\tif ( fireGlobals ) {\r\n\t\t\t\t\tglobalEventContext.trigger( isSuccess ? \"ajaxSuccess\" : \"ajaxError\",\r\n\t\t\t\t\t\t[ jqXHR, s, isSuccess ? success : error ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Complete\r\n\t\t\t\tcompleteDeferred.fireWith( callbackContext, [ jqXHR, statusText ] );\r\n\r\n\t\t\t\tif ( fireGlobals ) {\r\n\t\t\t\t\tglobalEventContext.trigger( \"ajaxComplete\", [ jqXHR, s ] );\r\n\r\n\t\t\t\t\t// Handle the global AJAX counter\r\n\t\t\t\t\tif ( !( --jQuery.active ) ) {\r\n\t\t\t\t\t\tjQuery.event.trigger( \"ajaxStop\" );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\treturn jqXHR;\r\n\t\t},\r\n\r\n\t\tgetJSON: function( url, data, callback ) {\r\n\t\t\treturn jQuery.get( url, data, callback, \"json\" );\r\n\t\t},\r\n\r\n\t\tgetScript: function( url, callback ) {\r\n\t\t\treturn jQuery.get( url, undefined, callback, \"script\" );\r\n\t\t}\r\n\t} );\r\n\r\n\tjQuery.each( [ \"get\", \"post\" ], function( i, method ) {\r\n\t\tjQuery[ method ] = function( url, data, callback, type ) {\r\n\r\n\t\t\t// shift arguments if data argument was omitted\r\n\t\t\tif ( jQuery.isFunction( data ) ) {\r\n\t\t\t\ttype = type || callback;\r\n\t\t\t\tcallback = data;\r\n\t\t\t\tdata = undefined;\r\n\t\t\t}\r\n\r\n\t\t\t// The url can be an options object (which then must have .url)\r\n\t\t\treturn jQuery.ajax( jQuery.extend( {\r\n\t\t\t\turl: url,\r\n\t\t\t\ttype: method,\r\n\t\t\t\tdataType: type,\r\n\t\t\t\tdata: data,\r\n\t\t\t\tsuccess: callback\r\n\t\t\t}, jQuery.isPlainObject( url ) && url ) );\r\n\t\t};\r\n\t} );\r\n\r\n\r\n\tjQuery._evalUrl = function( url ) {\r\n\t\treturn jQuery.ajax( {\r\n\t\t\turl: url,\r\n\r\n\t\t\t// Make this explicit, since user can override this through ajaxSetup (#11264)\r\n\t\t\ttype: \"GET\",\r\n\t\t\tdataType: \"script\",\r\n\t\t\tcache: true,\r\n\t\t\tasync: false,\r\n\t\t\tglobal: false,\r\n\t\t\t\"throws\": true\r\n\t\t} );\r\n\t};\r\n\r\n\r\n\tjQuery.fn.extend( {\r\n\t\twrapAll: function( html ) {\r\n\t\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\t\treturn this.each( function( i ) {\r\n\t\t\t\t\tjQuery( this ).wrapAll( html.call( this, i ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tif ( this[ 0 ] ) {\r\n\r\n\t\t\t\t// The elements to wrap the target around\r\n\t\t\t\tvar wrap = jQuery( html, this[ 0 ].ownerDocument ).eq( 0 ).clone( true );\r\n\r\n\t\t\t\tif ( this[ 0 ].parentNode ) {\r\n\t\t\t\t\twrap.insertBefore( this[ 0 ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\twrap.map( function() {\r\n\t\t\t\t\tvar elem = this;\r\n\r\n\t\t\t\t\twhile ( elem.firstChild && elem.firstChild.nodeType === 1 ) {\r\n\t\t\t\t\t\telem = elem.firstChild;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn elem;\r\n\t\t\t\t} ).append( this );\r\n\t\t\t}\r\n\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\twrapInner: function( html ) {\r\n\t\t\tif ( jQuery.isFunction( html ) ) {\r\n\t\t\t\treturn this.each( function( i ) {\r\n\t\t\t\t\tjQuery( this ).wrapInner( html.call( this, i ) );\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\treturn this.each( function() {\r\n\t\t\t\tvar self = jQuery( this ),\r\n\t\t\t\t\tcontents = self.contents();\r\n\r\n\t\t\t\tif ( contents.length ) {\r\n\t\t\t\t\tcontents.wrapAll( html );\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.append( html );\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\twrap: function( html ) {\r\n\t\t\tvar isFunction = jQuery.isFunction( html );\r\n\r\n\t\t\treturn this.each( function( i ) {\r\n\t\t\t\tjQuery( this ).wrapAll( isFunction ? html.call( this, i ) : html );\r\n\t\t\t} );\r\n\t\t},\r\n\r\n\t\tunwrap: function() {\r\n\t\t\treturn this.parent().each( function() {\r\n\t\t\t\tif ( !jQuery.nodeName( this, \"body\" ) ) {\r\n\t\t\t\t\tjQuery( this ).replaceWith( this.childNodes );\r\n\t\t\t\t}\r\n\t\t\t} ).end();\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\tfunction getDisplay( elem ) {\r\n\t\treturn elem.style && elem.style.display || jQuery.css( elem, \"display\" );\r\n\t}\r\n\r\n\tfunction filterHidden( elem ) {\r\n\r\n\t\t// Disconnected elements are considered hidden\r\n\t\tif ( !jQuery.contains( elem.ownerDocument || document, elem ) ) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\twhile ( elem && elem.nodeType === 1 ) {\r\n\t\t\tif ( getDisplay( elem ) === \"none\" || elem.type === \"hidden\" ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\telem = elem.parentNode;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tjQuery.expr.filters.hidden = function( elem ) {\r\n\r\n\t\t// Support: Opera <= 12.12\r\n\t\t// Opera reports offsetWidths and offsetHeights less than zero on some elements\r\n\t\treturn support.reliableHiddenOffsets() ?\r\n\t\t\t( elem.offsetWidth <= 0 && elem.offsetHeight <= 0 &&\r\n\t\t\t!elem.getClientRects().length ) :\r\n\t\t\tfilterHidden( elem );\r\n\t};\r\n\r\n\tjQuery.expr.filters.visible = function( elem ) {\r\n\t\treturn !jQuery.expr.filters.hidden( elem );\r\n\t};\r\n\r\n\r\n\r\n\r\n\tvar r20 = /%20/g,\r\n\t\trbracket = /\\[\\]$/,\r\n\t\trCRLF = /\\r?\\n/g,\r\n\t\trsubmitterTypes = /^(?:submit|button|image|reset|file)$/i,\r\n\t\trsubmittable = /^(?:input|select|textarea|keygen)/i;\r\n\r\n\tfunction buildParams( prefix, obj, traditional, add ) {\r\n\t\tvar name;\r\n\r\n\t\tif ( jQuery.isArray( obj ) ) {\r\n\r\n\t\t\t// Serialize array item.\r\n\t\t\tjQuery.each( obj, function( i, v ) {\r\n\t\t\t\tif ( traditional || rbracket.test( prefix ) ) {\r\n\r\n\t\t\t\t\t// Treat each array item as a scalar.\r\n\t\t\t\t\tadd( prefix, v );\r\n\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\t// Item is non-scalar (array or object), encode its numeric index.\r\n\t\t\t\t\tbuildParams(\r\n\t\t\t\t\t\tprefix + \"[\" + ( typeof v === \"object\" && v != null ? i : \"\" ) + \"]\",\r\n\t\t\t\t\t\tv,\r\n\t\t\t\t\t\ttraditional,\r\n\t\t\t\t\t\tadd\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} );\r\n\r\n\t\t} else if ( !traditional && jQuery.type( obj ) === \"object\" ) {\r\n\r\n\t\t\t// Serialize object item.\r\n\t\t\tfor ( name in obj ) {\r\n\t\t\t\tbuildParams( prefix + \"[\" + name + \"]\", obj[ name ], traditional, add );\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// Serialize scalar item.\r\n\t\t\tadd( prefix, obj );\r\n\t\t}\r\n\t}\r\n\r\n// Serialize an array of form elements or a set of\r\n// key/values into a query string\r\n\tjQuery.param = function( a, traditional ) {\r\n\t\tvar prefix,\r\n\t\t\ts = [],\r\n\t\t\tadd = function( key, value ) {\r\n\r\n\t\t\t\t// If value is a function, invoke it and return its value\r\n\t\t\t\tvalue = jQuery.isFunction( value ) ? value() : ( value == null ? \"\" : value );\r\n\t\t\t\ts[ s.length ] = encodeURIComponent( key ) + \"=\" + encodeURIComponent( value );\r\n\t\t\t};\r\n\r\n\t\t// Set traditional to true for jQuery <= 1.3.2 behavior.\r\n\t\tif ( traditional === undefined ) {\r\n\t\t\ttraditional = jQuery.ajaxSettings && jQuery.ajaxSettings.traditional;\r\n\t\t}\r\n\r\n\t\t// If an array was passed in, assume that it is an array of form elements.\r\n\t\tif ( jQuery.isArray( a ) || ( a.jquery && !jQuery.isPlainObject( a ) ) ) {\r\n\r\n\t\t\t// Serialize the form elements\r\n\t\t\tjQuery.each( a, function() {\r\n\t\t\t\tadd( this.name, this.value );\r\n\t\t\t} );\r\n\r\n\t\t} else {\r\n\r\n\t\t\t// If traditional, encode the \"old\" way (the way 1.3.2 or older\r\n\t\t\t// did it), otherwise encode params recursively.\r\n\t\t\tfor ( prefix in a ) {\r\n\t\t\t\tbuildParams( prefix, a[ prefix ], traditional, add );\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// Return the resulting serialization\r\n\t\treturn s.join( \"&\" ).replace( r20, \"+\" );\r\n\t};\r\n\r\n\tjQuery.fn.extend( {\r\n\t\tserialize: function() {\r\n\t\t\treturn jQuery.param( this.serializeArray() );\r\n\t\t},\r\n\t\tserializeArray: function() {\r\n\t\t\treturn this.map( function() {\r\n\r\n\t\t\t\t// Can add propHook for \"elements\" to filter or add form elements\r\n\t\t\t\tvar elements = jQuery.prop( this, \"elements\" );\r\n\t\t\t\treturn elements ? jQuery.makeArray( elements ) : this;\r\n\t\t\t} )\r\n\t\t\t\t.filter( function() {\r\n\t\t\t\t\tvar type = this.type;\r\n\r\n\t\t\t\t\t// Use .is(\":disabled\") so that fieldset[disabled] works\r\n\t\t\t\t\treturn this.name && !jQuery( this ).is( \":disabled\" ) &&\r\n\t\t\t\t\t\trsubmittable.test( this.nodeName ) && !rsubmitterTypes.test( type ) &&\r\n\t\t\t\t\t\t( this.checked || !rcheckableType.test( type ) );\r\n\t\t\t\t} )\r\n\t\t\t\t.map( function( i, elem ) {\r\n\t\t\t\t\tvar val = jQuery( this ).val();\r\n\r\n\t\t\t\t\treturn val == null ?\r\n\t\t\t\t\t\tnull :\r\n\t\t\t\t\t\tjQuery.isArray( val ) ?\r\n\t\t\t\t\t\t\tjQuery.map( val, function( val ) {\r\n\t\t\t\t\t\t\t\treturn { name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t\t\t\t\t\t} ) :\r\n\t\t\t\t\t\t{ name: elem.name, value: val.replace( rCRLF, \"\\r\\n\" ) };\r\n\t\t\t\t} ).get();\r\n\t\t}\r\n\t} );\r\n\r\n\r\n// Create the request object\r\n// (This is still attached to ajaxSettings for backward compatibility)\r\n\tjQuery.ajaxSettings.xhr = window.ActiveXObject !== undefined ?\r\n\r\n\t\t// Support: IE6-IE8\r\n\t\tfunction() {\r\n\r\n\t\t\t// XHR cannot access local files, always use ActiveX for that case\r\n\t\t\tif ( this.isLocal ) {\r\n\t\t\t\treturn createActiveXHR();\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE 9-11\r\n\t\t\t// IE seems to error on cross-domain PATCH requests when ActiveX XHR\r\n\t\t\t// is used. In IE 9+ always use the native XHR.\r\n\t\t\t// Note: this condition won't catch Edge as it doesn't define\r\n\t\t\t// document.documentMode but it also doesn't support ActiveX so it won't\r\n\t\t\t// reach this code.\r\n\t\t\tif ( document.documentMode > 8 ) {\r\n\t\t\t\treturn createStandardXHR();\r\n\t\t\t}\r\n\r\n\t\t\t// Support: IE<9\r\n\t\t\t// oldIE XHR does not support non-RFC2616 methods (#13240)\r\n\t\t\t// See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx\r\n\t\t\t// and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9\r\n\t\t\t// Although this check for six methods instead of eight\r\n\t\t\t// since IE also does not support \"trace\" and \"connect\"\r\n\t\t\treturn /^(get|post|head|put|delete|options)$/i.test( this.type ) &&\r\n\t\t\t\tcreateStandardXHR() || createActiveXHR();\r\n\t\t} :\r\n\r\n\t\t// For all other browsers, use the standard XMLHttpRequest object\r\n\t\tcreateStandardXHR;\r\n\r\n\tvar xhrId = 0,\r\n\t\txhrCallbacks = {},\r\n\t\txhrSupported = jQuery.ajaxSettings.xhr();\r\n\r\n// Support: IE<10\r\n// Open requests must be manually aborted on unload (#5280)\r\n// See https://support.microsoft.com/kb/2856746 for more info\r\n\tif ( window.attachEvent ) {\r\n\t\twindow.attachEvent( \"onunload\", function() {\r\n\t\t\tfor ( var key in xhrCallbacks ) {\r\n\t\t\t\txhrCallbacks[ key ]( undefined, true );\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n// Determine support properties\r\n\tsupport.cors = !!xhrSupported && ( \"withCredentials\" in xhrSupported );\r\n\txhrSupported = support.ajax = !!xhrSupported;\r\n\r\n// Create transport if the browser can provide an xhr\r\n\tif ( xhrSupported ) {\r\n\r\n\t\tjQuery.ajaxTransport( function( options ) {\r\n\r\n\t\t\t// Cross domain only allowed if supported through XMLHttpRequest\r\n\t\t\tif ( !options.crossDomain || support.cors ) {\r\n\r\n\t\t\t\tvar callback;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\tsend: function( headers, complete ) {\r\n\t\t\t\t\t\tvar i,\r\n\t\t\t\t\t\t\txhr = options.xhr(),\r\n\t\t\t\t\t\t\tid = ++xhrId;\r\n\r\n\t\t\t\t\t\t// Open the socket\r\n\t\t\t\t\t\txhr.open(\r\n\t\t\t\t\t\t\toptions.type,\r\n\t\t\t\t\t\t\toptions.url,\r\n\t\t\t\t\t\t\toptions.async,\r\n\t\t\t\t\t\t\toptions.username,\r\n\t\t\t\t\t\t\toptions.password\r\n\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t// Apply custom fields if provided\r\n\t\t\t\t\t\tif ( options.xhrFields ) {\r\n\t\t\t\t\t\t\tfor ( i in options.xhrFields ) {\r\n\t\t\t\t\t\t\t\txhr[ i ] = options.xhrFields[ i ];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Override mime type if needed\r\n\t\t\t\t\t\tif ( options.mimeType && xhr.overrideMimeType ) {\r\n\t\t\t\t\t\t\txhr.overrideMimeType( options.mimeType );\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// X-Requested-With header\r\n\t\t\t\t\t\t// For cross-domain requests, seeing as conditions for a preflight are\r\n\t\t\t\t\t\t// akin to a jigsaw puzzle, we simply never set it to be sure.\r\n\t\t\t\t\t\t// (it can always be set on a per-request basis or even using ajaxSetup)\r\n\t\t\t\t\t\t// For same-domain requests, won't change header if already provided.\r\n\t\t\t\t\t\tif ( !options.crossDomain && !headers[ \"X-Requested-With\" ] ) {\r\n\t\t\t\t\t\t\theaders[ \"X-Requested-With\" ] = \"XMLHttpRequest\";\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Set headers\r\n\t\t\t\t\t\tfor ( i in headers ) {\r\n\r\n\t\t\t\t\t\t\t// Support: IE<9\r\n\t\t\t\t\t\t\t// IE's ActiveXObject throws a 'Type Mismatch' exception when setting\r\n\t\t\t\t\t\t\t// request header to a null-value.\r\n\t\t\t\t\t\t\t//\r\n\t\t\t\t\t\t\t// To keep consistent with other XHR implementations, cast the value\r\n\t\t\t\t\t\t\t// to string and ignore `undefined`.\r\n\t\t\t\t\t\t\tif ( headers[ i ] !== undefined ) {\r\n\t\t\t\t\t\t\t\txhr.setRequestHeader( i, headers[ i ] + \"\" );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Do send the request\r\n\t\t\t\t\t\t// This may raise an exception which is actually\r\n\t\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\r\n\t\t\t\t\t\txhr.send( ( options.hasContent && options.data ) || null );\r\n\r\n\t\t\t\t\t\t// Listener\r\n\t\t\t\t\t\tcallback = function( _, isAbort ) {\r\n\t\t\t\t\t\t\tvar status, statusText, responses;\r\n\r\n\t\t\t\t\t\t\t// Was never called and is aborted or complete\r\n\t\t\t\t\t\t\tif ( callback && ( isAbort || xhr.readyState === 4 ) ) {\r\n\r\n\t\t\t\t\t\t\t\t// Clean up\r\n\t\t\t\t\t\t\t\tdelete xhrCallbacks[ id ];\r\n\t\t\t\t\t\t\t\tcallback = undefined;\r\n\t\t\t\t\t\t\t\txhr.onreadystatechange = jQuery.noop;\r\n\r\n\t\t\t\t\t\t\t\t// Abort manually if needed\r\n\t\t\t\t\t\t\t\tif ( isAbort ) {\r\n\t\t\t\t\t\t\t\t\tif ( xhr.readyState !== 4 ) {\r\n\t\t\t\t\t\t\t\t\t\txhr.abort();\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tresponses = {};\r\n\t\t\t\t\t\t\t\t\tstatus = xhr.status;\r\n\r\n\t\t\t\t\t\t\t\t\t// Support: IE<10\r\n\t\t\t\t\t\t\t\t\t// Accessing binary-data responseText throws an exception\r\n\t\t\t\t\t\t\t\t\t// (#11426)\r\n\t\t\t\t\t\t\t\t\tif ( typeof xhr.responseText === \"string\" ) {\r\n\t\t\t\t\t\t\t\t\t\tresponses.text = xhr.responseText;\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Firefox throws an exception when accessing\r\n\t\t\t\t\t\t\t\t\t// statusText for faulty cross-domain requests\r\n\t\t\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t\t\tstatusText = xhr.statusText;\r\n\t\t\t\t\t\t\t\t\t} catch ( e ) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t// We normalize with Webkit giving an empty statusText\r\n\t\t\t\t\t\t\t\t\t\tstatusText = \"\";\r\n\t\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\t\t// Filter status for non standard behaviors\r\n\r\n\t\t\t\t\t\t\t\t\t// If the request is local and we have data: assume a success\r\n\t\t\t\t\t\t\t\t\t// (success with no data won't get notified, that's the best we\r\n\t\t\t\t\t\t\t\t\t// can do given current implementations)\r\n\t\t\t\t\t\t\t\t\tif ( !status && options.isLocal && !options.crossDomain ) {\r\n\t\t\t\t\t\t\t\t\t\tstatus = responses.text ? 200 : 404;\r\n\r\n\t\t\t\t\t\t\t\t\t\t// IE - #1450: sometimes returns 1223 when it should be 204\r\n\t\t\t\t\t\t\t\t\t} else if ( status === 1223 ) {\r\n\t\t\t\t\t\t\t\t\t\tstatus = 204;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Call complete if needed\r\n\t\t\t\t\t\t\tif ( responses ) {\r\n\t\t\t\t\t\t\t\tcomplete( status, statusText, responses, xhr.getAllResponseHeaders() );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t// Do send the request\r\n\t\t\t\t\t\t// `xhr.send` may raise an exception, but it will be\r\n\t\t\t\t\t\t// handled in jQuery.ajax (so no try/catch here)\r\n\t\t\t\t\t\tif ( !options.async ) {\r\n\r\n\t\t\t\t\t\t\t// If we're in sync mode we fire the callback\r\n\t\t\t\t\t\t\tcallback();\r\n\t\t\t\t\t\t} else if ( xhr.readyState === 4 ) {\r\n\r\n\t\t\t\t\t\t\t// (IE6 & IE7) if it's in cache and has been\r\n\t\t\t\t\t\t\t// retrieved directly we need to fire the callback\r\n\t\t\t\t\t\t\twindow.setTimeout( callback );\r\n\t\t\t\t\t\t} else {\r\n\r\n\t\t\t\t\t\t\t// Register the callback, but delay it in case `xhr.send` throws\r\n\t\t\t\t\t\t\t// Add to the list of active xhr callbacks\r\n\t\t\t\t\t\t\txhr.onreadystatechange = xhrCallbacks[ id ] = callback;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\r\n\t\t\t\t\tabort: function() {\r\n\t\t\t\t\t\tif ( callback ) {\r\n\t\t\t\t\t\t\tcallback( undefined, true );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t} );\r\n\t}\r\n\r\n// Functions to create xhrs\r\n\tfunction createStandardXHR() {\r\n\t\ttry {\r\n\t\t\treturn new window.XMLHttpRequest();\r\n\t\t} catch ( e ) {}\r\n\t}\r\n\r\n\tfunction createActiveXHR() {\r\n\t\ttry {\r\n\t\t\treturn new window.ActiveXObject( \"Microsoft.XMLHTTP\" );\r\n\t\t} catch ( e ) {}\r\n\t}\r\n\r\n\r\n\r\n\r\n// Install script dataType\r\n\tjQuery.ajaxSetup( {\r\n\t\taccepts: {\r\n\t\t\tscript: \"text/javascript, application/javascript, \" +\r\n\t\t\t\"application/ecmascript, application/x-ecmascript\"\r\n\t\t},\r\n\t\tcontents: {\r\n\t\t\tscript: /\\b(?:java|ecma)script\\b/\r\n\t\t},\r\n\t\tconverters: {\r\n\t\t\t\"text script\": function( text ) {\r\n\t\t\t\tjQuery.globalEval( text );\r\n\t\t\t\treturn text;\r\n\t\t\t}\r\n\t\t}\r\n\t} );\r\n\r\n// Handle cache's special case and global\r\n\tjQuery.ajaxPrefilter( \"script\", function( s ) {\r\n\t\tif ( s.cache === undefined ) {\r\n\t\t\ts.cache = false;\r\n\t\t}\r\n\t\tif ( s.crossDomain ) {\r\n\t\t\ts.type = \"GET\";\r\n\t\t\ts.global = false;\r\n\t\t}\r\n\t} );\r\n\r\n// Bind script tag hack transport\r\n\tjQuery.ajaxTransport( \"script\", function( s ) {\r\n\r\n\t\t// This transport only deals with cross domain requests\r\n\t\tif ( s.crossDomain ) {\r\n\r\n\t\t\tvar script,\r\n\t\t\t\thead = document.head || jQuery( \"head\" )[ 0 ] || document.documentElement;\r\n\r\n\t\t\treturn {\r\n\r\n\t\t\t\tsend: function( _, callback ) {\r\n\r\n\t\t\t\t\tscript = document.createElement( \"script\" );\r\n\r\n\t\t\t\t\tscript.async = true;\r\n\r\n\t\t\t\t\tif ( s.scriptCharset ) {\r\n\t\t\t\t\t\tscript.charset = s.scriptCharset;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tscript.src = s.url;\r\n\r\n\t\t\t\t\t// Attach handlers for all browsers\r\n\t\t\t\t\tscript.onload = script.onreadystatechange = function( _, isAbort ) {\r\n\r\n\t\t\t\t\t\tif ( isAbort || !script.readyState || /loaded|complete/.test( script.readyState ) ) {\r\n\r\n\t\t\t\t\t\t\t// Handle memory leak in IE\r\n\t\t\t\t\t\t\tscript.onload = script.onreadystatechange = null;\r\n\r\n\t\t\t\t\t\t\t// Remove the script\r\n\t\t\t\t\t\t\tif ( script.parentNode ) {\r\n\t\t\t\t\t\t\t\tscript.parentNode.removeChild( script );\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t// Dereference the script\r\n\t\t\t\t\t\t\tscript = null;\r\n\r\n\t\t\t\t\t\t\t// Callback if not abort\r\n\t\t\t\t\t\t\tif ( !isAbort ) {\r\n\t\t\t\t\t\t\t\tcallback( 200, \"success\" );\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\t// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending\r\n\t\t\t\t\t// Use native DOM manipulation to avoid our domManip AJAX trickery\r\n\t\t\t\t\thead.insertBefore( script, head.firstChild );\r\n\t\t\t\t},\r\n\r\n\t\t\t\tabort: function() {\r\n\t\t\t\t\tif ( script ) {\r\n\t\t\t\t\t\tscript.onload( undefined, true );\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\r\n\r\n\tvar oldCallbacks = [],\r\n\t\trjsonp = /(=)\\?(?=&|$)|\\?\\?/;\r\n\r\n// Default jsonp settings\r\n\tjQuery.ajaxSetup( {\r\n\t\tjsonp: \"callback\",\r\n\t\tjsonpCallback: function() {\r\n\t\t\tvar callback = oldCallbacks.pop() || ( jQuery.expando + \"_\" + ( nonce++ ) );\r\n\t\t\tthis[ callback ] = true;\r\n\t\t\treturn callback;\r\n\t\t}\r\n\t} );\r\n\r\n// Detect, normalize options and install callbacks for jsonp requests\r\n\tjQuery.ajaxPrefilter( \"json jsonp\", function( s, originalSettings, jqXHR ) {\r\n\r\n\t\tvar callbackName, overwritten, responseContainer,\r\n\t\t\tjsonProp = s.jsonp !== false && ( rjsonp.test( s.url ) ?\r\n\t\t\t\t\t\t\"url\" :\r\n\t\t\t\t\ttypeof s.data === \"string\" &&\r\n\t\t\t\t\t( s.contentType || \"\" )\r\n\t\t\t\t\t\t.indexOf( \"application/x-www-form-urlencoded\" ) === 0 &&\r\n\t\t\t\t\trjsonp.test( s.data ) && \"data\"\r\n\t\t\t\t);\r\n\r\n\t\t// Handle iff the expected data type is \"jsonp\" or we have a parameter to set\r\n\t\tif ( jsonProp || s.dataTypes[ 0 ] === \"jsonp\" ) {\r\n\r\n\t\t\t// Get callback name, remembering preexisting value associated with it\r\n\t\t\tcallbackName = s.jsonpCallback = jQuery.isFunction( s.jsonpCallback ) ?\r\n\t\t\t\ts.jsonpCallback() :\r\n\t\t\t\ts.jsonpCallback;\r\n\r\n\t\t\t// Insert callback into url or form data\r\n\t\t\tif ( jsonProp ) {\r\n\t\t\t\ts[ jsonProp ] = s[ jsonProp ].replace( rjsonp, \"$1\" + callbackName );\r\n\t\t\t} else if ( s.jsonp !== false ) {\r\n\t\t\t\ts.url += ( rquery.test( s.url ) ? \"&\" : \"?\" ) + s.jsonp + \"=\" + callbackName;\r\n\t\t\t}\r\n\r\n\t\t\t// Use data converter to retrieve json after script execution\r\n\t\t\ts.converters[ \"script json\" ] = function() {\r\n\t\t\t\tif ( !responseContainer ) {\r\n\t\t\t\t\tjQuery.error( callbackName + \" was not called\" );\r\n\t\t\t\t}\r\n\t\t\t\treturn responseContainer[ 0 ];\r\n\t\t\t};\r\n\r\n\t\t\t// force json dataType\r\n\t\t\ts.dataTypes[ 0 ] = \"json\";\r\n\r\n\t\t\t// Install callback\r\n\t\t\toverwritten = window[ callbackName ];\r\n\t\t\twindow[ callbackName ] = function() {\r\n\t\t\t\tresponseContainer = arguments;\r\n\t\t\t};\r\n\r\n\t\t\t// Clean-up function (fires after converters)\r\n\t\t\tjqXHR.always( function() {\r\n\r\n\t\t\t\t// If previous value didn't exist - remove it\r\n\t\t\t\tif ( overwritten === undefined ) {\r\n\t\t\t\t\tjQuery( window ).removeProp( callbackName );\r\n\r\n\t\t\t\t\t// Otherwise restore preexisting value\r\n\t\t\t\t} else {\r\n\t\t\t\t\twindow[ callbackName ] = overwritten;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Save back as free\r\n\t\t\t\tif ( s[ callbackName ] ) {\r\n\r\n\t\t\t\t\t// make sure that re-using the options doesn't screw things around\r\n\t\t\t\t\ts.jsonpCallback = originalSettings.jsonpCallback;\r\n\r\n\t\t\t\t\t// save the callback name for future use\r\n\t\t\t\t\toldCallbacks.push( callbackName );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Call if it was a function and we have a response\r\n\t\t\t\tif ( responseContainer && jQuery.isFunction( overwritten ) ) {\r\n\t\t\t\t\toverwritten( responseContainer[ 0 ] );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tresponseContainer = overwritten = undefined;\r\n\t\t\t} );\r\n\r\n\t\t\t// Delegate to script\r\n\t\t\treturn \"script\";\r\n\t\t}\r\n\t} );\r\n\r\n\r\n\r\n\r\n// data: string of html\r\n// context (optional): If specified, the fragment will be created in this context,\r\n// defaults to document\r\n// keepScripts (optional): If true, will include scripts passed in the html string\r\n\tjQuery.parseHTML = function( data, context, keepScripts ) {\r\n\t\tif ( !data || typeof data !== \"string\" ) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif ( typeof context === \"boolean\" ) {\r\n\t\t\tkeepScripts = context;\r\n\t\t\tcontext = false;\r\n\t\t}\r\n\t\tcontext = context || document;\r\n\r\n\t\tvar parsed = rsingleTag.exec( data ),\r\n\t\t\tscripts = !keepScripts && [];\r\n\r\n\t\t// Single tag\r\n\t\tif ( parsed ) {\r\n\t\t\treturn [ context.createElement( parsed[ 1 ] ) ];\r\n\t\t}\r\n\r\n\t\tparsed = buildFragment( [ data ], context, scripts );\r\n\r\n\t\tif ( scripts && scripts.length ) {\r\n\t\t\tjQuery( scripts ).remove();\r\n\t\t}\r\n\r\n\t\treturn jQuery.merge( [], parsed.childNodes );\r\n\t};\r\n\r\n\r\n// Keep a copy of the old load method\r\n\tvar _load = jQuery.fn.load;\r\n\r\n\t/**\r\n\t * Load a url into a page\r\n\t */\r\n\tjQuery.fn.load = function( url, params, callback ) {\r\n\t\tif ( typeof url !== \"string\" && _load ) {\r\n\t\t\treturn _load.apply( this, arguments );\r\n\t\t}\r\n\r\n\t\tvar selector, type, response,\r\n\t\t\tself = this,\r\n\t\t\toff = url.indexOf( \" \" );\r\n\r\n\t\tif ( off > -1 ) {\r\n\t\t\tselector = jQuery.trim( url.slice( off, url.length ) );\r\n\t\t\turl = url.slice( 0, off );\r\n\t\t}\r\n\r\n\t\t// If it's a function\r\n\t\tif ( jQuery.isFunction( params ) ) {\r\n\r\n\t\t\t// We assume that it's the callback\r\n\t\t\tcallback = params;\r\n\t\t\tparams = undefined;\r\n\r\n\t\t\t// Otherwise, build a param string\r\n\t\t} else if ( params && typeof params === \"object\" ) {\r\n\t\t\ttype = \"POST\";\r\n\t\t}\r\n\r\n\t\t// If we have elements to modify, make the request\r\n\t\tif ( self.length > 0 ) {\r\n\t\t\tjQuery.ajax( {\r\n\t\t\t\turl: url,\r\n\r\n\t\t\t\t// If \"type\" variable is undefined, then \"GET\" method will be used.\r\n\t\t\t\t// Make value of this field explicit since\r\n\t\t\t\t// user can override it through ajaxSetup method\r\n\t\t\t\ttype: type || \"GET\",\r\n\t\t\t\tdataType: \"html\",\r\n\t\t\t\tdata: params\r\n\t\t\t} ).done( function( responseText ) {\r\n\r\n\t\t\t\t// Save response for use in complete callback\r\n\t\t\t\tresponse = arguments;\r\n\r\n\t\t\t\tself.html( selector ?\r\n\r\n\t\t\t\t\t// If a selector was specified, locate the right elements in a dummy div\r\n\t\t\t\t\t// Exclude scripts to avoid IE 'Permission Denied' errors\r\n\t\t\t\t\tjQuery( \"<div>\" ).append( jQuery.parseHTML( responseText ) ).find( selector ) :\r\n\r\n\t\t\t\t\t// Otherwise use the full result\r\n\t\t\t\t\tresponseText );\r\n\r\n\t\t\t\t// If the request succeeds, this function gets \"data\", \"status\", \"jqXHR\"\r\n\t\t\t\t// but they are ignored because response was set above.\r\n\t\t\t\t// If it fails, this function gets \"jqXHR\", \"status\", \"error\"\r\n\t\t\t} ).always( callback && function( jqXHR, status ) {\r\n\t\t\t\t\tself.each( function() {\r\n\t\t\t\t\t\tcallback.apply( this, response || [ jqXHR.responseText, status, jqXHR ] );\r\n\t\t\t\t\t} );\r\n\t\t\t\t} );\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\r\n\r\n// Attach a bunch of functions for handling common AJAX events\r\n\tjQuery.each( [\r\n\t\t\"ajaxStart\",\r\n\t\t\"ajaxStop\",\r\n\t\t\"ajaxComplete\",\r\n\t\t\"ajaxError\",\r\n\t\t\"ajaxSuccess\",\r\n\t\t\"ajaxSend\"\r\n\t], function( i, type ) {\r\n\t\tjQuery.fn[ type ] = function( fn ) {\r\n\t\t\treturn this.on( type, fn );\r\n\t\t};\r\n\t} );\r\n\r\n\r\n\r\n\r\n\tjQuery.expr.filters.animated = function( elem ) {\r\n\t\treturn jQuery.grep( jQuery.timers, function( fn ) {\r\n\t\t\treturn elem === fn.elem;\r\n\t\t} ).length;\r\n\t};\r\n\r\n\r\n\r\n\r\n\r\n\t/**\r\n\t * Gets a window from an element\r\n\t */\r\n\tfunction getWindow( elem ) {\r\n\t\treturn jQuery.isWindow( elem ) ?\r\n\t\t\telem :\r\n\t\t\telem.nodeType === 9 ?\r\n\t\t\telem.defaultView || elem.parentWindow :\r\n\t\t\t\tfalse;\r\n\t}\r\n\r\n\tjQuery.offset = {\r\n\t\tsetOffset: function( elem, options, i ) {\r\n\t\t\tvar curPosition, curLeft, curCSSTop, curTop, curOffset, curCSSLeft, calculatePosition,\r\n\t\t\t\tposition = jQuery.css( elem, \"position\" ),\r\n\t\t\t\tcurElem = jQuery( elem ),\r\n\t\t\t\tprops = {};\r\n\r\n\t\t\t// set position first, in-case top/left are set even on static elem\r\n\t\t\tif ( position === \"static\" ) {\r\n\t\t\t\telem.style.position = \"relative\";\r\n\t\t\t}\r\n\r\n\t\t\tcurOffset = curElem.offset();\r\n\t\t\tcurCSSTop = jQuery.css( elem, \"top\" );\r\n\t\t\tcurCSSLeft = jQuery.css( elem, \"left\" );\r\n\t\t\tcalculatePosition = ( position === \"absolute\" || position === \"fixed\" ) &&\r\n\t\t\t\tjQuery.inArray( \"auto\", [ curCSSTop, curCSSLeft ] ) > -1;\r\n\r\n\t\t\t// need to be able to calculate position if either top or left\r\n\t\t\t// is auto and position is either absolute or fixed\r\n\t\t\tif ( calculatePosition ) {\r\n\t\t\t\tcurPosition = curElem.position();\r\n\t\t\t\tcurTop = curPosition.top;\r\n\t\t\t\tcurLeft = curPosition.left;\r\n\t\t\t} else {\r\n\t\t\t\tcurTop = parseFloat( curCSSTop ) || 0;\r\n\t\t\t\tcurLeft = parseFloat( curCSSLeft ) || 0;\r\n\t\t\t}\r\n\r\n\t\t\tif ( jQuery.isFunction( options ) ) {\r\n\r\n\t\t\t\t// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)\r\n\t\t\t\toptions = options.call( elem, i, jQuery.extend( {}, curOffset ) );\r\n\t\t\t}\r\n\r\n\t\t\tif ( options.top != null ) {\r\n\t\t\t\tprops.top = ( options.top - curOffset.top ) + curTop;\r\n\t\t\t}\r\n\t\t\tif ( options.left != null ) {\r\n\t\t\t\tprops.left = ( options.left - curOffset.left ) + curLeft;\r\n\t\t\t}\r\n\r\n\t\t\tif ( \"using\" in options ) {\r\n\t\t\t\toptions.using.call( elem, props );\r\n\t\t\t} else {\r\n\t\t\t\tcurElem.css( props );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tjQuery.fn.extend( {\r\n\t\toffset: function( options ) {\r\n\t\t\tif ( arguments.length ) {\r\n\t\t\t\treturn options === undefined ?\r\n\t\t\t\t\tthis :\r\n\t\t\t\t\tthis.each( function( i ) {\r\n\t\t\t\t\t\tjQuery.offset.setOffset( this, options, i );\r\n\t\t\t\t\t} );\r\n\t\t\t}\r\n\r\n\t\t\tvar docElem, win,\r\n\t\t\t\tbox = { top: 0, left: 0 },\r\n\t\t\t\telem = this[ 0 ],\r\n\t\t\t\tdoc = elem && elem.ownerDocument;\r\n\r\n\t\t\tif ( !doc ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tdocElem = doc.documentElement;\r\n\r\n\t\t\t// Make sure it's not a disconnected DOM node\r\n\t\t\tif ( !jQuery.contains( docElem, elem ) ) {\r\n\t\t\t\treturn box;\r\n\t\t\t}\r\n\r\n\t\t\t// If we don't have gBCR, just use 0,0 rather than error\r\n\t\t\t// BlackBerry 5, iOS 3 (original iPhone)\r\n\t\t\tif ( typeof elem.getBoundingClientRect !== \"undefined\" ) {\r\n\t\t\t\tbox = elem.getBoundingClientRect();\r\n\t\t\t}\r\n\t\t\twin = getWindow( doc );\r\n\t\t\treturn {\r\n\t\t\t\ttop: box.top  + ( win.pageYOffset || docElem.scrollTop )  - ( docElem.clientTop  || 0 ),\r\n\t\t\t\tleft: box.left + ( win.pageXOffset || docElem.scrollLeft ) - ( docElem.clientLeft || 0 )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tposition: function() {\r\n\t\t\tif ( !this[ 0 ] ) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar offsetParent, offset,\r\n\t\t\t\tparentOffset = { top: 0, left: 0 },\r\n\t\t\t\telem = this[ 0 ];\r\n\r\n\t\t\t// Fixed elements are offset from window (parentOffset = {top:0, left: 0},\r\n\t\t\t// because it is its only offset parent\r\n\t\t\tif ( jQuery.css( elem, \"position\" ) === \"fixed\" ) {\r\n\r\n\t\t\t\t// we assume that getBoundingClientRect is available when computed position is fixed\r\n\t\t\t\toffset = elem.getBoundingClientRect();\r\n\t\t\t} else {\r\n\r\n\t\t\t\t// Get *real* offsetParent\r\n\t\t\t\toffsetParent = this.offsetParent();\r\n\r\n\t\t\t\t// Get correct offsets\r\n\t\t\t\toffset = this.offset();\r\n\t\t\t\tif ( !jQuery.nodeName( offsetParent[ 0 ], \"html\" ) ) {\r\n\t\t\t\t\tparentOffset = offsetParent.offset();\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Add offsetParent borders\r\n\t\t\t\tparentOffset.top  += jQuery.css( offsetParent[ 0 ], \"borderTopWidth\", true );\r\n\t\t\t\tparentOffset.left += jQuery.css( offsetParent[ 0 ], \"borderLeftWidth\", true );\r\n\t\t\t}\r\n\r\n\t\t\t// Subtract parent offsets and element margins\r\n\t\t\t// note: when an element has margin: auto the offsetLeft and marginLeft\r\n\t\t\t// are the same in Safari causing offset.left to incorrectly be 0\r\n\t\t\treturn {\r\n\t\t\t\ttop:  offset.top  - parentOffset.top - jQuery.css( elem, \"marginTop\", true ),\r\n\t\t\t\tleft: offset.left - parentOffset.left - jQuery.css( elem, \"marginLeft\", true )\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\toffsetParent: function() {\r\n\t\t\treturn this.map( function() {\r\n\t\t\t\tvar offsetParent = this.offsetParent;\r\n\r\n\t\t\t\twhile ( offsetParent && ( !jQuery.nodeName( offsetParent, \"html\" ) &&\r\n\t\t\t\tjQuery.css( offsetParent, \"position\" ) === \"static\" ) ) {\r\n\t\t\t\t\toffsetParent = offsetParent.offsetParent;\r\n\t\t\t\t}\r\n\t\t\t\treturn offsetParent || documentElement;\r\n\t\t\t} );\r\n\t\t}\r\n\t} );\r\n\r\n// Create scrollLeft and scrollTop methods\r\n\tjQuery.each( { scrollLeft: \"pageXOffset\", scrollTop: \"pageYOffset\" }, function( method, prop ) {\r\n\t\tvar top = /Y/.test( prop );\r\n\r\n\t\tjQuery.fn[ method ] = function( val ) {\r\n\t\t\treturn access( this, function( elem, method, val ) {\r\n\t\t\t\tvar win = getWindow( elem );\r\n\r\n\t\t\t\tif ( val === undefined ) {\r\n\t\t\t\t\treturn win ? ( prop in win ) ? win[ prop ] :\r\n\t\t\t\t\t\twin.document.documentElement[ method ] :\r\n\t\t\t\t\t\telem[ method ];\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( win ) {\r\n\t\t\t\t\twin.scrollTo(\r\n\t\t\t\t\t\t!top ? val : jQuery( win ).scrollLeft(),\r\n\t\t\t\t\t\ttop ? val : jQuery( win ).scrollTop()\r\n\t\t\t\t\t);\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\telem[ method ] = val;\r\n\t\t\t\t}\r\n\t\t\t}, method, val, arguments.length, null );\r\n\t\t};\r\n\t} );\r\n\r\n// Support: Safari<7-8+, Chrome<37-44+\r\n// Add the top/left cssHooks using jQuery.fn.position\r\n// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084\r\n// getComputedStyle returns percent when specified for top/left/bottom/right\r\n// rather than make the css module depend on the offset module, we just check for it here\r\n\tjQuery.each( [ \"top\", \"left\" ], function( i, prop ) {\r\n\t\tjQuery.cssHooks[ prop ] = addGetHookIf( support.pixelPosition,\r\n\t\t\tfunction( elem, computed ) {\r\n\t\t\t\tif ( computed ) {\r\n\t\t\t\t\tcomputed = curCSS( elem, prop );\r\n\r\n\t\t\t\t\t// if curCSS returns percentage, fallback to offset\r\n\t\t\t\t\treturn rnumnonpx.test( computed ) ?\r\n\t\t\t\t\tjQuery( elem ).position()[ prop ] + \"px\" :\r\n\t\t\t\t\t\tcomputed;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t);\r\n\t} );\r\n\r\n\r\n// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods\r\n\tjQuery.each( { Height: \"height\", Width: \"width\" }, function( name, type ) {\r\n\t\tjQuery.each( { padding: \"inner\" + name, content: type, \"\": \"outer\" + name },\r\n\t\t\tfunction( defaultExtra, funcName ) {\r\n\r\n\t\t\t\t// margin is only for outerHeight, outerWidth\r\n\t\t\t\tjQuery.fn[ funcName ] = function( margin, value ) {\r\n\t\t\t\t\tvar chainable = arguments.length && ( defaultExtra || typeof margin !== \"boolean\" ),\r\n\t\t\t\t\t\textra = defaultExtra || ( margin === true || value === true ? \"margin\" : \"border\" );\r\n\r\n\t\t\t\t\treturn access( this, function( elem, type, value ) {\r\n\t\t\t\t\t\tvar doc;\r\n\r\n\t\t\t\t\t\tif ( jQuery.isWindow( elem ) ) {\r\n\r\n\t\t\t\t\t\t\t// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there\r\n\t\t\t\t\t\t\t// isn't a whole lot we can do. See pull request at this URL for discussion:\r\n\t\t\t\t\t\t\t// https://github.com/jquery/jquery/pull/764\r\n\t\t\t\t\t\t\treturn elem.document.documentElement[ \"client\" + name ];\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// Get document width or height\r\n\t\t\t\t\t\tif ( elem.nodeType === 9 ) {\r\n\t\t\t\t\t\t\tdoc = elem.documentElement;\r\n\r\n\t\t\t\t\t\t\t// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],\r\n\t\t\t\t\t\t\t// whichever is greatest\r\n\t\t\t\t\t\t\t// unfortunately, this causes bug #3838 in IE6/8 only,\r\n\t\t\t\t\t\t\t// but there is currently no good, small way to fix it.\r\n\t\t\t\t\t\t\treturn Math.max(\r\n\t\t\t\t\t\t\t\telem.body[ \"scroll\" + name ], doc[ \"scroll\" + name ],\r\n\t\t\t\t\t\t\t\telem.body[ \"offset\" + name ], doc[ \"offset\" + name ],\r\n\t\t\t\t\t\t\t\tdoc[ \"client\" + name ]\r\n\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn value === undefined ?\r\n\r\n\t\t\t\t\t\t\t// Get width or height on the element, requesting but not forcing parseFloat\r\n\t\t\t\t\t\t\tjQuery.css( elem, type, extra ) :\r\n\r\n\t\t\t\t\t\t\t// Set width or height on the element\r\n\t\t\t\t\t\t\tjQuery.style( elem, type, value, extra );\r\n\t\t\t\t\t}, type, chainable ? margin : undefined, chainable, null );\r\n\t\t\t\t};\r\n\t\t\t} );\r\n\t} );\r\n\r\n\r\n\tjQuery.fn.extend( {\r\n\r\n\t\tbind: function( types, data, fn ) {\r\n\t\t\treturn this.on( types, null, data, fn );\r\n\t\t},\r\n\t\tunbind: function( types, fn ) {\r\n\t\t\treturn this.off( types, null, fn );\r\n\t\t},\r\n\r\n\t\tdelegate: function( selector, types, data, fn ) {\r\n\t\t\treturn this.on( types, selector, data, fn );\r\n\t\t},\r\n\t\tundelegate: function( selector, types, fn ) {\r\n\r\n\t\t\t// ( namespace ) or ( selector, types [, fn] )\r\n\t\t\treturn arguments.length === 1 ?\r\n\t\t\t\tthis.off( selector, \"**\" ) :\r\n\t\t\t\tthis.off( types, selector || \"**\", fn );\r\n\t\t}\r\n\t} );\r\n\r\n// The number of elements contained in the matched element set\r\n\tjQuery.fn.size = function() {\r\n\t\treturn this.length;\r\n\t};\r\n\r\n\tjQuery.fn.andSelf = jQuery.fn.addBack;\r\n\r\n\r\n\r\n\r\n// Register as a named AMD module, since jQuery can be concatenated with other\r\n// files that may use define, but not via a proper concatenation script that\r\n// understands anonymous AMD modules. A named AMD is safest and most robust\r\n// way to register. Lowercase jquery is used because AMD module names are\r\n// derived from file names, and jQuery is normally delivered in a lowercase\r\n// file name. Do this after creating the global so that if an AMD module wants\r\n// to call noConflict to hide this version of jQuery, it will work.\r\n\r\n// Note that for maximum portability, libraries that are not jQuery should\r\n// declare themselves as anonymous modules, and avoid setting a global if an\r\n// AMD loader is present. jQuery is a special case. For more information, see\r\n// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon\r\n\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\tdefine( \"jquery\", [], function() {\r\n\t\t\treturn jQuery;\r\n\t\t} );\r\n\t}\r\n\r\n\r\n\r\n\tvar\r\n\r\n\t\t// Map over jQuery in case of overwrite\r\n\t\t_jQuery = window.jQuery,\r\n\r\n\t\t// Map over the $ in case of overwrite\r\n\t\t_$ = window.$;\r\n\r\n\tjQuery.noConflict = function( deep ) {\r\n\t\tif ( window.$ === jQuery ) {\r\n\t\t\twindow.$ = _$;\r\n\t\t}\r\n\r\n\t\tif ( deep && window.jQuery === jQuery ) {\r\n\t\t\twindow.jQuery = _jQuery;\r\n\t\t}\r\n\r\n\t\treturn jQuery;\r\n\t};\r\n\r\n// Expose jQuery and $ identifiers, even in\r\n// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)\r\n// and CommonJS for browser emulators (#13566)\r\n\tif ( !noGlobal ) {\r\n\t\twindow.jQuery = window.$ = jQuery;\r\n\t}\r\n\r\n\treturn jQuery;\r\n}));","underscore.js":"//     Underscore.js 1.8.2\r\n//     http://underscorejs.org\r\n//     (c) 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\r\n//     Underscore may be freely distributed under the MIT license.\r\n\r\n(function() {\r\n\r\n  // Baseline setup\r\n  // --------------\r\n\r\n  // Establish the root object, `window` in the browser, or `exports` on the server.\r\n  var root = this;\r\n\r\n  // Save the previous value of the `_` variable.\r\n  var previousUnderscore = root._;\r\n\r\n  // Save bytes in the minified (but not gzipped) version:\r\n  var ArrayProto = Array.prototype, ObjProto = Object.prototype, FuncProto = Function.prototype;\r\n\r\n  // Create quick reference variables for speed access to core prototypes.\r\n  var\r\n    push             = ArrayProto.push,\r\n    slice            = ArrayProto.slice,\r\n    toString         = ObjProto.toString,\r\n    hasOwnProperty   = ObjProto.hasOwnProperty;\r\n\r\n  // All **ECMAScript 5** native function implementations that we hope to use\r\n  // are declared here.\r\n  var\r\n    nativeIsArray      = Array.isArray,\r\n    nativeKeys         = Object.keys,\r\n    nativeBind         = FuncProto.bind,\r\n    nativeCreate       = Object.create;\r\n\r\n  // Naked function reference for surrogate-prototype-swapping.\r\n  var Ctor = function(){};\r\n\r\n  // Create a safe reference to the Underscore object for use below.\r\n  var _ = function(obj) {\r\n    if (obj instanceof _) return obj;\r\n    if (!(this instanceof _)) return new _(obj);\r\n    this._wrapped = obj;\r\n  };\r\n\r\n  // Export the Underscore object for **Node.js**, with\r\n  // backwards-compatibility for the old `require()` API. If we're in\r\n  // the browser, add `_` as a global object.\r\n  if (typeof exports !== 'undefined') {\r\n    if (typeof module !== 'undefined' && module.exports) {\r\n      exports = module.exports = _;\r\n    }\r\n    exports._ = _;\r\n  } else {\r\n    root._ = _;\r\n  }\r\n\r\n  // Current version.\r\n  _.VERSION = '1.8.2';\r\n\r\n  // Internal function that returns an efficient (for current engines) version\r\n  // of the passed-in callback, to be repeatedly applied in other Underscore\r\n  // functions.\r\n  var optimizeCb = function(func, context, argCount) {\r\n    if (context === void 0) return func;\r\n    switch (argCount == null ? 3 : argCount) {\r\n      case 1: return function(value) {\r\n        return func.call(context, value);\r\n      };\r\n      case 2: return function(value, other) {\r\n        return func.call(context, value, other);\r\n      };\r\n      case 3: return function(value, index, collection) {\r\n        return func.call(context, value, index, collection);\r\n      };\r\n      case 4: return function(accumulator, value, index, collection) {\r\n        return func.call(context, accumulator, value, index, collection);\r\n      };\r\n    }\r\n    return function() {\r\n      return func.apply(context, arguments);\r\n    };\r\n  };\r\n\r\n  // A mostly-internal function to generate callbacks that can be applied\r\n  // to each element in a collection, returning the desired result \u00e2\u0080\u0094 either\r\n  // identity, an arbitrary callback, a property matcher, or a property accessor.\r\n  var cb = function(value, context, argCount) {\r\n    if (value == null) return _.identity;\r\n    if (_.isFunction(value)) return optimizeCb(value, context, argCount);\r\n    if (_.isObject(value)) return _.matcher(value);\r\n    return _.property(value);\r\n  };\r\n  _.iteratee = function(value, context) {\r\n    return cb(value, context, Infinity);\r\n  };\r\n\r\n  // An internal function for creating assigner functions.\r\n  var createAssigner = function(keysFunc, undefinedOnly) {\r\n    return function(obj) {\r\n      var length = arguments.length;\r\n      if (length < 2 || obj == null) return obj;\r\n      for (var index = 1; index < length; index++) {\r\n        var source = arguments[index],\r\n            keys = keysFunc(source),\r\n            l = keys.length;\r\n        for (var i = 0; i < l; i++) {\r\n          var key = keys[i];\r\n          if (!undefinedOnly || obj[key] === void 0) obj[key] = source[key];\r\n        }\r\n      }\r\n      return obj;\r\n    };\r\n  };\r\n\r\n  // An internal function for creating a new object that inherits from another.\r\n  var baseCreate = function(prototype) {\r\n    if (!_.isObject(prototype)) return {};\r\n    if (nativeCreate) return nativeCreate(prototype);\r\n    Ctor.prototype = prototype;\r\n    var result = new Ctor;\r\n    Ctor.prototype = null;\r\n    return result;\r\n  };\r\n\r\n  // Helper for collection methods to determine whether a collection\r\n  // should be iterated as an array or as an object\r\n  // Related: http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength\r\n  var MAX_ARRAY_INDEX = Math.pow(2, 53) - 1;\r\n  var isArrayLike = function(collection) {\r\n    var length = collection && collection.length;\r\n    return typeof length == 'number' && length >= 0 && length <= MAX_ARRAY_INDEX;\r\n  };\r\n\r\n  // Collection Functions\r\n  // --------------------\r\n\r\n  // The cornerstone, an `each` implementation, aka `forEach`.\r\n  // Handles raw objects in addition to array-likes. Treats all\r\n  // sparse array-likes as if they were dense.\r\n  _.each = _.forEach = function(obj, iteratee, context) {\r\n    iteratee = optimizeCb(iteratee, context);\r\n    var i, length;\r\n    if (isArrayLike(obj)) {\r\n      for (i = 0, length = obj.length; i < length; i++) {\r\n        iteratee(obj[i], i, obj);\r\n      }\r\n    } else {\r\n      var keys = _.keys(obj);\r\n      for (i = 0, length = keys.length; i < length; i++) {\r\n        iteratee(obj[keys[i]], keys[i], obj);\r\n      }\r\n    }\r\n    return obj;\r\n  };\r\n\r\n  // Return the results of applying the iteratee to each element.\r\n  _.map = _.collect = function(obj, iteratee, context) {\r\n    iteratee = cb(iteratee, context);\r\n    var keys = !isArrayLike(obj) && _.keys(obj),\r\n        length = (keys || obj).length,\r\n        results = Array(length);\r\n    for (var index = 0; index < length; index++) {\r\n      var currentKey = keys ? keys[index] : index;\r\n      results[index] = iteratee(obj[currentKey], currentKey, obj);\r\n    }\r\n    return results;\r\n  };\r\n\r\n  // Create a reducing function iterating left or right.\r\n  function createReduce(dir) {\r\n    // Optimized iterator function as using arguments.length\r\n    // in the main function will deoptimize the, see #1991.\r\n    function iterator(obj, iteratee, memo, keys, index, length) {\r\n      for (; index >= 0 && index < length; index += dir) {\r\n        var currentKey = keys ? keys[index] : index;\r\n        memo = iteratee(memo, obj[currentKey], currentKey, obj);\r\n      }\r\n      return memo;\r\n    }\r\n\r\n    return function(obj, iteratee, memo, context) {\r\n      iteratee = optimizeCb(iteratee, context, 4);\r\n      var keys = !isArrayLike(obj) && _.keys(obj),\r\n          length = (keys || obj).length,\r\n          index = dir > 0 ? 0 : length - 1;\r\n      // Determine the initial value if none is provided.\r\n      if (arguments.length < 3) {\r\n        memo = obj[keys ? keys[index] : index];\r\n        index += dir;\r\n      }\r\n      return iterator(obj, iteratee, memo, keys, index, length);\r\n    };\r\n  }\r\n\r\n  // **Reduce** builds up a single result from a list of values, aka `inject`,\r\n  // or `foldl`.\r\n  _.reduce = _.foldl = _.inject = createReduce(1);\r\n\r\n  // The right-associative version of reduce, also known as `foldr`.\r\n  _.reduceRight = _.foldr = createReduce(-1);\r\n\r\n  // Return the first value which passes a truth test. Aliased as `detect`.\r\n  _.find = _.detect = function(obj, predicate, context) {\r\n    var key;\r\n    if (isArrayLike(obj)) {\r\n      key = _.findIndex(obj, predicate, context);\r\n    } else {\r\n      key = _.findKey(obj, predicate, context);\r\n    }\r\n    if (key !== void 0 && key !== -1) return obj[key];\r\n  };\r\n\r\n  // Return all the elements that pass a truth test.\r\n  // Aliased as `select`.\r\n  _.filter = _.select = function(obj, predicate, context) {\r\n    var results = [];\r\n    predicate = cb(predicate, context);\r\n    _.each(obj, function(value, index, list) {\r\n      if (predicate(value, index, list)) results.push(value);\r\n    });\r\n    return results;\r\n  };\r\n\r\n  // Return all the elements for which a truth test fails.\r\n  _.reject = function(obj, predicate, context) {\r\n    return _.filter(obj, _.negate(cb(predicate)), context);\r\n  };\r\n\r\n  // Determine whether all of the elements match a truth test.\r\n  // Aliased as `all`.\r\n  _.every = _.all = function(obj, predicate, context) {\r\n    predicate = cb(predicate, context);\r\n    var keys = !isArrayLike(obj) && _.keys(obj),\r\n        length = (keys || obj).length;\r\n    for (var index = 0; index < length; index++) {\r\n      var currentKey = keys ? keys[index] : index;\r\n      if (!predicate(obj[currentKey], currentKey, obj)) return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  // Determine if at least one element in the object matches a truth test.\r\n  // Aliased as `any`.\r\n  _.some = _.any = function(obj, predicate, context) {\r\n    predicate = cb(predicate, context);\r\n    var keys = !isArrayLike(obj) && _.keys(obj),\r\n        length = (keys || obj).length;\r\n    for (var index = 0; index < length; index++) {\r\n      var currentKey = keys ? keys[index] : index;\r\n      if (predicate(obj[currentKey], currentKey, obj)) return true;\r\n    }\r\n    return false;\r\n  };\r\n\r\n  // Determine if the array or object contains a given value (using `===`).\r\n  // Aliased as `includes` and `include`.\r\n  _.contains = _.includes = _.include = function(obj, target, fromIndex) {\r\n    if (!isArrayLike(obj)) obj = _.values(obj);\r\n    return _.indexOf(obj, target, typeof fromIndex == 'number' && fromIndex) >= 0;\r\n  };\r\n\r\n  // Invoke a method (with arguments) on every item in a collection.\r\n  _.invoke = function(obj, method) {\r\n    var args = slice.call(arguments, 2);\r\n    var isFunc = _.isFunction(method);\r\n    return _.map(obj, function(value) {\r\n      var func = isFunc ? method : value[method];\r\n      return func == null ? func : func.apply(value, args);\r\n    });\r\n  };\r\n\r\n  // Convenience version of a common use case of `map`: fetching a property.\r\n  _.pluck = function(obj, key) {\r\n    return _.map(obj, _.property(key));\r\n  };\r\n\r\n  // Convenience version of a common use case of `filter`: selecting only objects\r\n  // containing specific `key:value` pairs.\r\n  _.where = function(obj, attrs) {\r\n    return _.filter(obj, _.matcher(attrs));\r\n  };\r\n\r\n  // Convenience version of a common use case of `find`: getting the first object\r\n  // containing specific `key:value` pairs.\r\n  _.findWhere = function(obj, attrs) {\r\n    return _.find(obj, _.matcher(attrs));\r\n  };\r\n\r\n  // Return the maximum element (or element-based computation).\r\n  _.max = function(obj, iteratee, context) {\r\n    var result = -Infinity, lastComputed = -Infinity,\r\n        value, computed;\r\n    if (iteratee == null && obj != null) {\r\n      obj = isArrayLike(obj) ? obj : _.values(obj);\r\n      for (var i = 0, length = obj.length; i < length; i++) {\r\n        value = obj[i];\r\n        if (value > result) {\r\n          result = value;\r\n        }\r\n      }\r\n    } else {\r\n      iteratee = cb(iteratee, context);\r\n      _.each(obj, function(value, index, list) {\r\n        computed = iteratee(value, index, list);\r\n        if (computed > lastComputed || computed === -Infinity && result === -Infinity) {\r\n          result = value;\r\n          lastComputed = computed;\r\n        }\r\n      });\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Return the minimum element (or element-based computation).\r\n  _.min = function(obj, iteratee, context) {\r\n    var result = Infinity, lastComputed = Infinity,\r\n        value, computed;\r\n    if (iteratee == null && obj != null) {\r\n      obj = isArrayLike(obj) ? obj : _.values(obj);\r\n      for (var i = 0, length = obj.length; i < length; i++) {\r\n        value = obj[i];\r\n        if (value < result) {\r\n          result = value;\r\n        }\r\n      }\r\n    } else {\r\n      iteratee = cb(iteratee, context);\r\n      _.each(obj, function(value, index, list) {\r\n        computed = iteratee(value, index, list);\r\n        if (computed < lastComputed || computed === Infinity && result === Infinity) {\r\n          result = value;\r\n          lastComputed = computed;\r\n        }\r\n      });\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Shuffle a collection, using the modern version of the\r\n  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher\u00e2\u0080\u0093Yates_shuffle).\r\n  _.shuffle = function(obj) {\r\n    var set = isArrayLike(obj) ? obj : _.values(obj);\r\n    var length = set.length;\r\n    var shuffled = Array(length);\r\n    for (var index = 0, rand; index < length; index++) {\r\n      rand = _.random(0, index);\r\n      if (rand !== index) shuffled[index] = shuffled[rand];\r\n      shuffled[rand] = set[index];\r\n    }\r\n    return shuffled;\r\n  };\r\n\r\n  // Sample **n** random values from a collection.\r\n  // If **n** is not specified, returns a single random element.\r\n  // The internal `guard` argument allows it to work with `map`.\r\n  _.sample = function(obj, n, guard) {\r\n    if (n == null || guard) {\r\n      if (!isArrayLike(obj)) obj = _.values(obj);\r\n      return obj[_.random(obj.length - 1)];\r\n    }\r\n    return _.shuffle(obj).slice(0, Math.max(0, n));\r\n  };\r\n\r\n  // Sort the object's values by a criterion produced by an iteratee.\r\n  _.sortBy = function(obj, iteratee, context) {\r\n    iteratee = cb(iteratee, context);\r\n    return _.pluck(_.map(obj, function(value, index, list) {\r\n      return {\r\n        value: value,\r\n        index: index,\r\n        criteria: iteratee(value, index, list)\r\n      };\r\n    }).sort(function(left, right) {\r\n      var a = left.criteria;\r\n      var b = right.criteria;\r\n      if (a !== b) {\r\n        if (a > b || a === void 0) return 1;\r\n        if (a < b || b === void 0) return -1;\r\n      }\r\n      return left.index - right.index;\r\n    }), 'value');\r\n  };\r\n\r\n  // An internal function used for aggregate \"group by\" operations.\r\n  var group = function(behavior) {\r\n    return function(obj, iteratee, context) {\r\n      var result = {};\r\n      iteratee = cb(iteratee, context);\r\n      _.each(obj, function(value, index) {\r\n        var key = iteratee(value, index, obj);\r\n        behavior(result, value, key);\r\n      });\r\n      return result;\r\n    };\r\n  };\r\n\r\n  // Groups the object's values by a criterion. Pass either a string attribute\r\n  // to group by, or a function that returns the criterion.\r\n  _.groupBy = group(function(result, value, key) {\r\n    if (_.has(result, key)) result[key].push(value); else result[key] = [value];\r\n  });\r\n\r\n  // Indexes the object's values by a criterion, similar to `groupBy`, but for\r\n  // when you know that your index values will be unique.\r\n  _.indexBy = group(function(result, value, key) {\r\n    result[key] = value;\r\n  });\r\n\r\n  // Counts instances of an object that group by a certain criterion. Pass\r\n  // either a string attribute to count by, or a function that returns the\r\n  // criterion.\r\n  _.countBy = group(function(result, value, key) {\r\n    if (_.has(result, key)) result[key]++; else result[key] = 1;\r\n  });\r\n\r\n  // Safely create a real, live array from anything iterable.\r\n  _.toArray = function(obj) {\r\n    if (!obj) return [];\r\n    if (_.isArray(obj)) return slice.call(obj);\r\n    if (isArrayLike(obj)) return _.map(obj, _.identity);\r\n    return _.values(obj);\r\n  };\r\n\r\n  // Return the number of elements in an object.\r\n  _.size = function(obj) {\r\n    if (obj == null) return 0;\r\n    return isArrayLike(obj) ? obj.length : _.keys(obj).length;\r\n  };\r\n\r\n  // Split a collection into two arrays: one whose elements all satisfy the given\r\n  // predicate, and one whose elements all do not satisfy the predicate.\r\n  _.partition = function(obj, predicate, context) {\r\n    predicate = cb(predicate, context);\r\n    var pass = [], fail = [];\r\n    _.each(obj, function(value, key, obj) {\r\n      (predicate(value, key, obj) ? pass : fail).push(value);\r\n    });\r\n    return [pass, fail];\r\n  };\r\n\r\n  // Array Functions\r\n  // ---------------\r\n\r\n  // Get the first element of an array. Passing **n** will return the first N\r\n  // values in the array. Aliased as `head` and `take`. The **guard** check\r\n  // allows it to work with `_.map`.\r\n  _.first = _.head = _.take = function(array, n, guard) {\r\n    if (array == null) return void 0;\r\n    if (n == null || guard) return array[0];\r\n    return _.initial(array, array.length - n);\r\n  };\r\n\r\n  // Returns everything but the last entry of the array. Especially useful on\r\n  // the arguments object. Passing **n** will return all the values in\r\n  // the array, excluding the last N.\r\n  _.initial = function(array, n, guard) {\r\n    return slice.call(array, 0, Math.max(0, array.length - (n == null || guard ? 1 : n)));\r\n  };\r\n\r\n  // Get the last element of an array. Passing **n** will return the last N\r\n  // values in the array.\r\n  _.last = function(array, n, guard) {\r\n    if (array == null) return void 0;\r\n    if (n == null || guard) return array[array.length - 1];\r\n    return _.rest(array, Math.max(0, array.length - n));\r\n  };\r\n\r\n  // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.\r\n  // Especially useful on the arguments object. Passing an **n** will return\r\n  // the rest N values in the array.\r\n  _.rest = _.tail = _.drop = function(array, n, guard) {\r\n    return slice.call(array, n == null || guard ? 1 : n);\r\n  };\r\n\r\n  // Trim out all falsy values from an array.\r\n  _.compact = function(array) {\r\n    return _.filter(array, _.identity);\r\n  };\r\n\r\n  // Internal implementation of a recursive `flatten` function.\r\n  var flatten = function(input, shallow, strict, startIndex) {\r\n    var output = [], idx = 0;\r\n    for (var i = startIndex || 0, length = input && input.length; i < length; i++) {\r\n      var value = input[i];\r\n      if (isArrayLike(value) && (_.isArray(value) || _.isArguments(value))) {\r\n        //flatten current level of array or arguments object\r\n        if (!shallow) value = flatten(value, shallow, strict);\r\n        var j = 0, len = value.length;\r\n        output.length += len;\r\n        while (j < len) {\r\n          output[idx++] = value[j++];\r\n        }\r\n      } else if (!strict) {\r\n        output[idx++] = value;\r\n      }\r\n    }\r\n    return output;\r\n  };\r\n\r\n  // Flatten out an array, either recursively (by default), or just one level.\r\n  _.flatten = function(array, shallow) {\r\n    return flatten(array, shallow, false);\r\n  };\r\n\r\n  // Return a version of the array that does not contain the specified value(s).\r\n  _.without = function(array) {\r\n    return _.difference(array, slice.call(arguments, 1));\r\n  };\r\n\r\n  // Produce a duplicate-free version of the array. If the array has already\r\n  // been sorted, you have the option of using a faster algorithm.\r\n  // Aliased as `unique`.\r\n  _.uniq = _.unique = function(array, isSorted, iteratee, context) {\r\n    if (array == null) return [];\r\n    if (!_.isBoolean(isSorted)) {\r\n      context = iteratee;\r\n      iteratee = isSorted;\r\n      isSorted = false;\r\n    }\r\n    if (iteratee != null) iteratee = cb(iteratee, context);\r\n    var result = [];\r\n    var seen = [];\r\n    for (var i = 0, length = array.length; i < length; i++) {\r\n      var value = array[i],\r\n          computed = iteratee ? iteratee(value, i, array) : value;\r\n      if (isSorted) {\r\n        if (!i || seen !== computed) result.push(value);\r\n        seen = computed;\r\n      } else if (iteratee) {\r\n        if (!_.contains(seen, computed)) {\r\n          seen.push(computed);\r\n          result.push(value);\r\n        }\r\n      } else if (!_.contains(result, value)) {\r\n        result.push(value);\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Produce an array that contains the union: each distinct element from all of\r\n  // the passed-in arrays.\r\n  _.union = function() {\r\n    return _.uniq(flatten(arguments, true, true));\r\n  };\r\n\r\n  // Produce an array that contains every item shared between all the\r\n  // passed-in arrays.\r\n  _.intersection = function(array) {\r\n    if (array == null) return [];\r\n    var result = [];\r\n    var argsLength = arguments.length;\r\n    for (var i = 0, length = array.length; i < length; i++) {\r\n      var item = array[i];\r\n      if (_.contains(result, item)) continue;\r\n      for (var j = 1; j < argsLength; j++) {\r\n        if (!_.contains(arguments[j], item)) break;\r\n      }\r\n      if (j === argsLength) result.push(item);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Take the difference between one array and a number of other arrays.\r\n  // Only the elements present in just the first array will remain.\r\n  _.difference = function(array) {\r\n    var rest = flatten(arguments, true, true, 1);\r\n    return _.filter(array, function(value){\r\n      return !_.contains(rest, value);\r\n    });\r\n  };\r\n\r\n  // Zip together multiple lists into a single array -- elements that share\r\n  // an index go together.\r\n  _.zip = function() {\r\n    return _.unzip(arguments);\r\n  };\r\n\r\n  // Complement of _.zip. Unzip accepts an array of arrays and groups\r\n  // each array's elements on shared indices\r\n  _.unzip = function(array) {\r\n    var length = array && _.max(array, 'length').length || 0;\r\n    var result = Array(length);\r\n\r\n    for (var index = 0; index < length; index++) {\r\n      result[index] = _.pluck(array, index);\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Converts lists into objects. Pass either a single array of `[key, value]`\r\n  // pairs, or two parallel arrays of the same length -- one of keys, and one of\r\n  // the corresponding values.\r\n  _.object = function(list, values) {\r\n    var result = {};\r\n    for (var i = 0, length = list && list.length; i < length; i++) {\r\n      if (values) {\r\n        result[list[i]] = values[i];\r\n      } else {\r\n        result[list[i][0]] = list[i][1];\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Return the position of the first occurrence of an item in an array,\r\n  // or -1 if the item is not included in the array.\r\n  // If the array is large and already in sort order, pass `true`\r\n  // for **isSorted** to use binary search.\r\n  _.indexOf = function(array, item, isSorted) {\r\n    var i = 0, length = array && array.length;\r\n    if (typeof isSorted == 'number') {\r\n      i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;\r\n    } else if (isSorted && length) {\r\n      i = _.sortedIndex(array, item);\r\n      return array[i] === item ? i : -1;\r\n    }\r\n    if (item !== item) {\r\n      return _.findIndex(slice.call(array, i), _.isNaN);\r\n    }\r\n    for (; i < length; i++) if (array[i] === item) return i;\r\n    return -1;\r\n  };\r\n\r\n  _.lastIndexOf = function(array, item, from) {\r\n    var idx = array ? array.length : 0;\r\n    if (typeof from == 'number') {\r\n      idx = from < 0 ? idx + from + 1 : Math.min(idx, from + 1);\r\n    }\r\n    if (item !== item) {\r\n      return _.findLastIndex(slice.call(array, 0, idx), _.isNaN);\r\n    }\r\n    while (--idx >= 0) if (array[idx] === item) return idx;\r\n    return -1;\r\n  };\r\n\r\n  // Generator function to create the findIndex and findLastIndex functions\r\n  function createIndexFinder(dir) {\r\n    return function(array, predicate, context) {\r\n      predicate = cb(predicate, context);\r\n      var length = array != null && array.length;\r\n      var index = dir > 0 ? 0 : length - 1;\r\n      for (; index >= 0 && index < length; index += dir) {\r\n        if (predicate(array[index], index, array)) return index;\r\n      }\r\n      return -1;\r\n    };\r\n  }\r\n\r\n  // Returns the first index on an array-like that passes a predicate test\r\n  _.findIndex = createIndexFinder(1);\r\n\r\n  _.findLastIndex = createIndexFinder(-1);\r\n\r\n  // Use a comparator function to figure out the smallest index at which\r\n  // an object should be inserted so as to maintain order. Uses binary search.\r\n  _.sortedIndex = function(array, obj, iteratee, context) {\r\n    iteratee = cb(iteratee, context, 1);\r\n    var value = iteratee(obj);\r\n    var low = 0, high = array.length;\r\n    while (low < high) {\r\n      var mid = Math.floor((low + high) / 2);\r\n      if (iteratee(array[mid]) < value) low = mid + 1; else high = mid;\r\n    }\r\n    return low;\r\n  };\r\n\r\n  // Generate an integer Array containing an arithmetic progression. A port of\r\n  // the native Python `range()` function. See\r\n  // [the Python documentation](http://docs.python.org/library/functions.html#range).\r\n  _.range = function(start, stop, step) {\r\n    if (arguments.length <= 1) {\r\n      stop = start || 0;\r\n      start = 0;\r\n    }\r\n    step = step || 1;\r\n\r\n    var length = Math.max(Math.ceil((stop - start) / step), 0);\r\n    var range = Array(length);\r\n\r\n    for (var idx = 0; idx < length; idx++, start += step) {\r\n      range[idx] = start;\r\n    }\r\n\r\n    return range;\r\n  };\r\n\r\n  // Function (ahem) Functions\r\n  // ------------------\r\n\r\n  // Determines whether to execute a function as a constructor\r\n  // or a normal function with the provided arguments\r\n  var executeBound = function(sourceFunc, boundFunc, context, callingContext, args) {\r\n    if (!(callingContext instanceof boundFunc)) return sourceFunc.apply(context, args);\r\n    var self = baseCreate(sourceFunc.prototype);\r\n    var result = sourceFunc.apply(self, args);\r\n    if (_.isObject(result)) return result;\r\n    return self;\r\n  };\r\n\r\n  // Create a function bound to a given object (assigning `this`, and arguments,\r\n  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if\r\n  // available.\r\n  _.bind = function(func, context) {\r\n    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));\r\n    if (!_.isFunction(func)) throw new TypeError('Bind must be called on a function');\r\n    var args = slice.call(arguments, 2);\r\n    var bound = function() {\r\n      return executeBound(func, bound, context, this, args.concat(slice.call(arguments)));\r\n    };\r\n    return bound;\r\n  };\r\n\r\n  // Partially apply a function by creating a version that has had some of its\r\n  // arguments pre-filled, without changing its dynamic `this` context. _ acts\r\n  // as a placeholder, allowing any combination of arguments to be pre-filled.\r\n  _.partial = function(func) {\r\n    var boundArgs = slice.call(arguments, 1);\r\n    var bound = function() {\r\n      var position = 0, length = boundArgs.length;\r\n      var args = Array(length);\r\n      for (var i = 0; i < length; i++) {\r\n        args[i] = boundArgs[i] === _ ? arguments[position++] : boundArgs[i];\r\n      }\r\n      while (position < arguments.length) args.push(arguments[position++]);\r\n      return executeBound(func, bound, this, this, args);\r\n    };\r\n    return bound;\r\n  };\r\n\r\n  // Bind a number of an object's methods to that object. Remaining arguments\r\n  // are the method names to be bound. Useful for ensuring that all callbacks\r\n  // defined on an object belong to it.\r\n  _.bindAll = function(obj) {\r\n    var i, length = arguments.length, key;\r\n    if (length <= 1) throw new Error('bindAll must be passed function names');\r\n    for (i = 1; i < length; i++) {\r\n      key = arguments[i];\r\n      obj[key] = _.bind(obj[key], obj);\r\n    }\r\n    return obj;\r\n  };\r\n\r\n  // Memoize an expensive function by storing its results.\r\n  _.memoize = function(func, hasher) {\r\n    var memoize = function(key) {\r\n      var cache = memoize.cache;\r\n      var address = '' + (hasher ? hasher.apply(this, arguments) : key);\r\n      if (!_.has(cache, address)) cache[address] = func.apply(this, arguments);\r\n      return cache[address];\r\n    };\r\n    memoize.cache = {};\r\n    return memoize;\r\n  };\r\n\r\n  // Delays a function for the given number of milliseconds, and then calls\r\n  // it with the arguments supplied.\r\n  _.delay = function(func, wait) {\r\n    var args = slice.call(arguments, 2);\r\n    return setTimeout(function(){\r\n      return func.apply(null, args);\r\n    }, wait);\r\n  };\r\n\r\n  // Defers a function, scheduling it to run after the current call stack has\r\n  // cleared.\r\n  _.defer = _.partial(_.delay, _, 1);\r\n\r\n  // Returns a function, that, when invoked, will only be triggered at most once\r\n  // during a given window of time. Normally, the throttled function will run\r\n  // as much as it can, without ever going more than once per `wait` duration;\r\n  // but if you'd like to disable the execution on the leading edge, pass\r\n  // `{leading: false}`. To disable execution on the trailing edge, ditto.\r\n  _.throttle = function(func, wait, options) {\r\n    var context, args, result;\r\n    var timeout = null;\r\n    var previous = 0;\r\n    if (!options) options = {};\r\n    var later = function() {\r\n      previous = options.leading === false ? 0 : _.now();\r\n      timeout = null;\r\n      result = func.apply(context, args);\r\n      if (!timeout) context = args = null;\r\n    };\r\n    return function() {\r\n      var now = _.now();\r\n      if (!previous && options.leading === false) previous = now;\r\n      var remaining = wait - (now - previous);\r\n      context = this;\r\n      args = arguments;\r\n      if (remaining <= 0 || remaining > wait) {\r\n        if (timeout) {\r\n          clearTimeout(timeout);\r\n          timeout = null;\r\n        }\r\n        previous = now;\r\n        result = func.apply(context, args);\r\n        if (!timeout) context = args = null;\r\n      } else if (!timeout && options.trailing !== false) {\r\n        timeout = setTimeout(later, remaining);\r\n      }\r\n      return result;\r\n    };\r\n  };\r\n\r\n  // Returns a function, that, as long as it continues to be invoked, will not\r\n  // be triggered. The function will be called after it stops being called for\r\n  // N milliseconds. If `immediate` is passed, trigger the function on the\r\n  // leading edge, instead of the trailing.\r\n  _.debounce = function(func, wait, immediate) {\r\n    var timeout, args, context, timestamp, result;\r\n\r\n    var later = function() {\r\n      var last = _.now() - timestamp;\r\n\r\n      if (last < wait && last >= 0) {\r\n        timeout = setTimeout(later, wait - last);\r\n      } else {\r\n        timeout = null;\r\n        if (!immediate) {\r\n          result = func.apply(context, args);\r\n          if (!timeout) context = args = null;\r\n        }\r\n      }\r\n    };\r\n\r\n    return function() {\r\n      context = this;\r\n      args = arguments;\r\n      timestamp = _.now();\r\n      var callNow = immediate && !timeout;\r\n      if (!timeout) timeout = setTimeout(later, wait);\r\n      if (callNow) {\r\n        result = func.apply(context, args);\r\n        context = args = null;\r\n      }\r\n\r\n      return result;\r\n    };\r\n  };\r\n\r\n  // Returns the first function passed as an argument to the second,\r\n  // allowing you to adjust arguments, run code before and after, and\r\n  // conditionally execute the original function.\r\n  _.wrap = function(func, wrapper) {\r\n    return _.partial(wrapper, func);\r\n  };\r\n\r\n  // Returns a negated version of the passed-in predicate.\r\n  _.negate = function(predicate) {\r\n    return function() {\r\n      return !predicate.apply(this, arguments);\r\n    };\r\n  };\r\n\r\n  // Returns a function that is the composition of a list of functions, each\r\n  // consuming the return value of the function that follows.\r\n  _.compose = function() {\r\n    var args = arguments;\r\n    var start = args.length - 1;\r\n    return function() {\r\n      var i = start;\r\n      var result = args[start].apply(this, arguments);\r\n      while (i--) result = args[i].call(this, result);\r\n      return result;\r\n    };\r\n  };\r\n\r\n  // Returns a function that will only be executed on and after the Nth call.\r\n  _.after = function(times, func) {\r\n    return function() {\r\n      if (--times < 1) {\r\n        return func.apply(this, arguments);\r\n      }\r\n    };\r\n  };\r\n\r\n  // Returns a function that will only be executed up to (but not including) the Nth call.\r\n  _.before = function(times, func) {\r\n    var memo;\r\n    return function() {\r\n      if (--times > 0) {\r\n        memo = func.apply(this, arguments);\r\n      }\r\n      if (times <= 1) func = null;\r\n      return memo;\r\n    };\r\n  };\r\n\r\n  // Returns a function that will be executed at most one time, no matter how\r\n  // often you call it. Useful for lazy initialization.\r\n  _.once = _.partial(_.before, 2);\r\n\r\n  // Object Functions\r\n  // ----------------\r\n\r\n  // Keys in IE < 9 that won't be iterated by `for key in ...` and thus missed.\r\n  var hasEnumBug = !{toString: null}.propertyIsEnumerable('toString');\r\n  var nonEnumerableProps = ['valueOf', 'isPrototypeOf', 'toString',\r\n                      'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString'];\r\n\r\n  function collectNonEnumProps(obj, keys) {\r\n    var nonEnumIdx = nonEnumerableProps.length;\r\n    var constructor = obj.constructor;\r\n    var proto = (_.isFunction(constructor) && constructor.prototype) || ObjProto;\r\n\r\n    // Constructor is a special case.\r\n    var prop = 'constructor';\r\n    if (_.has(obj, prop) && !_.contains(keys, prop)) keys.push(prop);\r\n\r\n    while (nonEnumIdx--) {\r\n      prop = nonEnumerableProps[nonEnumIdx];\r\n      if (prop in obj && obj[prop] !== proto[prop] && !_.contains(keys, prop)) {\r\n        keys.push(prop);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Retrieve the names of an object's own properties.\r\n  // Delegates to **ECMAScript 5**'s native `Object.keys`\r\n  _.keys = function(obj) {\r\n    if (!_.isObject(obj)) return [];\r\n    if (nativeKeys) return nativeKeys(obj);\r\n    var keys = [];\r\n    for (var key in obj) if (_.has(obj, key)) keys.push(key);\r\n    // Ahem, IE < 9.\r\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\r\n    return keys;\r\n  };\r\n\r\n  // Retrieve all the property names of an object.\r\n  _.allKeys = function(obj) {\r\n    if (!_.isObject(obj)) return [];\r\n    var keys = [];\r\n    for (var key in obj) keys.push(key);\r\n    // Ahem, IE < 9.\r\n    if (hasEnumBug) collectNonEnumProps(obj, keys);\r\n    return keys;\r\n  };\r\n\r\n  // Retrieve the values of an object's properties.\r\n  _.values = function(obj) {\r\n    var keys = _.keys(obj);\r\n    var length = keys.length;\r\n    var values = Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n      values[i] = obj[keys[i]];\r\n    }\r\n    return values;\r\n  };\r\n\r\n  // Returns the results of applying the iteratee to each element of the object\r\n  // In contrast to _.map it returns an object\r\n  _.mapObject = function(obj, iteratee, context) {\r\n    iteratee = cb(iteratee, context);\r\n    var keys =  _.keys(obj),\r\n          length = keys.length,\r\n          results = {},\r\n          currentKey;\r\n      for (var index = 0; index < length; index++) {\r\n        currentKey = keys[index];\r\n        results[currentKey] = iteratee(obj[currentKey], currentKey, obj);\r\n      }\r\n      return results;\r\n  };\r\n\r\n  // Convert an object into a list of `[key, value]` pairs.\r\n  _.pairs = function(obj) {\r\n    var keys = _.keys(obj);\r\n    var length = keys.length;\r\n    var pairs = Array(length);\r\n    for (var i = 0; i < length; i++) {\r\n      pairs[i] = [keys[i], obj[keys[i]]];\r\n    }\r\n    return pairs;\r\n  };\r\n\r\n  // Invert the keys and values of an object. The values must be serializable.\r\n  _.invert = function(obj) {\r\n    var result = {};\r\n    var keys = _.keys(obj);\r\n    for (var i = 0, length = keys.length; i < length; i++) {\r\n      result[obj[keys[i]]] = keys[i];\r\n    }\r\n    return result;\r\n  };\r\n\r\n  // Return a sorted list of the function names available on the object.\r\n  // Aliased as `methods`\r\n  _.functions = _.methods = function(obj) {\r\n    var names = [];\r\n    for (var key in obj) {\r\n      if (_.isFunction(obj[key])) names.push(key);\r\n    }\r\n    return names.sort();\r\n  };\r\n\r\n  // Extend a given object with all the properties in passed-in object(s).\r\n  _.extend = createAssigner(_.allKeys);\r\n\r\n  // Assigns a given object with all the own properties in the passed-in object(s)\r\n  // (https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)\r\n  _.extendOwn = _.assign = createAssigner(_.keys);\r\n\r\n  // Returns the first key on an object that passes a predicate test\r\n  _.findKey = function(obj, predicate, context) {\r\n    predicate = cb(predicate, context);\r\n    var keys = _.keys(obj), key;\r\n    for (var i = 0, length = keys.length; i < length; i++) {\r\n      key = keys[i];\r\n      if (predicate(obj[key], key, obj)) return key;\r\n    }\r\n  };\r\n\r\n  // Return a copy of the object only containing the whitelisted properties.\r\n  _.pick = function(object, oiteratee, context) {\r\n    var result = {}, obj = object, iteratee, keys;\r\n    if (obj == null) return result;\r\n    if (_.isFunction(oiteratee)) {\r\n      keys = _.allKeys(obj);\r\n      iteratee = optimizeCb(oiteratee, context);\r\n    } else {\r\n      keys = flatten(arguments, false, false, 1);\r\n      iteratee = function(value, key, obj) { return key in obj; };\r\n      obj = Object(obj);\r\n    }\r\n    for (var i = 0, length = keys.length; i < length; i++) {\r\n      var key = keys[i];\r\n      var value = obj[key];\r\n      if (iteratee(value, key, obj)) result[key] = value;\r\n    }\r\n    return result;\r\n  };\r\n\r\n   // Return a copy of the object without the blacklisted properties.\r\n  _.omit = function(obj, iteratee, context) {\r\n    if (_.isFunction(iteratee)) {\r\n      iteratee = _.negate(iteratee);\r\n    } else {\r\n      var keys = _.map(flatten(arguments, false, false, 1), String);\r\n      iteratee = function(value, key) {\r\n        return !_.contains(keys, key);\r\n      };\r\n    }\r\n    return _.pick(obj, iteratee, context);\r\n  };\r\n\r\n  // Fill in a given object with default properties.\r\n  _.defaults = createAssigner(_.allKeys, true);\r\n\r\n  // Create a (shallow-cloned) duplicate of an object.\r\n  _.clone = function(obj) {\r\n    if (!_.isObject(obj)) return obj;\r\n    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);\r\n  };\r\n\r\n  // Invokes interceptor with the obj, and then returns obj.\r\n  // The primary purpose of this method is to \"tap into\" a method chain, in\r\n  // order to perform operations on intermediate results within the chain.\r\n  _.tap = function(obj, interceptor) {\r\n    interceptor(obj);\r\n    return obj;\r\n  };\r\n\r\n  // Returns whether an object has a given set of `key:value` pairs.\r\n  _.isMatch = function(object, attrs) {\r\n    var keys = _.keys(attrs), length = keys.length;\r\n    if (object == null) return !length;\r\n    var obj = Object(object);\r\n    for (var i = 0; i < length; i++) {\r\n      var key = keys[i];\r\n      if (attrs[key] !== obj[key] || !(key in obj)) return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n\r\n  // Internal recursive comparison function for `isEqual`.\r\n  var eq = function(a, b, aStack, bStack) {\r\n    // Identical objects are equal. `0 === -0`, but they aren't identical.\r\n    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).\r\n    if (a === b) return a !== 0 || 1 / a === 1 / b;\r\n    // A strict comparison is necessary because `null == undefined`.\r\n    if (a == null || b == null) return a === b;\r\n    // Unwrap any wrapped objects.\r\n    if (a instanceof _) a = a._wrapped;\r\n    if (b instanceof _) b = b._wrapped;\r\n    // Compare `[[Class]]` names.\r\n    var className = toString.call(a);\r\n    if (className !== toString.call(b)) return false;\r\n    switch (className) {\r\n      // Strings, numbers, regular expressions, dates, and booleans are compared by value.\r\n      case '[object RegExp]':\r\n      // RegExps are coerced to strings for comparison (Note: '' + /a/i === '/a/i')\r\n      case '[object String]':\r\n        // Primitives and their corresponding object wrappers are equivalent; thus, `\"5\"` is\r\n        // equivalent to `new String(\"5\")`.\r\n        return '' + a === '' + b;\r\n      case '[object Number]':\r\n        // `NaN`s are equivalent, but non-reflexive.\r\n        // Object(NaN) is equivalent to NaN\r\n        if (+a !== +a) return +b !== +b;\r\n        // An `egal` comparison is performed for other numeric values.\r\n        return +a === 0 ? 1 / +a === 1 / b : +a === +b;\r\n      case '[object Date]':\r\n      case '[object Boolean]':\r\n        // Coerce dates and booleans to numeric primitive values. Dates are compared by their\r\n        // millisecond representations. Note that invalid dates with millisecond representations\r\n        // of `NaN` are not equivalent.\r\n        return +a === +b;\r\n    }\r\n\r\n    var areArrays = className === '[object Array]';\r\n    if (!areArrays) {\r\n      if (typeof a != 'object' || typeof b != 'object') return false;\r\n\r\n      // Objects with different constructors are not equivalent, but `Object`s or `Array`s\r\n      // from different frames are.\r\n      var aCtor = a.constructor, bCtor = b.constructor;\r\n      if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor &&\r\n                               _.isFunction(bCtor) && bCtor instanceof bCtor)\r\n                          && ('constructor' in a && 'constructor' in b)) {\r\n        return false;\r\n      }\r\n    }\r\n    // Assume equality for cyclic structures. The algorithm for detecting cyclic\r\n    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.\r\n    \r\n    // Initializing stack of traversed objects.\r\n    // It's done here since we only need them for objects and arrays comparison.\r\n    aStack = aStack || [];\r\n    bStack = bStack || [];\r\n    var length = aStack.length;\r\n    while (length--) {\r\n      // Linear search. Performance is inversely proportional to the number of\r\n      // unique nested structures.\r\n      if (aStack[length] === a) return bStack[length] === b;\r\n    }\r\n\r\n    // Add the first object to the stack of traversed objects.\r\n    aStack.push(a);\r\n    bStack.push(b);\r\n\r\n    // Recursively compare objects and arrays.\r\n    if (areArrays) {\r\n      // Compare array lengths to determine if a deep comparison is necessary.\r\n      length = a.length;\r\n      if (length !== b.length) return false;\r\n      // Deep compare the contents, ignoring non-numeric properties.\r\n      while (length--) {\r\n        if (!eq(a[length], b[length], aStack, bStack)) return false;\r\n      }\r\n    } else {\r\n      // Deep compare objects.\r\n      var keys = _.keys(a), key;\r\n      length = keys.length;\r\n      // Ensure that both objects contain the same number of properties before comparing deep equality.\r\n      if (_.keys(b).length !== length) return false;\r\n      while (length--) {\r\n        // Deep compare each member\r\n        key = keys[length];\r\n        if (!(_.has(b, key) && eq(a[key], b[key], aStack, bStack))) return false;\r\n      }\r\n    }\r\n    // Remove the first object from the stack of traversed objects.\r\n    aStack.pop();\r\n    bStack.pop();\r\n    return true;\r\n  };\r\n\r\n  // Perform a deep comparison to check if two objects are equal.\r\n  _.isEqual = function(a, b) {\r\n    return eq(a, b);\r\n  };\r\n\r\n  // Is a given array, string, or object empty?\r\n  // An \"empty\" object has no enumerable own-properties.\r\n  _.isEmpty = function(obj) {\r\n    if (obj == null) return true;\r\n    if (isArrayLike(obj) && (_.isArray(obj) || _.isString(obj) || _.isArguments(obj))) return obj.length === 0;\r\n    return _.keys(obj).length === 0;\r\n  };\r\n\r\n  // Is a given value a DOM element?\r\n  _.isElement = function(obj) {\r\n    return !!(obj && obj.nodeType === 1);\r\n  };\r\n\r\n  // Is a given value an array?\r\n  // Delegates to ECMA5's native Array.isArray\r\n  _.isArray = nativeIsArray || function(obj) {\r\n    return toString.call(obj) === '[object Array]';\r\n  };\r\n\r\n  // Is a given variable an object?\r\n  _.isObject = function(obj) {\r\n    var type = typeof obj;\r\n    return type === 'function' || type === 'object' && !!obj;\r\n  };\r\n\r\n  // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp, isError.\r\n  _.each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp', 'Error'], function(name) {\r\n    _['is' + name] = function(obj) {\r\n      return toString.call(obj) === '[object ' + name + ']';\r\n    };\r\n  });\r\n\r\n  // Define a fallback version of the method in browsers (ahem, IE < 9), where\r\n  // there isn't any inspectable \"Arguments\" type.\r\n  if (!_.isArguments(arguments)) {\r\n    _.isArguments = function(obj) {\r\n      return _.has(obj, 'callee');\r\n    };\r\n  }\r\n\r\n  // Optimize `isFunction` if appropriate. Work around some typeof bugs in old v8,\r\n  // IE 11 (#1621), and in Safari 8 (#1929).\r\n  if (typeof /./ != 'function' && typeof Int8Array != 'object') {\r\n    _.isFunction = function(obj) {\r\n      return typeof obj == 'function' || false;\r\n    };\r\n  }\r\n\r\n  // Is a given object a finite number?\r\n  _.isFinite = function(obj) {\r\n    return isFinite(obj) && !isNaN(parseFloat(obj));\r\n  };\r\n\r\n  // Is the given value `NaN`? (NaN is the only number which does not equal itself).\r\n  _.isNaN = function(obj) {\r\n    return _.isNumber(obj) && obj !== +obj;\r\n  };\r\n\r\n  // Is a given value a boolean?\r\n  _.isBoolean = function(obj) {\r\n    return obj === true || obj === false || toString.call(obj) === '[object Boolean]';\r\n  };\r\n\r\n  // Is a given value equal to null?\r\n  _.isNull = function(obj) {\r\n    return obj === null;\r\n  };\r\n\r\n  // Is a given variable undefined?\r\n  _.isUndefined = function(obj) {\r\n    return obj === void 0;\r\n  };\r\n\r\n  // Shortcut function for checking if an object has a given property directly\r\n  // on itself (in other words, not on a prototype).\r\n  _.has = function(obj, key) {\r\n    return obj != null && hasOwnProperty.call(obj, key);\r\n  };\r\n\r\n  // Utility Functions\r\n  // -----------------\r\n\r\n  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its\r\n  // previous owner. Returns a reference to the Underscore object.\r\n  _.noConflict = function() {\r\n    root._ = previousUnderscore;\r\n    return this;\r\n  };\r\n\r\n  // Keep the identity function around for default iteratees.\r\n  _.identity = function(value) {\r\n    return value;\r\n  };\r\n\r\n  // Predicate-generating functions. Often useful outside of Underscore.\r\n  _.constant = function(value) {\r\n    return function() {\r\n      return value;\r\n    };\r\n  };\r\n\r\n  _.noop = function(){};\r\n\r\n  _.property = function(key) {\r\n    return function(obj) {\r\n      return obj == null ? void 0 : obj[key];\r\n    };\r\n  };\r\n\r\n  // Generates a function for a given object that returns a given property.\r\n  _.propertyOf = function(obj) {\r\n    return obj == null ? function(){} : function(key) {\r\n      return obj[key];\r\n    };\r\n  };\r\n\r\n  // Returns a predicate for checking whether an object has a given set of \r\n  // `key:value` pairs.\r\n  _.matcher = _.matches = function(attrs) {\r\n    attrs = _.extendOwn({}, attrs);\r\n    return function(obj) {\r\n      return _.isMatch(obj, attrs);\r\n    };\r\n  };\r\n\r\n  // Run a function **n** times.\r\n  _.times = function(n, iteratee, context) {\r\n    var accum = Array(Math.max(0, n));\r\n    iteratee = optimizeCb(iteratee, context, 1);\r\n    for (var i = 0; i < n; i++) accum[i] = iteratee(i);\r\n    return accum;\r\n  };\r\n\r\n  // Return a random integer between min and max (inclusive).\r\n  _.random = function(min, max) {\r\n    if (max == null) {\r\n      max = min;\r\n      min = 0;\r\n    }\r\n    return min + Math.floor(Math.random() * (max - min + 1));\r\n  };\r\n\r\n  // A (possibly faster) way to get the current timestamp as an integer.\r\n  _.now = Date.now || function() {\r\n    return new Date().getTime();\r\n  };\r\n\r\n   // List of HTML entities for escaping.\r\n  var escapeMap = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#x27;',\r\n    '`': '&#x60;'\r\n  };\r\n  var unescapeMap = _.invert(escapeMap);\r\n\r\n  // Functions for escaping and unescaping strings to/from HTML interpolation.\r\n  var createEscaper = function(map) {\r\n    var escaper = function(match) {\r\n      return map[match];\r\n    };\r\n    // Regexes for identifying a key that needs to be escaped\r\n    var source = '(?:' + _.keys(map).join('|') + ')';\r\n    var testRegexp = RegExp(source);\r\n    var replaceRegexp = RegExp(source, 'g');\r\n    return function(string) {\r\n      string = string == null ? '' : '' + string;\r\n      return testRegexp.test(string) ? string.replace(replaceRegexp, escaper) : string;\r\n    };\r\n  };\r\n  _.escape = createEscaper(escapeMap);\r\n  _.unescape = createEscaper(unescapeMap);\r\n\r\n  // If the value of the named `property` is a function then invoke it with the\r\n  // `object` as context; otherwise, return it.\r\n  _.result = function(object, property, fallback) {\r\n    var value = object == null ? void 0 : object[property];\r\n    if (value === void 0) {\r\n      value = fallback;\r\n    }\r\n    return _.isFunction(value) ? value.call(object) : value;\r\n  };\r\n\r\n  // Generate a unique integer id (unique within the entire client session).\r\n  // Useful for temporary DOM ids.\r\n  var idCounter = 0;\r\n  _.uniqueId = function(prefix) {\r\n    var id = ++idCounter + '';\r\n    return prefix ? prefix + id : id;\r\n  };\r\n\r\n  // By default, Underscore uses ERB-style template delimiters, change the\r\n  // following template settings to use alternative delimiters.\r\n  _.templateSettings = {\r\n    evaluate    : /<%([\\s\\S]+?)%>/g,\r\n    interpolate : /<%=([\\s\\S]+?)%>/g,\r\n    escape      : /<%-([\\s\\S]+?)%>/g\r\n  };\r\n\r\n  // When customizing `templateSettings`, if you don't want to define an\r\n  // interpolation, evaluation or escaping regex, we need one that is\r\n  // guaranteed not to match.\r\n  var noMatch = /(.)^/;\r\n\r\n  // Certain characters need to be escaped so that they can be put into a\r\n  // string literal.\r\n  var escapes = {\r\n    \"'\":      \"'\",\r\n    '\\\\':     '\\\\',\r\n    '\\r':     'r',\r\n    '\\n':     'n',\r\n    '\\u2028': 'u2028',\r\n    '\\u2029': 'u2029'\r\n  };\r\n\r\n  var escaper = /\\\\|'|\\r|\\n|\\u2028|\\u2029/g;\r\n\r\n  var escapeChar = function(match) {\r\n    return '\\\\' + escapes[match];\r\n  };\r\n\r\n  // JavaScript micro-templating, similar to John Resig's implementation.\r\n  // Underscore templating handles arbitrary delimiters, preserves whitespace,\r\n  // and correctly escapes quotes within interpolated code.\r\n  // NB: `oldSettings` only exists for backwards compatibility.\r\n  _.template = function(text, settings, oldSettings) {\r\n    if (!settings && oldSettings) settings = oldSettings;\r\n    settings = _.defaults({}, settings, _.templateSettings);\r\n\r\n    // Combine delimiters into one regular expression via alternation.\r\n    var matcher = RegExp([\r\n      (settings.escape || noMatch).source,\r\n      (settings.interpolate || noMatch).source,\r\n      (settings.evaluate || noMatch).source\r\n    ].join('|') + '|$', 'g');\r\n\r\n    // Compile the template source, escaping string literals appropriately.\r\n    var index = 0;\r\n    var source = \"__p+='\";\r\n    text.replace(matcher, function(match, escape, interpolate, evaluate, offset) {\r\n      source += text.slice(index, offset).replace(escaper, escapeChar);\r\n      index = offset + match.length;\r\n\r\n      if (escape) {\r\n        source += \"'+\\n((__t=(\" + escape + \"))==null?'':_.escape(__t))+\\n'\";\r\n      } else if (interpolate) {\r\n        source += \"'+\\n((__t=(\" + interpolate + \"))==null?'':__t)+\\n'\";\r\n      } else if (evaluate) {\r\n        source += \"';\\n\" + evaluate + \"\\n__p+='\";\r\n      }\r\n\r\n      // Adobe VMs need the match returned to produce the correct offest.\r\n      return match;\r\n    });\r\n    source += \"';\\n\";\r\n\r\n    // If a variable is not specified, place data values in local scope.\r\n    if (!settings.variable) source = 'with(obj||{}){\\n' + source + '}\\n';\r\n\r\n    source = \"var __t,__p='',__j=Array.prototype.join,\" +\r\n      \"print=function(){__p+=__j.call(arguments,'');};\\n\" +\r\n      source + 'return __p;\\n';\r\n\r\n    try {\r\n      var render = new Function(settings.variable || 'obj', '_', source);\r\n    } catch (e) {\r\n      e.source = source;\r\n      throw e;\r\n    }\r\n\r\n    var template = function(data) {\r\n      return render.call(this, data, _);\r\n    };\r\n\r\n    // Provide the compiled source as a convenience for precompilation.\r\n    var argument = settings.variable || 'obj';\r\n    template.source = 'function(' + argument + '){\\n' + source + '}';\r\n\r\n    return template;\r\n  };\r\n\r\n  // Add a \"chain\" function. Start chaining a wrapped Underscore object.\r\n  _.chain = function(obj) {\r\n    var instance = _(obj);\r\n    instance._chain = true;\r\n    return instance;\r\n  };\r\n\r\n  // OOP\r\n  // ---------------\r\n  // If Underscore is called as a function, it returns a wrapped object that\r\n  // can be used OO-style. This wrapper holds altered versions of all the\r\n  // underscore functions. Wrapped objects may be chained.\r\n\r\n  // Helper function to continue chaining intermediate results.\r\n  var result = function(instance, obj) {\r\n    return instance._chain ? _(obj).chain() : obj;\r\n  };\r\n\r\n  // Add your own custom functions to the Underscore object.\r\n  _.mixin = function(obj) {\r\n    _.each(_.functions(obj), function(name) {\r\n      var func = _[name] = obj[name];\r\n      _.prototype[name] = function() {\r\n        var args = [this._wrapped];\r\n        push.apply(args, arguments);\r\n        return result(this, func.apply(_, args));\r\n      };\r\n    });\r\n  };\r\n\r\n  // Add all of the Underscore functions to the wrapper object.\r\n  _.mixin(_);\r\n\r\n  // Add all mutator Array functions to the wrapper.\r\n  _.each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function(name) {\r\n    var method = ArrayProto[name];\r\n    _.prototype[name] = function() {\r\n      var obj = this._wrapped;\r\n      method.apply(obj, arguments);\r\n      if ((name === 'shift' || name === 'splice') && obj.length === 0) delete obj[0];\r\n      return result(this, obj);\r\n    };\r\n  });\r\n\r\n  // Add all accessor Array functions to the wrapper.\r\n  _.each(['concat', 'join', 'slice'], function(name) {\r\n    var method = ArrayProto[name];\r\n    _.prototype[name] = function() {\r\n      return result(this, method.apply(this._wrapped, arguments));\r\n    };\r\n  });\r\n\r\n  // Extracts the result from a wrapped and chained object.\r\n  _.prototype.value = function() {\r\n    return this._wrapped;\r\n  };\r\n\r\n  // Provide unwrapping proxy for some methods used in engine operations\r\n  // such as arithmetic and JSON stringification.\r\n  _.prototype.valueOf = _.prototype.toJSON = _.prototype.value;\r\n  \r\n  _.prototype.toString = function() {\r\n    return '' + this._wrapped;\r\n  };\r\n\r\n  // AMD registration happens at the end for compatibility with AMD loaders\r\n  // that may not enforce next-turn semantics on modules. Even though general\r\n  // practice for AMD registration is to be anonymous, underscore registers\r\n  // as a named module because, like jQuery, it is a base library that is\r\n  // popular enough to be bundled in a third party lib, but not be part of\r\n  // an AMD load request. Those cases could generate an error when an\r\n  // anonymous define() is called outside of a loader request.\r\n  if (typeof define === 'function' && define.amd) {\r\n    define('underscore', [], function() {\r\n      return _;\r\n    });\r\n  }\r\n}.call(this));","fotorama/fotorama.js":"/*!\r\n * Fotorama 4.6.4 | http://fotorama.io/license/\r\n */\r\nfotoramaVersion = '4.6.4';\r\n(function (window, document, location, $, undefined) {\r\n    \"use strict\";\r\n    var _fotoramaClass = 'fotorama',\r\n        _fullscreenClass = 'fotorama__fullscreen',\r\n\r\n        wrapClass = _fotoramaClass + '__wrap',\r\n        wrapCss2Class = wrapClass + '--css2',\r\n        wrapCss3Class = wrapClass + '--css3',\r\n        wrapVideoClass = wrapClass + '--video',\r\n        wrapFadeClass = wrapClass + '--fade',\r\n        wrapSlideClass = wrapClass + '--slide',\r\n        wrapNoControlsClass = wrapClass + '--no-controls',\r\n        wrapNoShadowsClass = wrapClass + '--no-shadows',\r\n        wrapPanYClass = wrapClass + '--pan-y',\r\n        wrapRtlClass = wrapClass + '--rtl',\r\n        wrapOnlyActiveClass = wrapClass + '--only-active',\r\n        wrapNoCaptionsClass = wrapClass + '--no-captions',\r\n        wrapToggleArrowsClass = wrapClass + '--toggle-arrows',\r\n\r\n        stageClass = _fotoramaClass + '__stage',\r\n        stageFrameClass = stageClass + '__frame',\r\n        stageFrameVideoClass = stageFrameClass + '--video',\r\n        stageShaftClass = stageClass + '__shaft',\r\n\r\n        grabClass = _fotoramaClass + '__grab',\r\n        pointerClass = _fotoramaClass + '__pointer',\r\n\r\n        arrClass = _fotoramaClass + '__arr',\r\n        arrDisabledClass = arrClass + '--disabled',\r\n        arrPrevClass = arrClass + '--prev',\r\n        arrNextClass = arrClass + '--next',\r\n\r\n        navClass = _fotoramaClass + '__nav',\r\n        navWrapClass = navClass + '-wrap',\r\n        navShaftClass = navClass + '__shaft',\r\n        navShaftVerticalClass = navWrapClass + '--vertical',\r\n        navShaftListClass = navWrapClass + '--list',\r\n        navShafthorizontalClass = navWrapClass + '--horizontal',\r\n        navDotsClass = navClass + '--dots',\r\n        navThumbsClass = navClass + '--thumbs',\r\n        navFrameClass = navClass + '__frame',\r\n\r\n        fadeClass = _fotoramaClass + '__fade',\r\n        fadeFrontClass = fadeClass + '-front',\r\n        fadeRearClass = fadeClass + '-rear',\r\n\r\n        shadowClass = _fotoramaClass + '__shadow',\r\n        shadowsClass = shadowClass + 's',\r\n        shadowsLeftClass = shadowsClass + '--left',\r\n        shadowsRightClass = shadowsClass + '--right',\r\n        shadowsTopClass = shadowsClass + '--top',\r\n        shadowsBottomClass = shadowsClass + '--bottom',\r\n\r\n        activeClass = _fotoramaClass + '__active',\r\n        selectClass = _fotoramaClass + '__select',\r\n\r\n        hiddenClass = _fotoramaClass + '--hidden',\r\n\r\n        fullscreenClass = _fotoramaClass + '--fullscreen',\r\n        fullscreenIconClass = _fotoramaClass + '__fullscreen-icon',\r\n\r\n        errorClass = _fotoramaClass + '__error',\r\n        loadingClass = _fotoramaClass + '__loading',\r\n        loadedClass = _fotoramaClass + '__loaded',\r\n        loadedFullClass = loadedClass + '--full',\r\n        loadedImgClass = loadedClass + '--img',\r\n\r\n        grabbingClass = _fotoramaClass + '__grabbing',\r\n\r\n        imgClass = _fotoramaClass + '__img',\r\n        imgFullClass = imgClass + '--full',\r\n\r\n        thumbClass = _fotoramaClass + '__thumb',\r\n        thumbArrLeft = thumbClass + '__arr--left',\r\n        thumbArrRight = thumbClass + '__arr--right',\r\n        thumbBorderClass = thumbClass + '-border',\r\n\r\n        htmlClass = _fotoramaClass + '__html',\r\n\r\n        videoContainerClass = _fotoramaClass + '-video-container',\r\n        videoClass = _fotoramaClass + '__video',\r\n        videoPlayClass = videoClass + '-play',\r\n        videoCloseClass = videoClass + '-close',\r\n\r\n\r\n        horizontalImageClass = _fotoramaClass + '_horizontal_ratio',\r\n        verticalImageClass = _fotoramaClass + '_vertical_ratio',\r\n        fotoramaSpinnerClass = _fotoramaClass + '__spinner',\r\n        spinnerShowClass = fotoramaSpinnerClass + '--show';\r\n    var JQUERY_VERSION = $ && $.fn.jquery.split('.');\r\n\r\n    if (!JQUERY_VERSION\r\n        || JQUERY_VERSION[0] < 1\r\n        || (JQUERY_VERSION[0] == 1 && JQUERY_VERSION[1] < 8)) {\r\n        throw 'Fotorama requires jQuery 1.8 or later and will not run without it.';\r\n    }\r\n\r\n    var _ = {};\r\n    /* Modernizr 2.8.3 (Custom Build) | MIT & BSD\r\n     * Build: http://modernizr.com/download/#-csstransforms3d-csstransitions-touch-prefixed\r\n     */\r\n\r\n    var Modernizr = (function (window, document, undefined) {\r\n        var version = '2.8.3',\r\n            Modernizr = {},\r\n\r\n\r\n            docElement = document.documentElement,\r\n\r\n            mod = 'modernizr',\r\n            modElem = document.createElement(mod),\r\n            mStyle = modElem.style,\r\n            inputElem,\r\n\r\n\r\n            toString = {}.toString,\r\n\r\n            prefixes = ' -webkit- -moz- -o- -ms- '.split(' '),\r\n\r\n\r\n            omPrefixes = 'Webkit Moz O ms',\r\n\r\n            cssomPrefixes = omPrefixes.split(' '),\r\n\r\n            domPrefixes = omPrefixes.toLowerCase().split(' '),\r\n\r\n\r\n            tests = {},\r\n            inputs = {},\r\n            attrs = {},\r\n\r\n            classes = [],\r\n\r\n            slice = classes.slice,\r\n\r\n            featureName,\r\n\r\n\r\n            injectElementWithStyles = function (rule, callback, nodes, testnames) {\r\n\r\n                var style, ret, node, docOverflow,\r\n                    div = document.createElement('div'),\r\n                    body = document.body,\r\n                    fakeBody = body || document.createElement('body');\r\n\r\n                if (parseInt(nodes, 10)) {\r\n                    while (nodes--) {\r\n                        node = document.createElement('div');\r\n                        node.id = testnames ? testnames[nodes] : mod + (nodes + 1);\r\n                        div.appendChild(node);\r\n                    }\r\n                }\r\n\r\n                style = ['&#173;', '<style id=\"s', mod, '\">', rule, '</style>'].join('');\r\n                div.id = mod;\r\n                (body ? div : fakeBody).innerHTML += style;\r\n                fakeBody.appendChild(div);\r\n                if (!body) {\r\n                    fakeBody.style.background = '';\r\n                    fakeBody.style.overflow = 'hidden';\r\n                    docOverflow = docElement.style.overflow;\r\n                    docElement.style.overflow = 'hidden';\r\n                    docElement.appendChild(fakeBody);\r\n                }\r\n\r\n                ret = callback(div, rule);\r\n                if (!body) {\r\n                    fakeBody.parentNode.removeChild(fakeBody);\r\n                    docElement.style.overflow = docOverflow;\r\n                } else {\r\n                    div.parentNode.removeChild(div);\r\n                }\r\n\r\n                return !!ret;\r\n\r\n            },\r\n            _hasOwnProperty = ({}).hasOwnProperty, hasOwnProp;\r\n\r\n        if (!is(_hasOwnProperty, 'undefined') && !is(_hasOwnProperty.call, 'undefined')) {\r\n            hasOwnProp = function (object, property) {\r\n                return _hasOwnProperty.call(object, property);\r\n            };\r\n        }\r\n        else {\r\n            hasOwnProp = function (object, property) {\r\n                return ((property in object) && is(object.constructor.prototype[property], 'undefined'));\r\n            };\r\n        }\r\n\r\n\r\n        if (!Function.prototype.bind) {\r\n            Function.prototype.bind = function bind(that) {\r\n\r\n                var target = this;\r\n\r\n                if (typeof target != \"function\") {\r\n                    throw new TypeError();\r\n                }\r\n\r\n                var args = slice.call(arguments, 1),\r\n                    bound = function () {\r\n\r\n                        if (this instanceof bound) {\r\n\r\n                            var F = function () {\r\n                            };\r\n                            F.prototype = target.prototype;\r\n                            var self = new F();\r\n\r\n                            var result = target.apply(\r\n                                self,\r\n                                args.concat(slice.call(arguments))\r\n                            );\r\n                            if (Object(result) === result) {\r\n                                return result;\r\n                            }\r\n                            return self;\r\n\r\n                        } else {\r\n\r\n                            return target.apply(\r\n                                that,\r\n                                args.concat(slice.call(arguments))\r\n                            );\r\n\r\n                        }\r\n\r\n                    };\r\n\r\n                return bound;\r\n            };\r\n        }\r\n\r\n        function setCss(str) {\r\n            mStyle.cssText = str;\r\n        }\r\n\r\n        function setCssAll(str1, str2) {\r\n            return setCss(prefixes.join(str1 + ';') + ( str2 || '' ));\r\n        }\r\n\r\n        function is(obj, type) {\r\n            return typeof obj === type;\r\n        }\r\n\r\n        function contains(str, substr) {\r\n            return !!~('' + str).indexOf(substr);\r\n        }\r\n\r\n        function testProps(props, prefixed) {\r\n            for (var i in props) {\r\n                var prop = props[i];\r\n                if (!contains(prop, \"-\") && mStyle[prop] !== undefined) {\r\n                    return prefixed == 'pfx' ? prop : true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function testDOMProps(props, obj, elem) {\r\n            for (var i in props) {\r\n                var item = obj[props[i]];\r\n                if (item !== undefined) {\r\n\r\n                    if (elem === false) return props[i];\r\n\r\n                    if (is(item, 'function')) {\r\n                        return item.bind(elem || obj);\r\n                    }\r\n\r\n                    return item;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n\r\n        function testPropsAll(prop, prefixed, elem) {\r\n\r\n            var ucProp = prop.charAt(0).toUpperCase() + prop.slice(1),\r\n                props = (prop + ' ' + cssomPrefixes.join(ucProp + ' ') + ucProp).split(' ');\r\n\r\n            if (is(prefixed, \"string\") || is(prefixed, \"undefined\")) {\r\n                return testProps(props, prefixed);\r\n\r\n            } else {\r\n                props = (prop + ' ' + (domPrefixes).join(ucProp + ' ') + ucProp).split(' ');\r\n                return testDOMProps(props, prefixed, elem);\r\n            }\r\n        }\r\n\r\n        tests['touch'] = function () {\r\n            var bool;\r\n\r\n            if (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch) {\r\n                bool = true;\r\n            } else {\r\n                injectElementWithStyles(['@media (', prefixes.join('touch-enabled),('), mod, ')', '{#modernizr{top:9px;position:absolute}}'].join(''), function (node) {\r\n                    bool = node.offsetTop === 9;\r\n                });\r\n            }\r\n\r\n            return bool;\r\n        };\r\n        tests['csstransforms3d'] = function () {\r\n\r\n            var ret = !!testPropsAll('perspective');\r\n\r\n            if (ret && 'webkitPerspective' in docElement.style) {\r\n\r\n                injectElementWithStyles('@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}', function (node, rule) {\r\n                    ret = node.offsetLeft === 9 && node.offsetHeight === 3;\r\n                });\r\n            }\r\n            return ret;\r\n        };\r\n\r\n\r\n        tests['csstransitions'] = function () {\r\n            return testPropsAll('transition');\r\n        };\r\n\r\n\r\n        for (var feature in tests) {\r\n            if (hasOwnProp(tests, feature)) {\r\n                featureName = feature.toLowerCase();\r\n                Modernizr[featureName] = tests[feature]();\r\n\r\n                classes.push((Modernizr[featureName] ? '' : 'no-') + featureName);\r\n            }\r\n        }\r\n\r\n\r\n        Modernizr.addTest = function (feature, test) {\r\n            if (typeof feature == 'object') {\r\n                for (var key in feature) {\r\n                    if (hasOwnProp(feature, key)) {\r\n                        Modernizr.addTest(key, feature[key]);\r\n                    }\r\n                }\r\n            } else {\r\n\r\n                feature = feature.toLowerCase();\r\n\r\n                if (Modernizr[feature] !== undefined) {\r\n                    return Modernizr;\r\n                }\r\n\r\n                test = typeof test == 'function' ? test() : test;\r\n\r\n                if (typeof enableClasses !== \"undefined\" && enableClasses) {\r\n                    docElement.className += ' ' + (test ? '' : 'no-') + feature;\r\n                }\r\n                Modernizr[feature] = test;\r\n\r\n            }\r\n\r\n            return Modernizr;\r\n        };\r\n\r\n\r\n        setCss('');\r\n        modElem = inputElem = null;\r\n\r\n\r\n        Modernizr._version = version;\r\n\r\n        Modernizr._prefixes = prefixes;\r\n        Modernizr._domPrefixes = domPrefixes;\r\n        Modernizr._cssomPrefixes = cssomPrefixes;\r\n\r\n\r\n        Modernizr.testProp = function (prop) {\r\n            return testProps([prop]);\r\n        };\r\n\r\n        Modernizr.testAllProps = testPropsAll;\r\n        Modernizr.testStyles = injectElementWithStyles;\r\n        Modernizr.prefixed = function (prop, obj, elem) {\r\n            if (!obj) {\r\n                return testPropsAll(prop, 'pfx');\r\n            } else {\r\n                return testPropsAll(prop, obj, elem);\r\n            }\r\n        };\r\n        return Modernizr;\r\n    })(window, document);\r\n\r\n    var fullScreenApi = {\r\n            ok: false,\r\n            is: function () {\r\n                return false;\r\n            },\r\n            request: function () {\r\n            },\r\n            cancel: function () {\r\n            },\r\n            event: '',\r\n            prefix: ''\r\n        },\r\n        browserPrefixes = 'webkit moz o ms khtml'.split(' ');\r\n\r\n// check for native support\r\n    if (typeof document.cancelFullScreen != 'undefined') {\r\n        fullScreenApi.ok = true;\r\n    } else {\r\n        // check for fullscreen support by vendor prefix\r\n        for (var i = 0, il = browserPrefixes.length; i < il; i++) {\r\n            fullScreenApi.prefix = browserPrefixes[i];\r\n            if (typeof document[fullScreenApi.prefix + 'CancelFullScreen'] != 'undefined') {\r\n                fullScreenApi.ok = true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n// update methods to do something useful\r\n    if (fullScreenApi.ok) {\r\n        fullScreenApi.event = fullScreenApi.prefix + 'fullscreenchange';\r\n        fullScreenApi.is = function () {\r\n            switch (this.prefix) {\r\n                case '':\r\n                    return document.fullScreen;\r\n                case 'webkit':\r\n                    return document.webkitIsFullScreen;\r\n                default:\r\n                    return document[this.prefix + 'FullScreen'];\r\n            }\r\n        };\r\n        fullScreenApi.request = function (el) {\r\n            return (this.prefix === '') ? el.requestFullScreen() : el[this.prefix + 'RequestFullScreen']();\r\n        };\r\n        fullScreenApi.cancel = function (el) {\r\n            return (this.prefix === '') ? document.cancelFullScreen() : document[this.prefix + 'CancelFullScreen']();\r\n        };\r\n    }\r\n    /* Bez v1.0.10-g5ae0136\r\n     * http://github.com/rdallasgray/bez\r\n     *\r\n     * A plugin to convert CSS3 cubic-bezier co-ordinates to jQuery-compatible easing functions\r\n     *\r\n     * With thanks to Nikolay Nemshilov for clarification on the cubic-bezier maths\r\n     * See http://st-on-it.blogspot.com/2011/05/calculating-cubic-bezier-function.html\r\n     *\r\n     * Copyright 2011 Robert Dallas Gray. All rights reserved.\r\n     * Provided under the FreeBSD license: https://github.com/rdallasgray/bez/blob/master/LICENSE.txt\r\n     */\r\n    function bez(coOrdArray) {\r\n        var encodedFuncName = \"bez_\" + $.makeArray(arguments).join(\"_\").replace(\".\", \"p\");\r\n        if (typeof $['easing'][encodedFuncName] !== \"function\") {\r\n            var polyBez = function (p1, p2) {\r\n                var A = [null, null],\r\n                    B = [null, null],\r\n                    C = [null, null],\r\n                    bezCoOrd = function (t, ax) {\r\n                        C[ax] = 3 * p1[ax];\r\n                        B[ax] = 3 * (p2[ax] - p1[ax]) - C[ax];\r\n                        A[ax] = 1 - C[ax] - B[ax];\r\n                        return t * (C[ax] + t * (B[ax] + t * A[ax]));\r\n                    },\r\n                    xDeriv = function (t) {\r\n                        return C[0] + t * (2 * B[0] + 3 * A[0] * t);\r\n                    },\r\n                    xForT = function (t) {\r\n                        var x = t, i = 0, z;\r\n                        while (++i < 14) {\r\n                            z = bezCoOrd(x, 0) - t;\r\n                            if (Math.abs(z) < 1e-3) break;\r\n                            x -= z / xDeriv(x);\r\n                        }\r\n                        return x;\r\n                    };\r\n                return function (t) {\r\n                    return bezCoOrd(xForT(t), 1);\r\n                }\r\n            };\r\n            $['easing'][encodedFuncName] = function (x, t, b, c, d) {\r\n                return c * polyBez([coOrdArray[0], coOrdArray[1]], [coOrdArray[2], coOrdArray[3]])(t / d) + b;\r\n            }\r\n        }\r\n        return encodedFuncName;\r\n    }\r\n\r\n    var $WINDOW = $(window),\r\n        $DOCUMENT = $(document),\r\n        $HTML,\r\n        $BODY,\r\n\r\n        QUIRKS_FORCE = location.hash.replace('#', '') === 'quirks',\r\n        TRANSFORMS3D = Modernizr.csstransforms3d,\r\n        CSS3 = TRANSFORMS3D && !QUIRKS_FORCE,\r\n        COMPAT = TRANSFORMS3D || document.compatMode === 'CSS1Compat',\r\n        FULLSCREEN = fullScreenApi.ok,\r\n\r\n        MOBILE = navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),\r\n        SLOW = !CSS3 || MOBILE,\r\n\r\n        MS_POINTER = navigator.msPointerEnabled,\r\n\r\n        WHEEL = \"onwheel\" in document.createElement(\"div\") ? \"wheel\" : document.onmousewheel !== undefined ? \"mousewheel\" : \"DOMMouseScroll\",\r\n\r\n        TOUCH_TIMEOUT = 250,\r\n        TRANSITION_DURATION = 300,\r\n\r\n        SCROLL_LOCK_TIMEOUT = 1400,\r\n\r\n        AUTOPLAY_INTERVAL = 5000,\r\n        MARGIN = 2,\r\n        THUMB_SIZE = 64,\r\n\r\n        WIDTH = 500,\r\n        HEIGHT = 333,\r\n\r\n        STAGE_FRAME_KEY = '$stageFrame',\r\n        NAV_DOT_FRAME_KEY = '$navDotFrame',\r\n        NAV_THUMB_FRAME_KEY = '$navThumbFrame',\r\n\r\n        AUTO = 'auto',\r\n\r\n        BEZIER = bez([.1, 0, .25, 1]),\r\n\r\n        MAX_WIDTH = 1200,\r\n\r\n        /**\r\n         * Number of thumbnails in slide. Calculated only on setOptions and resize.\r\n         * @type {number}\r\n         */\r\n        thumbsPerSlide = 1,\r\n\r\n        OPTIONS = {\r\n\r\n            /**\r\n             * Set width for gallery.\r\n             * Default value - width of first image\r\n             * Number - set value in px\r\n             * String - set value in quotes\r\n             *\r\n             */\r\n            width: null,\r\n\r\n            /**\r\n             * Set min-width for gallery\r\n             *\r\n             */\r\n            minwidth: null,\r\n\r\n            /**\r\n             * Set max-width for gallery\r\n             *\r\n             */\r\n            maxwidth: '100%',\r\n\r\n            /**\r\n             * Set height for gallery\r\n             * Default value - height of first image\r\n             * Number - set value in px\r\n             * String - set value in quotes\r\n             *\r\n             */\r\n            height: null,\r\n\r\n            /**\r\n             * Set min-height for gallery\r\n             *\r\n             */\r\n            minheight: null,\r\n\r\n            /**\r\n             * Set max-height for gallery\r\n             *\r\n             */\r\n            maxheight: null,\r\n\r\n            /**\r\n             * Set proportion ratio for gallery depends of image\r\n             *\r\n             */\r\n            ratio: null, // '16/9' || 500/333 || 1.5\r\n\r\n            margin: MARGIN,\r\n\r\n            nav: 'dots', // 'thumbs' || false\r\n            navposition: 'bottom', // 'top'\r\n            navwidth: null,\r\n            thumbwidth: THUMB_SIZE,\r\n            thumbheight: THUMB_SIZE,\r\n            thumbmargin: MARGIN,\r\n            thumbborderwidth: MARGIN,\r\n\r\n            allowfullscreen: false, // true || 'native'\r\n\r\n            transition: 'slide', // 'crossfade' || 'dissolve'\r\n            clicktransition: null,\r\n            transitionduration: TRANSITION_DURATION,\r\n\r\n            captions: true,\r\n\r\n            startindex: 0,\r\n\r\n            loop: false,\r\n\r\n            autoplay: false,\r\n            stopautoplayontouch: true,\r\n\r\n            keyboard: false,\r\n\r\n            arrows: true,\r\n            click: true,\r\n            swipe: false,\r\n            trackpad: false,\r\n\r\n            shuffle: false,\r\n\r\n            direction: 'ltr', // 'rtl'\r\n\r\n            shadows: true,\r\n\r\n            showcaption: true,\r\n\r\n            /**\r\n             * Set type of thumbnail navigation\r\n             */\r\n            navdir: 'horizontal',\r\n\r\n            /**\r\n             * Set configuration to show or hide arrows in thumb navigation\r\n             */\r\n            navarrows: true,\r\n\r\n            /**\r\n             * Set type of navigation. Can be thumbs or slides\r\n             */\r\n            navtype: 'thumbs'\r\n\r\n        },\r\n\r\n        KEYBOARD_OPTIONS = {\r\n            left: true,\r\n            right: true,\r\n            down: true,\r\n            up: true,\r\n            space: false,\r\n            home: false,\r\n            end: false\r\n        };\r\n\r\n    function noop() {\r\n    }\r\n\r\n    function minMaxLimit(value, min, max) {\r\n        return Math.max(isNaN(min) ? -Infinity : min, Math.min(isNaN(max) ? Infinity : max, value));\r\n    }\r\n\r\n    function readTransform(css, dir) {\r\n        return css.match(/ma/) && css.match(/-?\\d+(?!d)/g)[css.match(/3d/) ?\r\n                (dir === 'vertical' ? 13 : 12) : (dir === 'vertical' ? 5 : 4)\r\n                ]\r\n    }\r\n\r\n    function readPosition($el, dir) {\r\n        if (CSS3) {\r\n            return +readTransform($el.css('transform'), dir);\r\n        } else {\r\n            return +$el.css(dir === 'vertical' ? 'top' : 'left').replace('px', '');\r\n        }\r\n    }\r\n\r\n    function getTranslate(pos, direction) {\r\n        var obj = {};\r\n\r\n        if (CSS3) {\r\n\r\n            switch (direction) {\r\n                case 'vertical':\r\n                    obj.transform = 'translate3d(0, ' + (pos) + 'px,0)';\r\n                    break;\r\n                case 'list':\r\n                    break;\r\n                default :\r\n                    obj.transform = 'translate3d(' + (pos) + 'px,0,0)';\r\n                    break;\r\n            }\r\n        } else {\r\n            direction === 'vertical' ?\r\n                obj.top = pos :\r\n                obj.left = pos;\r\n        }\r\n        return obj;\r\n    }\r\n\r\n    function getDuration(time) {\r\n        return {'transition-duration': time + 'ms'};\r\n    }\r\n\r\n    function unlessNaN(value, alternative) {\r\n        return isNaN(value) ? alternative : value;\r\n    }\r\n\r\n    function numberFromMeasure(value, measure) {\r\n        return unlessNaN(+String(value).replace(measure || 'px', ''));\r\n    }\r\n\r\n    function numberFromPercent(value) {\r\n        return /%$/.test(value) ? numberFromMeasure(value, '%') : undefined;\r\n    }\r\n\r\n    function numberFromWhatever(value, whole) {\r\n        return unlessNaN(numberFromPercent(value) / 100 * whole, numberFromMeasure(value));\r\n    }\r\n\r\n    function measureIsValid(value) {\r\n        return (!isNaN(numberFromMeasure(value)) || !isNaN(numberFromMeasure(value, '%'))) && value;\r\n    }\r\n\r\n    function getPosByIndex(index, side, margin, baseIndex) {\r\n\r\n        return (index - (baseIndex || 0)) * (side + (margin || 0));\r\n    }\r\n\r\n    function getIndexByPos(pos, side, margin, baseIndex) {\r\n        return -Math.round(pos / (side + (margin || 0)) - (baseIndex || 0));\r\n    }\r\n\r\n    function bindTransitionEnd($el) {\r\n        var elData = $el.data();\r\n\r\n        if (elData.tEnd) return;\r\n\r\n        var el = $el[0],\r\n            transitionEndEvent = {\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend',\r\n                msTransition: 'MSTransitionEnd',\r\n                transition: 'transitionend'\r\n            };\r\n        addEvent(el, transitionEndEvent[Modernizr.prefixed('transition')], function (e) {\r\n            elData.tProp && e.propertyName.match(elData.tProp) && elData.onEndFn();\r\n        });\r\n        elData.tEnd = true;\r\n    }\r\n\r\n    function afterTransition($el, property, fn, time) {\r\n        var ok,\r\n            elData = $el.data();\r\n\r\n        if (elData) {\r\n            elData.onEndFn = function () {\r\n                if (ok) return;\r\n                ok = true;\r\n                clearTimeout(elData.tT);\r\n                fn();\r\n            };\r\n            elData.tProp = property;\r\n\r\n            // Passive call, just in case of fail of native transition-end event\r\n            clearTimeout(elData.tT);\r\n            elData.tT = setTimeout(function () {\r\n                elData.onEndFn();\r\n            }, time * 1.5);\r\n\r\n            bindTransitionEnd($el);\r\n        }\r\n    }\r\n\r\n\r\n    function stop($el, pos/*, _001*/) {\r\n        var dir = $el.navdir || 'horizontal';\r\n        if ($el.length) {\r\n            var elData = $el.data();\r\n            if (CSS3) {\r\n                $el.css(getDuration(0));\r\n                elData.onEndFn = noop;\r\n                clearTimeout(elData.tT);\r\n            } else {\r\n                $el.stop();\r\n            }\r\n            var lockedPos = getNumber(pos, function () {\r\n                return readPosition($el, dir);\r\n            });\r\n\r\n            $el.css(getTranslate(lockedPos, dir/*, _001*/));//.width(); // `.width()` for reflow\r\n            return lockedPos;\r\n        }\r\n    }\r\n\r\n    function getNumber() {\r\n        var number;\r\n        for (var _i = 0, _l = arguments.length; _i < _l; _i++) {\r\n            number = _i ? arguments[_i]() : arguments[_i];\r\n            if (typeof number === 'number') {\r\n                break;\r\n            }\r\n        }\r\n\r\n        return number;\r\n    }\r\n\r\n    function edgeResistance(pos, edge) {\r\n        return Math.round(pos + ((edge - pos) / 1.5));\r\n    }\r\n\r\n    function getProtocol() {\r\n        getProtocol.p = getProtocol.p || (location.protocol === 'https:' ? 'https://' : 'http://');\r\n        return getProtocol.p;\r\n    }\r\n\r\n    function parseHref(href) {\r\n        var a = document.createElement('a');\r\n        a.href = href;\r\n        return a;\r\n    }\r\n\r\n    function findVideoId(href, forceVideo) {\r\n        if (typeof href !== 'string') return href;\r\n        href = parseHref(href);\r\n\r\n        var id,\r\n            type;\r\n\r\n        if (href.host.match(/youtube\\.com/) && href.search) {\r\n            //.log();\r\n            id = href.search.split('v=')[1];\r\n            if (id) {\r\n                var ampersandPosition = id.indexOf('&');\r\n                if (ampersandPosition !== -1) {\r\n                    id = id.substring(0, ampersandPosition);\r\n                }\r\n                type = 'youtube';\r\n            }\r\n        } else if (href.host.match(/youtube\\.com|youtu\\.be|youtube-nocookie.com/)) {\r\n            id = href.pathname.replace(/^\\/(embed\\/|v\\/)?/, '').replace(/\\/.*/, '');\r\n            type = 'youtube';\r\n        } else if (href.host.match(/vimeo\\.com/)) {\r\n            type = 'vimeo';\r\n            id = href.pathname.replace(/^\\/(video\\/)?/, '').replace(/\\/.*/, '');\r\n        }\r\n\r\n        if ((!id || !type) && forceVideo) {\r\n            id = href.href;\r\n            type = 'custom';\r\n        }\r\n\r\n        return id ? {id: id, type: type, s: href.search.replace(/^\\?/, ''), p: getProtocol()} : false;\r\n    }\r\n\r\n    function getVideoThumbs(dataFrame, data, fotorama) {\r\n        var img, thumb, video = dataFrame.video;\r\n        if (video.type === 'youtube') {\r\n            thumb = getProtocol() + 'img.youtube.com/vi/' + video.id + '/default.jpg';\r\n            img = thumb.replace(/\\/default.jpg$/, '/hqdefault.jpg');\r\n            dataFrame.thumbsReady = true;\r\n        } else if (video.type === 'vimeo') {\r\n            $.ajax({\r\n                url: getProtocol() + 'vimeo.com/api/v2/video/' + video.id + '.json',\r\n                dataType: 'jsonp',\r\n                success: function (json) {\r\n                    dataFrame.thumbsReady = true;\r\n                    updateData(data, {\r\n                        img: json[0].thumbnail_large,\r\n                        thumb: json[0].thumbnail_small\r\n                    }, dataFrame.i, fotorama);\r\n                }\r\n            });\r\n        } else {\r\n            dataFrame.thumbsReady = true;\r\n        }\r\n\r\n        return {\r\n            img: img,\r\n            thumb: thumb\r\n        }\r\n    }\r\n\r\n    function updateData(data, _dataFrame, i, fotorama) {\r\n        for (var _i = 0, _l = data.length; _i < _l; _i++) {\r\n            var dataFrame = data[_i];\r\n\r\n            if (dataFrame.i === i && dataFrame.thumbsReady) {\r\n                var clear = {videoReady: true};\r\n                clear[STAGE_FRAME_KEY] = clear[NAV_THUMB_FRAME_KEY] = clear[NAV_DOT_FRAME_KEY] = false;\r\n\r\n                fotorama.splice(_i, 1, $.extend(\r\n                    {},\r\n                    dataFrame,\r\n                    clear,\r\n                    _dataFrame\r\n                ));\r\n\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    function getDataFromHtml($el) {\r\n        var data = [];\r\n\r\n        function getDataFromImg($img, imgData, checkVideo) {\r\n            var $child = $img.children('img').eq(0),\r\n                _imgHref = $img.attr('href'),\r\n                _imgSrc = $img.attr('src'),\r\n                _thumbSrc = $child.attr('src'),\r\n                _video = imgData.video,\r\n                video = checkVideo ? findVideoId(_imgHref, _video === true) : false;\r\n\r\n            if (video) {\r\n                _imgHref = false;\r\n            } else {\r\n                video = _video;\r\n            }\r\n\r\n            getDimensions($img, $child, $.extend(imgData, {\r\n                video: video,\r\n                img: imgData.img || _imgHref || _imgSrc || _thumbSrc,\r\n                thumb: imgData.thumb || _thumbSrc || _imgSrc || _imgHref\r\n            }));\r\n        }\r\n\r\n        function getDimensions($img, $child, imgData) {\r\n            var separateThumbFLAG = imgData.thumb && imgData.img !== imgData.thumb,\r\n                width = numberFromMeasure(imgData.width || $img.attr('width')),\r\n                height = numberFromMeasure(imgData.height || $img.attr('height'));\r\n\r\n            $.extend(imgData, {\r\n                width: width,\r\n                height: height,\r\n                thumbratio: getRatio(imgData.thumbratio || (numberFromMeasure(imgData.thumbwidth || ($child && $child.attr('width')) || separateThumbFLAG || width) / numberFromMeasure(imgData.thumbheight || ($child && $child.attr('height')) || separateThumbFLAG || height)))\r\n            });\r\n        }\r\n\r\n        $el.children().each(function () {\r\n            var $this = $(this),\r\n                dataFrame = optionsToLowerCase($.extend($this.data(), {id: $this.attr('id')}));\r\n            if ($this.is('a, img')) {\r\n                getDataFromImg($this, dataFrame, true);\r\n            } else if (!$this.is(':empty')) {\r\n                getDimensions($this, null, $.extend(dataFrame, {\r\n                    html: this,\r\n                    _html: $this.html() // Because of IE\r\n                }));\r\n            } else return;\r\n\r\n            data.push(dataFrame);\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    function isHidden(el) {\r\n        return el.offsetWidth === 0 && el.offsetHeight === 0;\r\n    }\r\n\r\n    function isDetached(el) {\r\n        return !$.contains(document.documentElement, el);\r\n    }\r\n\r\n    function waitFor(test, fn, timeout, i) {\r\n        if (!waitFor.i) {\r\n            waitFor.i = 1;\r\n            waitFor.ii = [true];\r\n        }\r\n\r\n        i = i || waitFor.i;\r\n\r\n        if (typeof waitFor.ii[i] === 'undefined') {\r\n            waitFor.ii[i] = true;\r\n        }\r\n\r\n        if (test()) {\r\n            fn();\r\n        } else {\r\n            waitFor.ii[i] && setTimeout(function () {\r\n                waitFor.ii[i] && waitFor(test, fn, timeout, i);\r\n            }, timeout || 100);\r\n        }\r\n\r\n        return waitFor.i++;\r\n    }\r\n\r\n    waitFor.stop = function (i) {\r\n        waitFor.ii[i] = false;\r\n    };\r\n\r\n    function fit($el, measuresToFit) {\r\n        var elData = $el.data(),\r\n            measures = elData.measures;\r\n\r\n        if (measures && (!elData.l ||\r\n            elData.l.W !== measures.width ||\r\n            elData.l.H !== measures.height ||\r\n            elData.l.r !== measures.ratio ||\r\n            elData.l.w !== measuresToFit.w ||\r\n            elData.l.h !== measuresToFit.h)) {\r\n\r\n            var height = minMaxLimit(measuresToFit.h, 0, measures.height),\r\n                width = height * measures.ratio;\r\n\r\n            UTIL.setRatio($el, width, height);\r\n\r\n            elData.l = {\r\n                W: measures.width,\r\n                H: measures.height,\r\n                r: measures.ratio,\r\n                w: measuresToFit.w,\r\n                h: measuresToFit.h\r\n            };\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    function setStyle($el, style) {\r\n        var el = $el[0];\r\n        if (el.styleSheet) {\r\n            el.styleSheet.cssText = style;\r\n        } else {\r\n            $el.html(style);\r\n        }\r\n    }\r\n\r\n    function findShadowEdge(pos, min, max, dir) {\r\n        return min === max ? false :\r\n            dir === 'vertical' ?\r\n                (pos <= min ? 'top' : pos >= max ? 'bottom' : 'top bottom') :\r\n                (pos <= min ? 'left' : pos >= max ? 'right' : 'left right');\r\n    }\r\n\r\n    function smartClick($el, fn, _options) {\r\n        _options = _options || {};\r\n\r\n        $el.each(function () {\r\n            var $this = $(this),\r\n                thisData = $this.data(),\r\n                startEvent;\r\n\r\n            if (thisData.clickOn) return;\r\n\r\n            thisData.clickOn = true;\r\n\r\n            $.extend(touch($this, {\r\n                onStart: function (e) {\r\n                    startEvent = e;\r\n                    (_options.onStart || noop).call(this, e);\r\n                },\r\n                onMove: _options.onMove || noop,\r\n                onTouchEnd: _options.onTouchEnd || noop,\r\n                onEnd: function (result) {\r\n                    if (result.moved) return;\r\n                    fn.call(this, startEvent);\r\n                }\r\n            }), {noMove: true});\r\n        });\r\n    }\r\n\r\n    function div(classes, child) {\r\n        return '<div class=\"' + classes + '\">' + (child || '') + '</div>';\r\n    }\r\n\r\n\r\n    /**\r\n     * Function transforming into valid classname\r\n     * @param className - name of the class\r\n     * @returns {string} - dom format of class name\r\n     */\r\n    function cls(className) {\r\n        return \".\" + className;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param {json-object} videoItem Parsed object from data.video item or href from link a in input dates\r\n     * @returns {string} DOM view of video iframe\r\n     */\r\n    function createVideoFrame(videoItem) {\r\n        var frame = '<iframe src=\"' + videoItem.p + videoItem.type + '.com/embed/' + videoItem.id + '\" frameborder=\"0\" allowfullscreen></iframe>';\r\n        return frame;\r\n    }\r\n\r\n// Fisher\u00e2\u0080\u0093Yates Shuffle\r\n// http://bost.ocks.org/mike/shuffle/\r\n    function shuffle(array) {\r\n        // While there remain elements to shuffle\r\n        var l = array.length;\r\n        while (l) {\r\n            // Pick a remaining element\r\n            var i = Math.floor(Math.random() * l--);\r\n\r\n            // And swap it with the current element\r\n            var t = array[l];\r\n            array[l] = array[i];\r\n            array[i] = t;\r\n        }\r\n\r\n        return array;\r\n    }\r\n\r\n    function clone(array) {\r\n        return Object.prototype.toString.call(array) == '[object Array]'\r\n            && $.map(array, function (frame) {\r\n                return $.extend({}, frame);\r\n            });\r\n    }\r\n\r\n    function lockScroll($el, left, top) {\r\n        $el\r\n            .scrollLeft(left || 0)\r\n            .scrollTop(top || 0);\r\n    }\r\n\r\n    function optionsToLowerCase(options) {\r\n        if (options) {\r\n            var opts = {};\r\n            $.each(options, function (key, value) {\r\n                opts[key.toLowerCase()] = value;\r\n            });\r\n\r\n            return opts;\r\n        }\r\n    }\r\n\r\n    function getRatio(_ratio) {\r\n        if (!_ratio) return;\r\n        var ratio = +_ratio;\r\n        if (!isNaN(ratio)) {\r\n            return ratio;\r\n        } else {\r\n            ratio = _ratio.split('/');\r\n            return +ratio[0] / +ratio[1] || undefined;\r\n        }\r\n    }\r\n\r\n    function addEvent(el, e, fn, bool) {\r\n        if (!e) return;\r\n        el.addEventListener ? el.addEventListener(e, fn, !!bool) : el.attachEvent('on' + e, fn);\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param position guess position for navShaft\r\n     * @param restriction object contains min and max values for position\r\n     * @returns {*} filtered value of position\r\n     */\r\n    function validateRestrictions(position, restriction) {\r\n        if (position > restriction.max) {\r\n            position = restriction.max;\r\n        } else {\r\n            if (position < restriction.min) {\r\n                position = restriction.min;\r\n            }\r\n        }\r\n        return position;\r\n    }\r\n\r\n    function validateSlidePos(opt, navShaftTouchTail, guessIndex, offsetNav, $guessNavFrame, $navWrap, dir) {\r\n        var position,\r\n            size,\r\n            wrapSize;\r\n        if (dir === 'horizontal') {\r\n            size = opt.thumbwidth;\r\n            wrapSize = $navWrap.width();\r\n        } else {\r\n            size = opt.thumbheight;\r\n            wrapSize = $navWrap.height();\r\n        }\r\n        if ( (size + opt.margin) * (guessIndex + 1) >= (wrapSize - offsetNav) ) {\r\n            if (dir === 'horizontal') {\r\n                position = -$guessNavFrame.position().left;\r\n            } else {\r\n                position = -$guessNavFrame.position().top;\r\n            }\r\n        } else {\r\n            if ((size + opt.margin) * (guessIndex) <= Math.abs(offsetNav)) {\r\n                if (dir === 'horizontal') {\r\n                    position = -$guessNavFrame.position().left + wrapSize - (size + opt.margin);\r\n                } else {\r\n                    position = -$guessNavFrame.position().top + wrapSize - (size + opt.margin);\r\n                }\r\n            } else {\r\n                position = offsetNav;\r\n            }\r\n        }\r\n        position = validateRestrictions(position, navShaftTouchTail);\r\n\r\n        return position || 0;\r\n    }\r\n\r\n    function elIsDisabled(el) {\r\n        return !!el.getAttribute('disabled');\r\n    }\r\n\r\n    function disableAttr(FLAG, disable) {\r\n        if (disable) {\r\n            return {disabled: FLAG};\r\n        } else {\r\n            return {tabindex: FLAG * -1 + '', disabled: FLAG};\r\n\r\n        }\r\n    }\r\n\r\n    function addEnterUp(el, fn) {\r\n        addEvent(el, 'keyup', function (e) {\r\n            elIsDisabled(el) || e.keyCode == 13 && fn.call(el, e);\r\n        });\r\n    }\r\n\r\n    function addFocus(el, fn) {\r\n        addEvent(el, 'focus', el.onfocusin = function (e) {\r\n            fn.call(el, e);\r\n        }, true);\r\n    }\r\n\r\n    function stopEvent(e, stopPropagation) {\r\n        e.preventDefault ? e.preventDefault() : (e.returnValue = false);\r\n        stopPropagation && e.stopPropagation && e.stopPropagation();\r\n    }\r\n\r\n    function getDirectionSign(forward) {\r\n        return forward ? '>' : '<';\r\n    }\r\n\r\n    var UTIL = (function () {\r\n\r\n        function setRatioClass($el, wh, ht) {\r\n            var rateImg = wh / ht;\r\n\r\n            if (rateImg <= 1) {\r\n                $el.parent().removeClass(horizontalImageClass);\r\n                $el.parent().addClass(verticalImageClass);\r\n            } else {\r\n                $el.parent().removeClass(verticalImageClass);\r\n                $el.parent().addClass(horizontalImageClass);\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Set specific attribute in thumbnail template\r\n         * @param $frame DOM item of specific thumbnail\r\n         * @param value Value which must be setted into specific attribute\r\n         * @param searchAttr Name of attribute where value must be included\r\n         */\r\n        function setThumbAttr($frame, value, searchAttr) {\r\n            var attr = searchAttr;\r\n\r\n            if (!$frame.attr(attr) && $frame.attr(attr) !== undefined) {\r\n                $frame.attr(attr, value);\r\n            }\r\n\r\n            if ($frame.find(\"[\" + attr + \"]\").length) {\r\n                $frame.find(\"[\" + attr + \"]\")\r\n                    .each(function () {\r\n                        $(this).attr(attr, value);\r\n                    });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Method describe behavior need to render caption on preview or not\r\n         * @param frameItem specific item from data\r\n         * @param isExpected {bool} if items with caption need render them or not\r\n         * @returns {boolean} if true then caption should be rendered\r\n         */\r\n        function isExpectedCaption(frameItem, isExpected, undefined) {\r\n            var expected = false,\r\n                frameExpected;\r\n\r\n            frameItem.showCaption === undefined || frameItem.showCaption === true ? frameExpected = true : frameExpected = false;\r\n\r\n            if (!isExpected) {\r\n                return false;\r\n            }\r\n\r\n            if (frameItem.caption && frameExpected) {\r\n                expected = true;\r\n            }\r\n\r\n            return expected;\r\n        }\r\n\r\n        return {\r\n            setRatio: setRatioClass,\r\n            setThumbAttr: setThumbAttr,\r\n            isExpectedCaption: isExpectedCaption\r\n        };\r\n\r\n    }(UTIL || {}, jQuery));\r\n\r\n    function slide($el, options) {\r\n        var elData = $el.data(),\r\n            elPos = Math.round(options.pos),\r\n            onEndFn = function () {\r\n                if (elData && elData.sliding) {\r\n                    elData.sliding = false;\r\n                }\r\n                (options.onEnd || noop)();\r\n            };\r\n\r\n        if (typeof options.overPos !== 'undefined' && options.overPos !== options.pos) {\r\n            elPos = options.overPos;\r\n        }\r\n\r\n        var translate = $.extend(getTranslate(elPos, options.direction), options.width && {width: options.width}, options.height && {height: options.height});\r\n        if (elData && elData.sliding) {\r\n            elData.sliding = true;\r\n        }\r\n\r\n        if (CSS3) {\r\n            $el.css($.extend(getDuration(options.time), translate));\r\n\r\n            if (options.time > 10) {\r\n                afterTransition($el, 'transform', onEndFn, options.time);\r\n            } else {\r\n                onEndFn();\r\n            }\r\n        } else {\r\n            $el.stop().animate(translate, options.time, BEZIER, onEndFn);\r\n        }\r\n    }\r\n\r\n    function fade($el1, $el2, $frames, options, fadeStack, chain) {\r\n        var chainedFLAG = typeof chain !== 'undefined';\r\n        if (!chainedFLAG) {\r\n            fadeStack.push(arguments);\r\n            Array.prototype.push.call(arguments, fadeStack.length);\r\n            if (fadeStack.length > 1) return;\r\n        }\r\n\r\n        $el1 = $el1 || $($el1);\r\n        $el2 = $el2 || $($el2);\r\n\r\n        var _$el1 = $el1[0],\r\n            _$el2 = $el2[0],\r\n            crossfadeFLAG = options.method === 'crossfade',\r\n            onEndFn = function () {\r\n                if (!onEndFn.done) {\r\n                    onEndFn.done = true;\r\n                    var args = (chainedFLAG || fadeStack.shift()) && fadeStack.shift();\r\n                    args && fade.apply(this, args);\r\n                    (options.onEnd || noop)(!!args);\r\n                }\r\n            },\r\n            time = options.time / (chain || 1);\r\n\r\n        $frames.removeClass(fadeRearClass + ' ' + fadeFrontClass);\r\n\r\n        $el1\r\n            .stop()\r\n            .addClass(fadeRearClass);\r\n        $el2\r\n            .stop()\r\n            .addClass(fadeFrontClass);\r\n\r\n        crossfadeFLAG && _$el2 && $el1.fadeTo(0, 0);\r\n\r\n        $el1.fadeTo(crossfadeFLAG ? time : 0, 1, crossfadeFLAG && onEndFn);\r\n        $el2.fadeTo(time, 0, onEndFn);\r\n\r\n        (_$el1 && crossfadeFLAG) || _$el2 || onEndFn();\r\n    }\r\n\r\n    var lastEvent,\r\n        moveEventType,\r\n        preventEvent,\r\n        preventEventTimeout,\r\n        dragDomEl;\r\n\r\n    function extendEvent(e) {\r\n        var touch = (e.touches || [])[0] || e;\r\n        e._x = touch.pageX || touch.originalEvent.pageX;\r\n        e._y = touch.clientY || touch.originalEvent.clientY;\r\n        e._now = $.now();\r\n    }\r\n\r\n    function touch($el, options) {\r\n        var el = $el[0],\r\n            tail = {},\r\n            touchEnabledFLAG,\r\n            startEvent,\r\n            $target,\r\n            controlTouch,\r\n            touchFLAG,\r\n            targetIsSelectFLAG,\r\n            targetIsLinkFlag,\r\n            tolerance,\r\n            moved;\r\n\r\n        function onStart(e) {\r\n            $target = $(e.target);\r\n            tail.checked = targetIsSelectFLAG = targetIsLinkFlag = moved = false;\r\n\r\n            if (touchEnabledFLAG\r\n                || tail.flow\r\n                || (e.touches && e.touches.length > 1)\r\n                || e.which > 1\r\n                || (lastEvent && lastEvent.type !== e.type && preventEvent)\r\n                || (targetIsSelectFLAG = options.select && $target.is(options.select, el))) return targetIsSelectFLAG;\r\n\r\n            touchFLAG = e.type === 'touchstart';\r\n            targetIsLinkFlag = $target.is('a, a *', el);\r\n            controlTouch = tail.control;\r\n\r\n            tolerance = (tail.noMove || tail.noSwipe || controlTouch) ? 16 : !tail.snap ? 4 : 0;\r\n\r\n            extendEvent(e);\r\n\r\n            startEvent = lastEvent = e;\r\n            moveEventType = e.type.replace(/down|start/, 'move').replace(/Down/, 'Move');\r\n\r\n            (options.onStart || noop).call(el, e, {control: controlTouch, $target: $target});\r\n\r\n            touchEnabledFLAG = tail.flow = true;\r\n\r\n            if (!touchFLAG || tail.go) stopEvent(e);\r\n        }\r\n\r\n        function onMove(e) {\r\n            if ((e.touches && e.touches.length > 1)\r\n                || (MS_POINTER && !e.isPrimary)\r\n                || moveEventType !== e.type\r\n                || !touchEnabledFLAG) {\r\n                touchEnabledFLAG && onEnd();\r\n                (options.onTouchEnd || noop)();\r\n                return;\r\n            }\r\n\r\n            extendEvent(e);\r\n\r\n            var xDiff = Math.abs(e._x - startEvent._x), // opt _x \u00e2\u0086\u0092 _pageX\r\n                yDiff = Math.abs(e._y - startEvent._y),\r\n                xyDiff = xDiff - yDiff,\r\n                xWin = (tail.go || tail.x || xyDiff >= 0) && !tail.noSwipe,\r\n                yWin = xyDiff < 0;\r\n\r\n            if (touchFLAG && !tail.checked) {\r\n                if (touchEnabledFLAG = xWin) {\r\n                    stopEvent(e);\r\n                }\r\n            } else {\r\n                stopEvent(e);\r\n                (options.onMove || noop).call(el, e, {touch: touchFLAG});\r\n            }\r\n\r\n            if (!moved && Math.sqrt(Math.pow(xDiff, 2) + Math.pow(yDiff, 2)) > tolerance) {\r\n                moved = true;\r\n            }\r\n\r\n            tail.checked = tail.checked || xWin || yWin;\r\n        }\r\n\r\n        function onEnd(e) {\r\n            (options.onTouchEnd || noop)();\r\n\r\n            var _touchEnabledFLAG = touchEnabledFLAG;\r\n            tail.control = touchEnabledFLAG = false;\r\n\r\n            if (_touchEnabledFLAG) {\r\n                tail.flow = false;\r\n            }\r\n\r\n            if (!_touchEnabledFLAG || (targetIsLinkFlag && !tail.checked)) return;\r\n\r\n            e && stopEvent(e);\r\n\r\n            preventEvent = true;\r\n            clearTimeout(preventEventTimeout);\r\n            preventEventTimeout = setTimeout(function () {\r\n                preventEvent = false;\r\n            }, 1000);\r\n\r\n            (options.onEnd || noop).call(el, {\r\n                moved: moved,\r\n                $target: $target,\r\n                control: controlTouch,\r\n                touch: touchFLAG,\r\n                startEvent: startEvent,\r\n                aborted: !e || e.type === 'MSPointerCancel'\r\n            });\r\n        }\r\n\r\n        function onOtherStart() {\r\n            if (tail.flow) return;\r\n            tail.flow = true;\r\n        }\r\n\r\n        function onOtherEnd() {\r\n            if (!tail.flow) return;\r\n            tail.flow = false;\r\n        }\r\n\r\n        if (MS_POINTER) {\r\n            addEvent(el, 'MSPointerDown', onStart);\r\n            addEvent(document, 'MSPointerMove', onMove);\r\n            addEvent(document, 'MSPointerCancel', onEnd);\r\n            addEvent(document, 'MSPointerUp', onEnd);\r\n        } else {\r\n            addEvent(el, 'touchstart', onStart);\r\n            addEvent(el, 'touchmove', onMove);\r\n            addEvent(el, 'touchend', onEnd);\r\n\r\n            addEvent(document, 'touchstart', onOtherStart);\r\n            addEvent(document, 'touchend', onOtherEnd);\r\n            addEvent(document, 'touchcancel', onOtherEnd);\r\n\r\n            $WINDOW.on('scroll', onOtherEnd);\r\n\r\n            $el.on('mousedown pointerdown', onStart);\r\n            $DOCUMENT\r\n                .on('mousemove pointermove', onMove)\r\n                .on('mouseup pointerup', onEnd);\r\n        }\r\n        if (Modernizr.touch) {\r\n            dragDomEl = 'a';\r\n        } else {\r\n            dragDomEl = 'div';\r\n        }\r\n        $el.on('click', dragDomEl, function (e) {\r\n            tail.checked && stopEvent(e);\r\n        });\r\n\r\n        return tail;\r\n    }\r\n\r\n    function moveOnTouch($el, options) {\r\n        var el = $el[0],\r\n            elData = $el.data(),\r\n            tail = {},\r\n            startCoo,\r\n            coo,\r\n            startElPos,\r\n            moveElPos,\r\n            edge,\r\n            moveTrack,\r\n            startTime,\r\n            endTime,\r\n            min,\r\n            max,\r\n            snap,\r\n            dir,\r\n            slowFLAG,\r\n            controlFLAG,\r\n            moved,\r\n            tracked;\r\n\r\n        function startTracking(e, noStop) {\r\n            tracked = true;\r\n            startCoo = coo = (dir === 'vertical') ? e._y : e._x;\r\n            startTime = e._now;\r\n\r\n            moveTrack = [\r\n                [startTime, startCoo]\r\n            ];\r\n\r\n            startElPos = moveElPos = tail.noMove || noStop ? 0 : stop($el, (options.getPos || noop)()/*, options._001*/);\r\n\r\n            (options.onStart || noop).call(el, e);\r\n        }\r\n\r\n        function onStart(e, result) {\r\n            min = tail.min;\r\n            max = tail.max;\r\n            snap = tail.snap,\r\n                dir = tail.direction || 'horizontal',\r\n                $el.navdir = dir;\r\n\r\n            slowFLAG = e.altKey;\r\n            tracked = moved = false;\r\n\r\n            controlFLAG = result.control;\r\n\r\n            if (!controlFLAG && !elData.sliding) {\r\n                startTracking(e);\r\n            }\r\n        }\r\n\r\n        function onMove(e, result) {\r\n            if (!tail.noSwipe) {\r\n                if (!tracked) {\r\n                    startTracking(e);\r\n                }\r\n                coo = (dir === 'vertical') ? e._y : e._x;\r\n\r\n                moveTrack.push([e._now, coo]);\r\n\r\n                moveElPos = startElPos - (startCoo - coo);\r\n\r\n                edge = findShadowEdge(moveElPos, min, max, dir);\r\n\r\n                if (moveElPos <= min) {\r\n                    moveElPos = edgeResistance(moveElPos, min);\r\n                } else if (moveElPos >= max) {\r\n                    moveElPos = edgeResistance(moveElPos, max);\r\n                }\r\n\r\n                if (!tail.noMove) {\r\n                    $el.css(getTranslate(moveElPos, dir));\r\n                    if (!moved) {\r\n                        moved = true;\r\n                        // only for mouse\r\n                        result.touch || MS_POINTER || $el.addClass(grabbingClass);\r\n                    }\r\n\r\n                    (options.onMove || noop).call(el, e, {pos: moveElPos, edge: edge});\r\n                }\r\n            }\r\n        }\r\n\r\n        function onEnd(result) {\r\n            if (tail.noSwipe && result.moved) return;\r\n\r\n            if (!tracked) {\r\n                startTracking(result.startEvent, true);\r\n            }\r\n\r\n            result.touch || MS_POINTER || $el.removeClass(grabbingClass);\r\n\r\n            endTime = $.now();\r\n\r\n            var _backTimeIdeal = endTime - TOUCH_TIMEOUT,\r\n                _backTime,\r\n                _timeDiff,\r\n                _timeDiffLast,\r\n                backTime = null,\r\n                backCoo,\r\n                virtualPos,\r\n                limitPos,\r\n                newPos,\r\n                overPos,\r\n                time = TRANSITION_DURATION,\r\n                speed,\r\n                friction = options.friction;\r\n\r\n            for (var _i = moveTrack.length - 1; _i >= 0; _i--) {\r\n                _backTime = moveTrack[_i][0];\r\n                _timeDiff = Math.abs(_backTime - _backTimeIdeal);\r\n                if (backTime === null || _timeDiff < _timeDiffLast) {\r\n                    backTime = _backTime;\r\n                    backCoo = moveTrack[_i][1];\r\n                } else if (backTime === _backTimeIdeal || _timeDiff > _timeDiffLast) {\r\n                    break;\r\n                }\r\n                _timeDiffLast = _timeDiff;\r\n            }\r\n\r\n            newPos = minMaxLimit(moveElPos, min, max);\r\n\r\n            var cooDiff = backCoo - coo,\r\n                forwardFLAG = cooDiff >= 0,\r\n                timeDiff = endTime - backTime,\r\n                longTouchFLAG = timeDiff > TOUCH_TIMEOUT,\r\n                swipeFLAG = !longTouchFLAG && moveElPos !== startElPos && newPos === moveElPos;\r\n\r\n            if (snap) {\r\n                newPos = minMaxLimit(Math[swipeFLAG ? (forwardFLAG ? 'floor' : 'ceil') : 'round'](moveElPos / snap) * snap, min, max);\r\n                min = max = newPos;\r\n            }\r\n\r\n            if (swipeFLAG && (snap || newPos === moveElPos)) {\r\n                speed = -(cooDiff / timeDiff);\r\n                time *= minMaxLimit(Math.abs(speed), options.timeLow, options.timeHigh);\r\n                virtualPos = Math.round(moveElPos + speed * time / friction);\r\n\r\n                if (!snap) {\r\n                    newPos = virtualPos;\r\n                }\r\n\r\n                if (!forwardFLAG && virtualPos > max || forwardFLAG && virtualPos < min) {\r\n                    limitPos = forwardFLAG ? min : max;\r\n                    overPos = virtualPos - limitPos;\r\n                    if (!snap) {\r\n                        newPos = limitPos;\r\n                    }\r\n                    overPos = minMaxLimit(newPos + overPos * .03, limitPos - 50, limitPos + 50);\r\n                    time = Math.abs((moveElPos - overPos) / (speed / friction));\r\n                }\r\n            }\r\n\r\n            time *= slowFLAG ? 10 : 1;\r\n\r\n            (options.onEnd || noop).call(el, $.extend(result, {\r\n                moved: result.moved || longTouchFLAG && snap,\r\n                pos: moveElPos,\r\n                newPos: newPos,\r\n                overPos: overPos,\r\n                time: time,\r\n                dir: dir\r\n            }));\r\n        }\r\n\r\n        tail = $.extend(touch(options.$wrap, $.extend({}, options, {\r\n            onStart: onStart,\r\n            onMove: onMove,\r\n            onEnd: onEnd\r\n        })), tail);\r\n\r\n        return tail;\r\n    }\r\n\r\n    function wheel($el, options) {\r\n        var el = $el[0],\r\n            lockFLAG,\r\n            lastDirection,\r\n            lastNow,\r\n            tail = {\r\n                prevent: {}\r\n            };\r\n\r\n        addEvent(el, WHEEL, function (e) {\r\n            var yDelta = e.wheelDeltaY || -1 * e.deltaY || 0,\r\n                xDelta = e.wheelDeltaX || -1 * e.deltaX || 0,\r\n                xWin = Math.abs(xDelta) && !Math.abs(yDelta),\r\n                direction = getDirectionSign(xDelta < 0),\r\n                sameDirection = lastDirection === direction,\r\n                now = $.now(),\r\n                tooFast = now - lastNow < TOUCH_TIMEOUT;\r\n\r\n            lastDirection = direction;\r\n            lastNow = now;\r\n\r\n            if (!xWin || !tail.ok || tail.prevent[direction] && !lockFLAG) {\r\n                return;\r\n            } else {\r\n                stopEvent(e, true);\r\n                if (lockFLAG && sameDirection && tooFast) {\r\n                    return;\r\n                }\r\n            }\r\n\r\n            if (options.shift) {\r\n                lockFLAG = true;\r\n                clearTimeout(tail.t);\r\n                tail.t = setTimeout(function () {\r\n                    lockFLAG = false;\r\n                }, SCROLL_LOCK_TIMEOUT);\r\n            }\r\n\r\n            (options.onEnd || noop)(e, options.shift ? direction : xDelta);\r\n\r\n        });\r\n\r\n        return tail;\r\n    }\r\n\r\n    jQuery.Fotorama = function ($fotorama, opts) {\r\n        $HTML = $('html');\r\n        $BODY = $('body');\r\n\r\n        var that = this,\r\n            stamp = $.now(),\r\n            stampClass = _fotoramaClass + stamp,\r\n            fotorama = $fotorama[0],\r\n            data,\r\n            dataFrameCount = 1,\r\n            fotoramaData = $fotorama.data(),\r\n            size,\r\n\r\n            $style = $('<style></style>'),\r\n\r\n            $anchor = $(div(hiddenClass)),\r\n            $wrap = $fotorama.find(cls(wrapClass)),\r\n            $stage = $wrap.find(cls(stageClass)),\r\n            stage = $stage[0],\r\n\r\n            $stageShaft = $fotorama.find(cls(stageShaftClass)),\r\n            $stageFrame = $(),\r\n            $arrPrev = $fotorama.find(cls(arrPrevClass)),\r\n            $arrNext = $fotorama.find(cls(arrNextClass)),\r\n            $arrs = $fotorama.find(cls(arrClass)),\r\n            $navWrap = $fotorama.find(cls(navWrapClass)),\r\n            $nav = $navWrap.find(cls(navClass)),\r\n            $navShaft = $nav.find(cls(navShaftClass)),\r\n            $navFrame,\r\n            $navDotFrame = $(),\r\n            $navThumbFrame = $(),\r\n\r\n            stageShaftData = $stageShaft.data(),\r\n            navShaftData = $navShaft.data(),\r\n\r\n            $thumbBorder = $fotorama.find(cls(thumbBorderClass)),\r\n            $thumbArrLeft = $fotorama.find(cls(thumbArrLeft)),\r\n            $thumbArrRight = $fotorama.find(cls(thumbArrRight)),\r\n\r\n            $fullscreenIcon = $fotorama.find(cls(fullscreenIconClass)),\r\n            fullscreenIcon = $fullscreenIcon[0],\r\n            $videoPlay = $(div(videoPlayClass)),\r\n            $videoClose = $fotorama.find(cls(videoCloseClass)),\r\n            videoClose = $videoClose[0],\r\n\r\n            $spinner = $fotorama.find(cls(fotoramaSpinnerClass)),\r\n\r\n            $videoPlaying,\r\n\r\n            activeIndex = false,\r\n            activeFrame,\r\n            activeIndexes,\r\n            repositionIndex,\r\n            dirtyIndex,\r\n            lastActiveIndex,\r\n            prevIndex,\r\n            nextIndex,\r\n            nextAutoplayIndex,\r\n            startIndex,\r\n\r\n            o_loop,\r\n            o_nav,\r\n            o_navThumbs,\r\n            o_navTop,\r\n            o_allowFullScreen,\r\n            o_nativeFullScreen,\r\n            o_fade,\r\n            o_thumbSide,\r\n            o_thumbSide2,\r\n            o_transitionDuration,\r\n            o_transition,\r\n            o_shadows,\r\n            o_rtl,\r\n            o_keyboard,\r\n            lastOptions = {},\r\n\r\n            measures = {},\r\n            measuresSetFLAG,\r\n\r\n            stageShaftTouchTail = {},\r\n            stageWheelTail = {},\r\n            navShaftTouchTail = {},\r\n            navWheelTail = {},\r\n\r\n            scrollTop,\r\n            scrollLeft,\r\n\r\n            showedFLAG,\r\n            pausedAutoplayFLAG,\r\n            stoppedAutoplayFLAG,\r\n\r\n            toDeactivate = {},\r\n            toDetach = {},\r\n\r\n            measuresStash,\r\n\r\n            touchedFLAG,\r\n\r\n            hoverFLAG,\r\n\r\n            navFrameKey,\r\n            stageLeft = 0,\r\n\r\n            fadeStack = [];\r\n\r\n        $wrap[STAGE_FRAME_KEY] = $('<div class=\"' + stageFrameClass + '\"></div>');\r\n        $wrap[NAV_THUMB_FRAME_KEY] = $($.Fotorama.jst.thumb());\r\n        $wrap[NAV_DOT_FRAME_KEY] = $($.Fotorama.jst.dots());\r\n\r\n        toDeactivate[STAGE_FRAME_KEY] = [];\r\n        toDeactivate[NAV_THUMB_FRAME_KEY] = [];\r\n        toDeactivate[NAV_DOT_FRAME_KEY] = [];\r\n        toDetach[STAGE_FRAME_KEY] = {};\r\n\r\n        $wrap.addClass(CSS3 ? wrapCss3Class : wrapCss2Class);\r\n\r\n        fotoramaData.fotorama = this;\r\n\r\n        /**\r\n         * Search video items in incomming data and transform object for video layout.\r\n         *\r\n         */\r\n        function checkForVideo() {\r\n            $.each(data, function (i, dataFrame) {\r\n                if (!dataFrame.i) {\r\n                    dataFrame.i = dataFrameCount++;\r\n                    var video = findVideoId(dataFrame.video, true);\r\n                    if (video) {\r\n                        var thumbs = {};\r\n                        dataFrame.video = video;\r\n                        if (!dataFrame.img && !dataFrame.thumb) {\r\n                            thumbs = getVideoThumbs(dataFrame, data, that);\r\n                        } else {\r\n                            dataFrame.thumbsReady = true;\r\n                        }\r\n                        updateData(data, {img: thumbs.img, thumb: thumbs.thumb}, dataFrame.i, that);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function allowKey(key) {\r\n            return o_keyboard[key];\r\n        }\r\n\r\n        function setStagePosition() {\r\n            if ($stage !== undefined) {\r\n\r\n                if (opts.navdir == 'vertical') {\r\n                    var padding = opts.thumbwidth + opts.thumbmargin;\r\n\r\n                    $stage.css('left', padding);\r\n                    $arrNext.css('right', padding);\r\n                    $fullscreenIcon.css('right', padding);\r\n                    $wrap.css('width', $wrap.css('width') + padding);\r\n                    $stageShaft.css('max-width', $wrap.width() - padding);\r\n                } else {\r\n                    $stage.css('left', '');\r\n                    $arrNext.css('right', '');\r\n                    $fullscreenIcon.css('right', '');\r\n                    $wrap.css('width', $wrap.css('width') + padding);\r\n                    $stageShaft.css('max-width', '');\r\n                }\r\n            }\r\n        }\r\n\r\n        function bindGlobalEvents(FLAG) {\r\n            var keydownCommon = 'keydown.' + _fotoramaClass,\r\n                localStamp = _fotoramaClass + stamp,\r\n                keydownLocal = 'keydown.' + localStamp,\r\n                keyupLocal = 'keyup.' + localStamp,\r\n                resizeLocal = 'resize.' + localStamp + ' ' + 'orientationchange.' + localStamp,\r\n                showParams;\r\n\r\n            if (FLAG) {\r\n                $DOCUMENT\r\n                    .on(keydownLocal, function (e) {\r\n                        var catched,\r\n                            index;\r\n\r\n                        if ($videoPlaying && e.keyCode === 27) {\r\n                            catched = true;\r\n                            unloadVideo($videoPlaying, true, true);\r\n                        } else if (that.fullScreen || (opts.keyboard && !that.index)) {\r\n                            if (e.keyCode === 27) {\r\n                                catched = true;\r\n                                that.cancelFullScreen();\r\n                            } else if ((e.shiftKey && e.keyCode === 32 && allowKey('space')) || (e.keyCode === 37 && allowKey('left')) || (e.keyCode === 38 && allowKey('up') && $(':focus').attr('data-gallery-role'))) {\r\n                                that.longPress.progress();\r\n                                index = '<';\r\n                            } else if ((e.keyCode === 32 && allowKey('space')) || (e.keyCode === 39 && allowKey('right')) || (e.keyCode === 40 && allowKey('down') && $(':focus').attr('data-gallery-role'))) {\r\n                                that.longPress.progress();\r\n                                index = '>';\r\n                            } else if (e.keyCode === 36 && allowKey('home')) {\r\n                                that.longPress.progress();\r\n                                index = '<<';\r\n                            } else if (e.keyCode === 35 && allowKey('end')) {\r\n                                that.longPress.progress();\r\n                                index = '>>';\r\n                            }\r\n                        }\r\n\r\n                        (catched || index) && stopEvent(e);\r\n                        showParams = {index: index, slow: e.altKey, user: true};\r\n                        index && (that.longPress.inProgress ?\r\n                            that.showWhileLongPress(showParams) :\r\n                            that.show(showParams));\r\n                    });\r\n\r\n                if (FLAG) {\r\n                    $DOCUMENT\r\n                        .on(keyupLocal, function (e) {\r\n                            if (that.longPress.inProgress) {\r\n                                that.showEndLongPress({user: true});\r\n                            }\r\n                            that.longPress.reset();\r\n                        });\r\n                }\r\n\r\n                if (!that.index) {\r\n                    $DOCUMENT\r\n                        .off(keydownCommon)\r\n                        .on(keydownCommon, 'textarea, input, select', function (e) {\r\n                            !$BODY.hasClass(_fullscreenClass) && e.stopPropagation();\r\n                        });\r\n                }\r\n\r\n                $WINDOW.on(resizeLocal, that.resize);\r\n            } else {\r\n                $DOCUMENT.off(keydownLocal);\r\n                $WINDOW.off(resizeLocal);\r\n            }\r\n        }\r\n\r\n        function appendElements(FLAG) {\r\n            if (FLAG === appendElements.f) return;\r\n\r\n            if (FLAG) {\r\n                $fotorama\r\n                    .addClass(_fotoramaClass + ' ' + stampClass)\r\n                    .before($anchor)\r\n                    .before($style);\r\n                addInstance(that);\r\n            } else {\r\n                $anchor.detach();\r\n                $style.detach();\r\n                $fotorama\r\n                    .html(fotoramaData.urtext)\r\n                    .removeClass(stampClass);\r\n\r\n                hideInstance(that);\r\n            }\r\n\r\n            bindGlobalEvents(FLAG);\r\n            appendElements.f = FLAG;\r\n        }\r\n\r\n        /**\r\n         * Set and install data from incomming @param {JSON} options or takes data attr from data-\"name\"=... values.\r\n         */\r\n        function setData() {\r\n            data = that.data = data || clone(opts.data) || getDataFromHtml($fotorama);\r\n            size = that.size = data.length;\r\n\r\n            ready.ok && opts.shuffle && shuffle(data);\r\n\r\n            checkForVideo();\r\n\r\n            activeIndex = limitIndex(activeIndex);\r\n\r\n            size && appendElements(true);\r\n        }\r\n\r\n        function stageNoMove() {\r\n            var _noMove = size < 2 || $videoPlaying;\r\n            stageShaftTouchTail.noMove = _noMove || o_fade;\r\n            stageShaftTouchTail.noSwipe = _noMove || !opts.swipe;\r\n\r\n            !o_transition && $stageShaft.toggleClass(grabClass, !opts.click && !stageShaftTouchTail.noMove && !stageShaftTouchTail.noSwipe);\r\n            MS_POINTER && $wrap.toggleClass(wrapPanYClass, !stageShaftTouchTail.noSwipe);\r\n        }\r\n\r\n        function setAutoplayInterval(interval) {\r\n            if (interval === true) interval = '';\r\n            opts.autoplay = Math.max(+interval || AUTOPLAY_INTERVAL, o_transitionDuration * 1.5);\r\n        }\r\n\r\n        function updateThumbArrow(opt) {\r\n            if (opt.navarrows && opt.nav === 'thumbs') {\r\n                $thumbArrLeft.show();\r\n                $thumbArrRight.show();\r\n            } else {\r\n                $thumbArrLeft.hide();\r\n                $thumbArrRight.hide();\r\n            }\r\n\r\n        }\r\n\r\n        function getThumbsInSlide($el, opts) {\r\n            return Math.floor($wrap.width() / (opts.thumbwidth + opts.thumbmargin));\r\n        }\r\n\r\n        /**\r\n         * Options on the fly\r\n         * */\r\n        function setOptions() {\r\n            if (!opts.nav || opts.nav === 'dots') {\r\n                opts.navdir = 'horizontal'\r\n            }\r\n\r\n            that.options = opts = optionsToLowerCase(opts);\r\n            thumbsPerSlide = getThumbsInSlide($wrap, opts);\r\n\r\n            o_fade = (opts.transition === 'crossfade' || opts.transition === 'dissolve');\r\n\r\n            o_loop = opts.loop && (size > 2 || (o_fade && (!o_transition || o_transition !== 'slide')));\r\n\r\n            o_transitionDuration = +opts.transitionduration || TRANSITION_DURATION;\r\n\r\n            o_rtl = opts.direction === 'rtl';\r\n\r\n            o_keyboard = $.extend({}, opts.keyboard && KEYBOARD_OPTIONS, opts.keyboard);\r\n            updateThumbArrow(opts);\r\n            var classes = {add: [], remove: []};\r\n\r\n            function addOrRemoveClass(FLAG, value) {\r\n                classes[FLAG ? 'add' : 'remove'].push(value);\r\n            }\r\n\r\n            if (size > 1) {\r\n                o_nav = opts.nav;\r\n                o_navTop = opts.navposition === 'top';\r\n                classes.remove.push(selectClass);\r\n\r\n                $arrs.toggle(opts.arrows);\r\n            } else {\r\n                o_nav = false;\r\n                $arrs.hide();\r\n            }\r\n\r\n            arrsUpdate();\r\n            stageWheelUpdate();\r\n            thumbArrUpdate();\r\n            if (opts.autoplay) setAutoplayInterval(opts.autoplay);\r\n\r\n            o_thumbSide = numberFromMeasure(opts.thumbwidth) || THUMB_SIZE;\r\n            o_thumbSide2 = numberFromMeasure(opts.thumbheight) || THUMB_SIZE;\r\n\r\n            stageWheelTail.ok = navWheelTail.ok = opts.trackpad && !SLOW;\r\n\r\n            stageNoMove();\r\n\r\n            extendMeasures(opts, [measures]);\r\n\r\n            o_navThumbs = o_nav === 'thumbs';\r\n\r\n            if ($navWrap.filter(':hidden') && !!o_nav) {\r\n                $navWrap.show();\r\n            }\r\n            if (o_navThumbs) {\r\n                frameDraw(size, 'navThumb');\r\n\r\n                $navFrame = $navThumbFrame;\r\n                navFrameKey = NAV_THUMB_FRAME_KEY;\r\n\r\n                setStyle($style, $.Fotorama.jst.style({\r\n                    w: o_thumbSide,\r\n                    h: o_thumbSide2,\r\n                    b: opts.thumbborderwidth,\r\n                    m: opts.thumbmargin,\r\n                    s: stamp,\r\n                    q: !COMPAT\r\n                }));\r\n\r\n                $nav\r\n                    .addClass(navThumbsClass)\r\n                    .removeClass(navDotsClass);\r\n            } else if (o_nav === 'dots') {\r\n                frameDraw(size, 'navDot');\r\n\r\n                $navFrame = $navDotFrame;\r\n                navFrameKey = NAV_DOT_FRAME_KEY;\r\n\r\n                $nav\r\n                    .addClass(navDotsClass)\r\n                    .removeClass(navThumbsClass);\r\n            } else {\r\n                $navWrap.hide();\r\n                o_nav = false;\r\n                $nav.removeClass(navThumbsClass + ' ' + navDotsClass);\r\n            }\r\n\r\n            if (o_nav) {\r\n                if (o_navTop) {\r\n                    $navWrap.insertBefore($stage);\r\n                } else {\r\n                    $navWrap.insertAfter($stage);\r\n                }\r\n                frameAppend.nav = false;\r\n\r\n                frameAppend($navFrame, $navShaft, 'nav');\r\n            }\r\n\r\n            o_allowFullScreen = opts.allowfullscreen;\r\n\r\n            if (o_allowFullScreen) {\r\n                $fullscreenIcon.prependTo($stage);\r\n                o_nativeFullScreen = FULLSCREEN && o_allowFullScreen === 'native';\r\n            } else {\r\n                $fullscreenIcon.detach();\r\n                o_nativeFullScreen = false;\r\n            }\r\n\r\n            addOrRemoveClass(o_fade, wrapFadeClass);\r\n            addOrRemoveClass(!o_fade, wrapSlideClass);\r\n            addOrRemoveClass(!opts.captions, wrapNoCaptionsClass);\r\n            addOrRemoveClass(o_rtl, wrapRtlClass);\r\n            addOrRemoveClass(opts.arrows, wrapToggleArrowsClass);\r\n\r\n            o_shadows = opts.shadows && !SLOW;\r\n            addOrRemoveClass(!o_shadows, wrapNoShadowsClass);\r\n\r\n            $wrap\r\n                .addClass(classes.add.join(' '))\r\n                .removeClass(classes.remove.join(' '));\r\n\r\n            lastOptions = $.extend({}, opts);\r\n            setStagePosition();\r\n        }\r\n\r\n        function normalizeIndex(index) {\r\n            return index < 0 ? (size + (index % size)) % size : index >= size ? index % size : index;\r\n        }\r\n\r\n        function limitIndex(index) {\r\n            return minMaxLimit(index, 0, size - 1);\r\n        }\r\n\r\n        function edgeIndex(index) {\r\n            return o_loop ? normalizeIndex(index) : limitIndex(index);\r\n        }\r\n\r\n        function getPrevIndex(index) {\r\n            return index > 0 || o_loop ? index - 1 : false;\r\n        }\r\n\r\n        function getNextIndex(index) {\r\n            return index < size - 1 || o_loop ? index + 1 : false;\r\n        }\r\n\r\n        function setStageShaftMinmaxAndSnap() {\r\n            stageShaftTouchTail.min = o_loop ? -Infinity : -getPosByIndex(size - 1, measures.w, opts.margin, repositionIndex);\r\n            stageShaftTouchTail.max = o_loop ? Infinity : -getPosByIndex(0, measures.w, opts.margin, repositionIndex);\r\n            stageShaftTouchTail.snap = measures.w + opts.margin;\r\n        }\r\n\r\n        function setNavShaftMinMax() {\r\n\r\n            var isVerticalDir = (opts.navdir === 'vertical');\r\n            var param = isVerticalDir ? $navShaft.height() : $navShaft.width();\r\n            var mainParam = isVerticalDir ? measures.h : measures.nw;\r\n            navShaftTouchTail.min = Math.min(0, mainParam - param);\r\n            navShaftTouchTail.max = 0;\r\n            navShaftTouchTail.direction = opts.navdir;\r\n            $navShaft.toggleClass(grabClass, !(navShaftTouchTail.noMove = navShaftTouchTail.min === navShaftTouchTail.max));\r\n        }\r\n\r\n        function eachIndex(indexes, type, fn) {\r\n            if (typeof indexes === 'number') {\r\n                indexes = new Array(indexes);\r\n                var rangeFLAG = true;\r\n            }\r\n            return $.each(indexes, function (i, index) {\r\n                if (rangeFLAG) index = i;\r\n                if (typeof index === 'number') {\r\n                    var dataFrame = data[normalizeIndex(index)];\r\n\r\n                    if (dataFrame) {\r\n                        var key = '$' + type + 'Frame',\r\n                            $frame = dataFrame[key];\r\n\r\n                        fn.call(this, i, index, dataFrame, $frame, key, $frame && $frame.data());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function setMeasures(width, height, ratio, index) {\r\n            if (!measuresSetFLAG || (measuresSetFLAG === '*' && index === startIndex)) {\r\n\r\n                width = measureIsValid(opts.width) || measureIsValid(width) || WIDTH;\r\n                height = measureIsValid(opts.height) || measureIsValid(height) || HEIGHT;\r\n                that.resize({\r\n                    width: width,\r\n                    ratio: opts.ratio || ratio || width / height\r\n                }, 0, index !== startIndex && '*');\r\n            }\r\n        }\r\n\r\n        function loadImg(indexes, type, specialMeasures, again) {\r\n\r\n            eachIndex(indexes, type, function (i, index, dataFrame, $frame, key, frameData) {\r\n\r\n                if (!$frame) return;\r\n\r\n                var fullFLAG = that.fullScreen && !frameData.$full && type === 'stage';\r\n\r\n                if (frameData.$img && !again && !fullFLAG) return;\r\n\r\n                var img = new Image(),\r\n                    $img = $(img),\r\n                    imgData = $img.data();\r\n\r\n                frameData[fullFLAG ? '$full' : '$img'] = $img;\r\n\r\n                var srcKey = type === 'stage' ? (fullFLAG ? 'full' : 'img') : 'thumb',\r\n                    src = dataFrame[srcKey],\r\n                    dummy = fullFLAG ? dataFrame['img'] : dataFrame[type === 'stage' ? 'thumb' : 'img'];\r\n\r\n                if (type === 'navThumb') $frame = frameData.$wrap;\r\n\r\n                function triggerTriggerEvent(event) {\r\n                    var _index = normalizeIndex(index);\r\n                    triggerEvent(event, {\r\n                        index: _index,\r\n                        src: src,\r\n                        frame: data[_index]\r\n                    });\r\n                }\r\n\r\n                function error() {\r\n                    $img.remove();\r\n\r\n                    $.Fotorama.cache[src] = 'error';\r\n\r\n                    if ((!dataFrame.html || type !== 'stage') && dummy && dummy !== src) {\r\n                        dataFrame[srcKey] = src = dummy;\r\n                        frameData.$full = null;\r\n                        loadImg([index], type, specialMeasures, true);\r\n                    } else {\r\n                        if (src && !dataFrame.html && !fullFLAG) {\r\n                            $frame\r\n                                .trigger('f:error')\r\n                                .removeClass(loadingClass)\r\n                                .addClass(errorClass);\r\n\r\n                            triggerTriggerEvent('error');\r\n                        } else if (type === 'stage') {\r\n                            $frame\r\n                                .trigger('f:load')\r\n                                .removeClass(loadingClass + ' ' + errorClass)\r\n                                .addClass(loadedClass);\r\n\r\n                            triggerTriggerEvent('load');\r\n                            setMeasures();\r\n                        }\r\n\r\n                        frameData.state = 'error';\r\n\r\n                        if (size > 1 && data[index] === dataFrame && !dataFrame.html && !dataFrame.deleted && !dataFrame.video && !fullFLAG) {\r\n                            dataFrame.deleted = true;\r\n                            that.splice(index, 1);\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function loaded() {\r\n                    $.Fotorama.measures[src] = imgData.measures = $.Fotorama.measures[src] || {\r\n                            width: img.width,\r\n                            height: img.height,\r\n                            ratio: img.width / img.height\r\n                        };\r\n\r\n                    setMeasures(imgData.measures.width, imgData.measures.height, imgData.measures.ratio, index);\r\n\r\n                    $img\r\n                        .off('load error')\r\n                        .addClass('' + (fullFLAG ? imgFullClass: imgClass))\r\n                        .attr('aria-hidden', 'false')\r\n                        .prependTo($frame);\r\n\r\n                    if ($frame.hasClass(stageFrameClass) && !$frame.hasClass(videoContainerClass)) {\r\n                        $frame.attr(\"href\", $img.attr(\"src\"));\r\n                    }\r\n\r\n                    fit($img, (\r\n                            $.isFunction(specialMeasures) ? specialMeasures() : specialMeasures) || measures);\r\n\r\n                    $.Fotorama.cache[src] = frameData.state = 'loaded';\r\n\r\n                    setTimeout(function () {\r\n                        $frame\r\n                            .trigger('f:load')\r\n                            .removeClass(loadingClass + ' ' + errorClass)\r\n                            .addClass(loadedClass + ' ' + (fullFLAG ? loadedFullClass : loadedImgClass));\r\n\r\n                        if (type === 'stage') {\r\n                            triggerTriggerEvent('load');\r\n                        } else if (dataFrame.thumbratio === AUTO || !dataFrame.thumbratio && opts.thumbratio === AUTO) {\r\n                            // danger! reflow for all thumbnails\r\n                            dataFrame.thumbratio = imgData.measures.ratio;\r\n                            reset();\r\n                        }\r\n                    }, 0);\r\n                }\r\n\r\n                if (!src) {\r\n                    error();\r\n                    return;\r\n                }\r\n\r\n                function waitAndLoad() {\r\n                    var _i = 10;\r\n                    waitFor(function () {\r\n                        return !touchedFLAG || !_i-- && !SLOW;\r\n                    }, function () {\r\n                        loaded();\r\n                    });\r\n                }\r\n\r\n                if (!$.Fotorama.cache[src]) {\r\n                    $.Fotorama.cache[src] = '*';\r\n\r\n                    $img\r\n                        .on('load', waitAndLoad)\r\n                        .on('error', error);\r\n                } else {\r\n                    (function justWait() {\r\n                        if ($.Fotorama.cache[src] === 'error') {\r\n                            error();\r\n                        } else if ($.Fotorama.cache[src] === 'loaded') {\r\n                            setTimeout(waitAndLoad, 0);\r\n                        } else {\r\n                            setTimeout(justWait, 100);\r\n                        }\r\n                    })();\r\n                }\r\n\r\n                frameData.state = '';\r\n                img.src = src;\r\n\r\n                if (frameData.data.caption) {\r\n                    img.alt = frameData.data.caption || \"\";\r\n                }\r\n\r\n                if (frameData.data.full) {\r\n                    $(img).data('original', frameData.data.full);\r\n                }\r\n\r\n                if (UTIL.isExpectedCaption(dataFrame, opts.showcaption)) {\r\n                    $(img).attr('aria-labelledby', dataFrame.labelledby);\r\n                }\r\n            });\r\n        }\r\n\r\n        function updateFotoramaState() {\r\n            var $frame = activeFrame[STAGE_FRAME_KEY];\r\n\r\n            if ($frame && !$frame.data().state) {\r\n                $spinner.addClass(spinnerShowClass);\r\n                $frame.on('f:load f:error', function () {\r\n                    $frame.off('f:load f:error');\r\n                    $spinner.removeClass(spinnerShowClass);\r\n                });\r\n            }\r\n        }\r\n\r\n        function addNavFrameEvents(frame) {\r\n            addEnterUp(frame, onNavFrameClick);\r\n            addFocus(frame, function () {\r\n\r\n                setTimeout(function () {\r\n                    lockScroll($nav);\r\n                }, 0);\r\n                slideNavShaft({time: o_transitionDuration, guessIndex: $(this).data().eq, minMax: navShaftTouchTail});\r\n            });\r\n        }\r\n\r\n        function frameDraw(indexes, type) {\r\n            eachIndex(indexes, type, function (i, index, dataFrame, $frame, key, frameData) {\r\n                if ($frame) return;\r\n\r\n                $frame = dataFrame[key] = $wrap[key].clone();\r\n                frameData = $frame.data();\r\n                frameData.data = dataFrame;\r\n                var frame = $frame[0],\r\n                    labelledbyValue = \"labelledby\" + $.now();\r\n\r\n                if (type === 'stage') {\r\n\r\n                    if (dataFrame.html) {\r\n                        $('<div class=\"' + htmlClass + '\"></div>')\r\n                            .append(\r\n                            dataFrame._html ? $(dataFrame.html)\r\n                                .removeAttr('id')\r\n                                .html(dataFrame._html) // Because of IE\r\n                                : dataFrame.html\r\n                        )\r\n                            .appendTo($frame);\r\n                    }\r\n\r\n                    if (dataFrame.id) {\r\n                        labelledbyValue = dataFrame.id || labelledbyValue;\r\n                    }\r\n                    dataFrame.labelledby = labelledbyValue;\r\n\r\n                    if (UTIL.isExpectedCaption(dataFrame, opts.showcaption)) {\r\n                        $($.Fotorama.jst.frameCaption({\r\n                            caption: dataFrame.caption,\r\n                            labelledby: labelledbyValue\r\n                        })).appendTo($frame);\r\n                    }\r\n\r\n                    dataFrame.video && $frame\r\n                        .addClass(stageFrameVideoClass)\r\n                        .append($videoPlay.clone());\r\n\r\n                    // This solves tabbing problems\r\n                    addFocus(frame, function () {\r\n                        setTimeout(function () {\r\n                            lockScroll($stage);\r\n                        }, 0);\r\n                        clickToShow({index: frameData.eq, user: true});\r\n                    });\r\n\r\n                    $stageFrame = $stageFrame.add($frame);\r\n                } else if (type === 'navDot') {\r\n                    addNavFrameEvents(frame);\r\n                    $navDotFrame = $navDotFrame.add($frame);\r\n                } else if (type === 'navThumb') {\r\n                    addNavFrameEvents(frame);\r\n                    frameData.$wrap = $frame.children(':first');\r\n\r\n                    $navThumbFrame = $navThumbFrame.add($frame);\r\n                    if (dataFrame.video) {\r\n                        frameData.$wrap.append($videoPlay.clone());\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        function callFit($img, measuresToFit) {\r\n            return $img && $img.length && fit($img, measuresToFit);\r\n        }\r\n\r\n        function stageFramePosition(indexes) {\r\n            eachIndex(indexes, 'stage', function (i, index, dataFrame, $frame, key, frameData) {\r\n                if (!$frame) return;\r\n\r\n                var normalizedIndex = normalizeIndex(index);\r\n                frameData.eq = normalizedIndex;\r\n\r\n                toDetach[STAGE_FRAME_KEY][normalizedIndex] = $frame.css($.extend({left: o_fade ? 0 : getPosByIndex(index, measures.w, opts.margin, repositionIndex)}, o_fade && getDuration(0)));\r\n\r\n                if (isDetached($frame[0])) {\r\n                    $frame.appendTo($stageShaft);\r\n                    unloadVideo(dataFrame.$video);\r\n                }\r\n\r\n                callFit(frameData.$img, measures);\r\n                callFit(frameData.$full, measures);\r\n\r\n                if ($frame.hasClass(stageFrameClass) && !($frame.attr('aria-hidden') === \"false\" && $frame.hasClass(activeClass))) {\r\n                    $frame.attr('aria-hidden', 'true');\r\n                }\r\n            });\r\n        }\r\n\r\n        function thumbsDraw(pos, loadFLAG) {\r\n            var leftLimit,\r\n                rightLimit,\r\n                exceedLimit;\r\n\r\n\r\n            if (o_nav !== 'thumbs' || isNaN(pos)) return;\r\n\r\n            leftLimit = -pos;\r\n            rightLimit = -pos + measures.nw;\r\n\r\n            if (opts.navdir === 'vertical') {\r\n                pos = pos - opts.thumbheight;\r\n                rightLimit = -pos + measures.h;\r\n            }\r\n\r\n            $navThumbFrame.each(function () {\r\n                var $this = $(this),\r\n                    thisData = $this.data(),\r\n                    eq = thisData.eq,\r\n                    getSpecialMeasures = function () {\r\n                        return {\r\n                            h: o_thumbSide2,\r\n                            w: thisData.w\r\n                        }\r\n                    },\r\n                    specialMeasures = getSpecialMeasures(),\r\n                    exceedLimit = opts.navdir === 'vertical' ?\r\n                    thisData.t > rightLimit : thisData.l > rightLimit;\r\n                specialMeasures.w = thisData.w;\r\n\r\n                if (thisData.l + thisData.w < leftLimit\r\n                    || exceedLimit\r\n                    || callFit(thisData.$img, specialMeasures)) return;\r\n\r\n                loadFLAG && loadImg([eq], 'navThumb', getSpecialMeasures);\r\n            });\r\n        }\r\n\r\n        function frameAppend($frames, $shaft, type) {\r\n            if (!frameAppend[type]) {\r\n\r\n                var thumbsFLAG = type === 'nav' && o_navThumbs,\r\n                    left = 0,\r\n                    top = 0;\r\n\r\n                $shaft.append(\r\n                    $frames\r\n                        .filter(function () {\r\n                            var actual,\r\n                                $this = $(this),\r\n                                frameData = $this.data();\r\n                            for (var _i = 0, _l = data.length; _i < _l; _i++) {\r\n                                if (frameData.data === data[_i]) {\r\n                                    actual = true;\r\n                                    frameData.eq = _i;\r\n                                    break;\r\n                                }\r\n                            }\r\n                            return actual || $this.remove() && false;\r\n                        })\r\n                        .sort(function (a, b) {\r\n                            return $(a).data().eq - $(b).data().eq;\r\n                        })\r\n                        .each(function () {\r\n                            var $this = $(this),\r\n                                frameData = $this.data();\r\n                            UTIL.setThumbAttr($this, frameData.data.caption, \"aria-label\");\r\n                        })\r\n                        .each(function () {\r\n\r\n                            if (!thumbsFLAG) return;\r\n\r\n                            var $this = $(this),\r\n                                frameData = $this.data(),\r\n                                thumbwidth = Math.round(o_thumbSide2 * frameData.data.thumbratio) || o_thumbSide,\r\n                                thumbheight = Math.round(o_thumbSide / frameData.data.thumbratio) || o_thumbSide2;\r\n                            frameData.t = top;\r\n                            frameData.h = thumbheight;\r\n                            frameData.l = left;\r\n                            frameData.w = thumbwidth;\r\n\r\n                            $this.css({width: thumbwidth});\r\n\r\n                            top += thumbheight + opts.thumbmargin;\r\n                            left += thumbwidth + opts.thumbmargin;\r\n                        })\r\n                );\r\n\r\n                frameAppend[type] = true;\r\n            }\r\n        }\r\n\r\n        function getDirection(x) {\r\n            return x - stageLeft > measures.w / 3;\r\n        }\r\n\r\n        function disableDirrection(i) {\r\n            return !o_loop && (!(activeIndex + i) || !(activeIndex - size + i)) && !$videoPlaying;\r\n        }\r\n\r\n        function arrsUpdate() {\r\n            var disablePrev = disableDirrection(0),\r\n                disableNext = disableDirrection(1);\r\n            $arrPrev\r\n                .toggleClass(arrDisabledClass, disablePrev)\r\n                .attr(disableAttr(disablePrev, false));\r\n            $arrNext\r\n                .toggleClass(arrDisabledClass, disableNext)\r\n                .attr(disableAttr(disableNext, false));\r\n        }\r\n\r\n        function thumbArrUpdate() {\r\n            var isLeftDisable = false,\r\n                isRightDisable = false;\r\n            if (opts.navtype === 'thumbs' && !opts.loop) {\r\n                (activeIndex == 0) ? isLeftDisable = true : isLeftDisable = false;\r\n                (activeIndex == opts.data.length - 1) ? isRightDisable = true : isRightDisable = false;\r\n            }\r\n            if (opts.navtype === 'slides') {\r\n                var pos = readPosition($navShaft, opts.navdir);\r\n                pos >= navShaftTouchTail.max ? isLeftDisable = true : isLeftDisable = false;\r\n                pos <= navShaftTouchTail.min ? isRightDisable = true : isRightDisable = false;\r\n            }\r\n            $thumbArrLeft\r\n                .toggleClass(arrDisabledClass, isLeftDisable)\r\n                .attr(disableAttr(isLeftDisable, true));\r\n            $thumbArrRight\r\n                .toggleClass(arrDisabledClass, isRightDisable)\r\n                .attr(disableAttr(isRightDisable, true));\r\n        }\r\n\r\n        function stageWheelUpdate() {\r\n            if (stageWheelTail.ok) {\r\n                stageWheelTail.prevent = {'<': disableDirrection(0), '>': disableDirrection(1)};\r\n            }\r\n        }\r\n\r\n        function getNavFrameBounds($navFrame) {\r\n            var navFrameData = $navFrame.data(),\r\n                left,\r\n                top,\r\n                width,\r\n                height;\r\n\r\n            if (o_navThumbs) {\r\n                left = navFrameData.l;\r\n                top = navFrameData.t;\r\n                width = navFrameData.w;\r\n                height = navFrameData.h;\r\n            } else {\r\n                left = $navFrame.position().left;\r\n                width = $navFrame.width();\r\n            }\r\n\r\n            var horizontalBounds = {\r\n                c: left + width / 2,\r\n                min: -left + opts.thumbmargin * 10,\r\n                max: -left + measures.w - width - opts.thumbmargin * 10\r\n            };\r\n\r\n            var verticalBounds = {\r\n                c: top + height / 2,\r\n                min: -top + opts.thumbmargin * 10,\r\n                max: -top + measures.h - height - opts.thumbmargin * 10\r\n            };\r\n\r\n            return opts.navdir === 'vertical' ? verticalBounds : horizontalBounds;\r\n        }\r\n\r\n        function slideThumbBorder(time) {\r\n            var navFrameData = activeFrame[navFrameKey].data();\r\n            slide($thumbBorder, {\r\n                time: time * 1.2,\r\n                pos: (opts.navdir === 'vertical' ? navFrameData.t : navFrameData.l),\r\n                width: navFrameData.w,\r\n                height: navFrameData.h,\r\n                direction: opts.navdir\r\n            });\r\n        }\r\n\r\n        function slideNavShaft(options) {\r\n            var $guessNavFrame = data[options.guessIndex][navFrameKey],\r\n                typeOfAnimation = opts.navtype;\r\n\r\n            var overflowFLAG,\r\n                time,\r\n                minMax,\r\n                boundTop,\r\n                boundLeft,\r\n                l,\r\n                pos,\r\n                x;\r\n\r\n            if ($guessNavFrame) {\r\n                if (typeOfAnimation === 'thumbs') {\r\n                    overflowFLAG = navShaftTouchTail.min !== navShaftTouchTail.max;\r\n                    minMax = options.minMax || overflowFLAG && getNavFrameBounds(activeFrame[navFrameKey]);\r\n                    boundTop = overflowFLAG && (options.keep && slideNavShaft.t ? slideNavShaft.l : minMaxLimit((options.coo || measures.nw / 2) - getNavFrameBounds($guessNavFrame).c, minMax.min, minMax.max));\r\n                    boundLeft = overflowFLAG && (options.keep && slideNavShaft.l ? slideNavShaft.l : minMaxLimit((options.coo || measures.nw / 2) - getNavFrameBounds($guessNavFrame).c, minMax.min, minMax.max));\r\n                    l = (opts.navdir === 'vertical' ? boundTop : boundLeft);\r\n                    pos = overflowFLAG && minMaxLimit(l, navShaftTouchTail.min, navShaftTouchTail.max) || 0;\r\n                    time = options.time * 1.1;\r\n                    slide($navShaft, {\r\n                        time: time,\r\n                        pos: pos,\r\n                        direction: opts.navdir,\r\n                        onEnd: function () {\r\n                            thumbsDraw(pos, true);\r\n                            thumbArrUpdate();\r\n                        }\r\n                    });\r\n\r\n                    setShadow($nav, findShadowEdge(pos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\r\n                    slideNavShaft.l = l;\r\n                } else {\r\n                    x = readPosition($navShaft, opts.navdir);\r\n                    time = options.time * 1.11;\r\n\r\n                    pos = validateSlidePos(opts, navShaftTouchTail, options.guessIndex, x, $guessNavFrame, $navWrap, opts.navdir);\r\n\r\n                    slide($navShaft, {\r\n                        time: time,\r\n                        pos: pos,\r\n                        direction: opts.navdir,\r\n                        onEnd: function () {\r\n                            thumbsDraw(pos, true);\r\n                            thumbArrUpdate();\r\n                        }\r\n                    });\r\n                    setShadow($nav, findShadowEdge(pos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\r\n                }\r\n            }\r\n        }\r\n\r\n        function navUpdate() {\r\n            deactivateFrames(navFrameKey);\r\n            toDeactivate[navFrameKey].push(activeFrame[navFrameKey].addClass(activeClass).attr('data-active', true));\r\n        }\r\n\r\n        function deactivateFrames(key) {\r\n            var _toDeactivate = toDeactivate[key];\r\n\r\n            while (_toDeactivate.length) {\r\n                _toDeactivate.shift().removeClass(activeClass).attr('data-active', false);\r\n            }\r\n        }\r\n\r\n        function detachFrames(key) {\r\n            var _toDetach = toDetach[key];\r\n\r\n            $.each(activeIndexes, function (i, index) {\r\n                delete _toDetach[normalizeIndex(index)];\r\n            });\r\n\r\n            $.each(_toDetach, function (index, $frame) {\r\n                delete _toDetach[index];\r\n                $frame.detach();\r\n            });\r\n        }\r\n\r\n        function stageShaftReposition(skipOnEnd) {\r\n\r\n            repositionIndex = dirtyIndex = activeIndex;\r\n\r\n            var $frame = activeFrame[STAGE_FRAME_KEY];\r\n\r\n            if ($frame) {\r\n                deactivateFrames(STAGE_FRAME_KEY);\r\n                toDeactivate[STAGE_FRAME_KEY].push($frame.addClass(activeClass).attr('data-active', true));\r\n\r\n                if ($frame.hasClass(stageFrameClass)) {\r\n                    $frame.attr('aria-hidden', 'false');\r\n                }\r\n\r\n                skipOnEnd || that.showStage.onEnd(true);\r\n                stop($stageShaft, 0, true);\r\n\r\n                detachFrames(STAGE_FRAME_KEY);\r\n                stageFramePosition(activeIndexes);\r\n                setStageShaftMinmaxAndSnap();\r\n                setNavShaftMinMax();\r\n                addEnterUp($stageShaft[0], function () {\r\n                    if (!$fotorama.hasClass(fullscreenClass)) {\r\n                        that.requestFullScreen();\r\n                        $fullscreenIcon.focus();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        function extendMeasures(options, measuresArray) {\r\n            if (!options) return;\r\n\r\n            $.each(measuresArray, function (i, measures) {\r\n                if (!measures) return;\r\n\r\n                $.extend(measures, {\r\n                    width: options.width || measures.width,\r\n                    height: options.height,\r\n                    minwidth: options.minwidth,\r\n                    maxwidth: options.maxwidth,\r\n                    minheight: options.minheight,\r\n                    maxheight: options.maxheight,\r\n                    ratio: getRatio(options.ratio)\r\n                })\r\n            });\r\n        }\r\n\r\n        function triggerEvent(event, extra) {\r\n            $fotorama.trigger(_fotoramaClass + ':' + event, [that, extra]);\r\n        }\r\n\r\n        function onTouchStart() {\r\n            clearTimeout(onTouchEnd.t);\r\n            touchedFLAG = 1;\r\n\r\n            if (opts.stopautoplayontouch) {\r\n                that.stopAutoplay();\r\n            } else {\r\n                pausedAutoplayFLAG = true;\r\n            }\r\n        }\r\n\r\n        function onTouchEnd() {\r\n            if (!touchedFLAG) return;\r\n            if (!opts.stopautoplayontouch) {\r\n                releaseAutoplay();\r\n                changeAutoplay();\r\n            }\r\n\r\n            onTouchEnd.t = setTimeout(function () {\r\n                touchedFLAG = 0;\r\n            }, TRANSITION_DURATION + TOUCH_TIMEOUT);\r\n        }\r\n\r\n        function releaseAutoplay() {\r\n            pausedAutoplayFLAG = !!($videoPlaying || stoppedAutoplayFLAG);\r\n        }\r\n\r\n        function changeAutoplay() {\r\n\r\n            clearTimeout(changeAutoplay.t);\r\n            waitFor.stop(changeAutoplay.w);\r\n\r\n            if (!opts.autoplay || pausedAutoplayFLAG) {\r\n                if (that.autoplay) {\r\n                    that.autoplay = false;\r\n                    triggerEvent('stopautoplay');\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            if (!that.autoplay) {\r\n                that.autoplay = true;\r\n                triggerEvent('startautoplay');\r\n            }\r\n\r\n            var _activeIndex = activeIndex;\r\n\r\n\r\n            var frameData = activeFrame[STAGE_FRAME_KEY].data();\r\n            changeAutoplay.w = waitFor(function () {\r\n                return frameData.state || _activeIndex !== activeIndex;\r\n            }, function () {\r\n                changeAutoplay.t = setTimeout(function () {\r\n\r\n                    if (pausedAutoplayFLAG || _activeIndex !== activeIndex) return;\r\n\r\n                    var _nextAutoplayIndex = nextAutoplayIndex,\r\n                        nextFrameData = data[_nextAutoplayIndex][STAGE_FRAME_KEY].data();\r\n\r\n                    changeAutoplay.w = waitFor(function () {\r\n\r\n                        return nextFrameData.state || _nextAutoplayIndex !== nextAutoplayIndex;\r\n                    }, function () {\r\n                        if (pausedAutoplayFLAG || _nextAutoplayIndex !== nextAutoplayIndex) return;\r\n                        that.show(o_loop ? getDirectionSign(!o_rtl) : nextAutoplayIndex);\r\n                    });\r\n                }, opts.autoplay);\r\n            });\r\n\r\n        }\r\n\r\n        that.startAutoplay = function (interval) {\r\n            if (that.autoplay) return this;\r\n            pausedAutoplayFLAG = stoppedAutoplayFLAG = false;\r\n            setAutoplayInterval(interval || opts.autoplay);\r\n            changeAutoplay();\r\n\r\n            return this;\r\n        };\r\n\r\n        that.stopAutoplay = function () {\r\n            if (that.autoplay) {\r\n                pausedAutoplayFLAG = stoppedAutoplayFLAG = true;\r\n                changeAutoplay();\r\n            }\r\n            return this;\r\n        };\r\n\r\n        that.showSlide = function (slideDir) {\r\n            var currentPosition = readPosition($navShaft, opts.navdir),\r\n                pos,\r\n                time = 500 * 1.1,\r\n                size = opts.navdir === 'horizontal' ? opts.thumbwidth : opts.thumbheight,\r\n                onEnd = function () {\r\n                    thumbArrUpdate();\r\n                };\r\n            if (slideDir === 'next') {\r\n                pos = currentPosition - (size + opts.margin) * thumbsPerSlide;\r\n            }\r\n            if (slideDir === 'prev') {\r\n                pos = currentPosition + (size + opts.margin) * thumbsPerSlide;\r\n            }\r\n            pos = validateRestrictions(pos, navShaftTouchTail);\r\n            thumbsDraw(pos, true);\r\n            slide($navShaft, {\r\n                time: time,\r\n                pos: pos,\r\n                direction: opts.navdir,\r\n                onEnd: onEnd\r\n            });\r\n        };\r\n\r\n        that.showWhileLongPress = function (options) {\r\n            if (that.longPress.singlePressInProgress) {\r\n                return;\r\n            }\r\n\r\n            var index = calcActiveIndex(options);\r\n            calcGlobalIndexes(index);\r\n            var time = calcTime(options) / 50;\r\n            var _activeFrame = activeFrame;\r\n            that.activeFrame = activeFrame = data[activeIndex];\r\n            var silent = _activeFrame === activeFrame && !options.user;\r\n\r\n            that.showNav(silent, options, time);\r\n\r\n            return this;\r\n        };\r\n\r\n        that.showEndLongPress = function (options) {\r\n            if (that.longPress.singlePressInProgress) {\r\n                return;\r\n            }\r\n\r\n            var index = calcActiveIndex(options);\r\n            calcGlobalIndexes(index);\r\n            var time = calcTime(options) / 50;\r\n            var _activeFrame = activeFrame;\r\n            that.activeFrame = activeFrame = data[activeIndex];\r\n\r\n            var silent = _activeFrame === activeFrame && !options.user;\r\n\r\n            that.showStage(silent, options, time);\r\n\r\n            showedFLAG = typeof lastActiveIndex !== 'undefined' && lastActiveIndex !== activeIndex;\r\n            lastActiveIndex = activeIndex;\r\n            return this;\r\n        };\r\n\r\n        function calcActiveIndex (options) {\r\n            var index;\r\n\r\n            if (typeof options !== 'object') {\r\n                index = options;\r\n                options = {};\r\n            } else {\r\n                index = options.index;\r\n            }\r\n\r\n            index = index === '>' ? dirtyIndex + 1 : index === '<' ? dirtyIndex - 1 : index === '<<' ? 0 : index === '>>' ? size - 1 : index;\r\n            index = isNaN(index) ? undefined : index;\r\n            index = typeof index === 'undefined' ? activeIndex || 0 : index;\r\n\r\n            return index;\r\n        }\r\n\r\n        function calcGlobalIndexes (index) {\r\n            that.activeIndex = activeIndex = edgeIndex(index);\r\n            prevIndex = getPrevIndex(activeIndex);\r\n            nextIndex = getNextIndex(activeIndex);\r\n            nextAutoplayIndex = normalizeIndex(activeIndex + (o_rtl ? -1 : 1));\r\n            activeIndexes = [activeIndex, prevIndex, nextIndex];\r\n\r\n            dirtyIndex = o_loop ? index : activeIndex;\r\n        }\r\n\r\n        function calcTime (options) {\r\n            var diffIndex = Math.abs(lastActiveIndex - dirtyIndex),\r\n                time = getNumber(options.time, function () {\r\n                    return Math.min(o_transitionDuration * (1 + (diffIndex - 1) / 12), o_transitionDuration * 2);\r\n                });\r\n\r\n            if (options.slow) {\r\n                time *= 10;\r\n            }\r\n\r\n            return time;\r\n        }\r\n\r\n        that.showStage = function (silent, options, time) {\r\n            unloadVideo($videoPlaying, activeFrame.i !== data[normalizeIndex(repositionIndex)].i);\r\n            frameDraw(activeIndexes, 'stage');\r\n            stageFramePosition(SLOW ? [dirtyIndex] : [dirtyIndex, getPrevIndex(dirtyIndex), getNextIndex(dirtyIndex)]);\r\n            updateTouchTails('go', true);\r\n\r\n            silent || triggerEvent('show', {\r\n                user: options.user,\r\n                time: time\r\n            });\r\n\r\n            pausedAutoplayFLAG = true;\r\n\r\n            var overPos = options.overPos;\r\n            var onEnd = that.showStage.onEnd = function (skipReposition) {\r\n                if (onEnd.ok) return;\r\n                onEnd.ok = true;\r\n\r\n                skipReposition || stageShaftReposition(true);\r\n\r\n                if (!silent) {\r\n                    triggerEvent('showend', {\r\n                        user: options.user\r\n                    });\r\n                }\r\n\r\n                if (!skipReposition && o_transition && o_transition !== opts.transition) {\r\n                    that.setOptions({transition: o_transition});\r\n                    o_transition = false;\r\n                    return;\r\n                }\r\n\r\n                updateFotoramaState();\r\n                loadImg(activeIndexes, 'stage');\r\n\r\n                updateTouchTails('go', false);\r\n                stageWheelUpdate();\r\n\r\n                stageCursor();\r\n                releaseAutoplay();\r\n                changeAutoplay();\r\n\r\n                if (that.fullScreen) {\r\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgFullClass).attr('aria-hidden', false);\r\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgClass).attr('aria-hidden', true)\r\n                } else {\r\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgFullClass).attr('aria-hidden', true);\r\n                    activeFrame[STAGE_FRAME_KEY].find('.' + imgClass).attr('aria-hidden', false)\r\n                }\r\n            };\r\n\r\n            if (!o_fade) {\r\n                slide($stageShaft, {\r\n                    pos: -getPosByIndex(dirtyIndex, measures.w, opts.margin, repositionIndex),\r\n                    overPos: overPos,\r\n                    time: time,\r\n                    onEnd: onEnd\r\n                });\r\n            } else {\r\n                var $activeFrame = activeFrame[STAGE_FRAME_KEY],\r\n                    $prevActiveFrame = data[lastActiveIndex] && activeIndex !== lastActiveIndex ? data[lastActiveIndex][STAGE_FRAME_KEY] : null;\r\n\r\n                fade($activeFrame, $prevActiveFrame, $stageFrame, {\r\n                    time: time,\r\n                    method: opts.transition,\r\n                    onEnd: onEnd\r\n                }, fadeStack);\r\n            }\r\n\r\n            arrsUpdate();\r\n        };\r\n\r\n        that.showNav = function(silent, options, time){\r\n            thumbArrUpdate();\r\n            if (o_nav) {\r\n                navUpdate();\r\n\r\n                var guessIndex = limitIndex(activeIndex + minMaxLimit(dirtyIndex - lastActiveIndex, -1, 1));\r\n                slideNavShaft({\r\n                    time: time,\r\n                    coo: guessIndex !== activeIndex && options.coo,\r\n                    guessIndex: typeof options.coo !== 'undefined' ? guessIndex : activeIndex,\r\n                    keep: silent\r\n                });\r\n                if (o_navThumbs) slideThumbBorder(time);\r\n            }\r\n        };\r\n\r\n        that.show = function (options) {\r\n            that.longPress.singlePressInProgress = true;\r\n\r\n            var index = calcActiveIndex(options);\r\n            calcGlobalIndexes(index);\r\n            var time = calcTime(options);\r\n            var _activeFrame = activeFrame;\r\n            that.activeFrame = activeFrame = data[activeIndex];\r\n\r\n            var silent = _activeFrame === activeFrame && !options.user;\r\n\r\n            that.showStage(silent, options, time);\r\n            that.showNav(silent, options, time);\r\n\r\n            showedFLAG = typeof lastActiveIndex !== 'undefined' && lastActiveIndex !== activeIndex;\r\n            lastActiveIndex = activeIndex;\r\n            that.longPress.singlePressInProgress = false;\r\n\r\n            return this;\r\n        };\r\n\r\n        that.requestFullScreen = function () {\r\n            if (o_allowFullScreen && !that.fullScreen) {\r\n\r\n                //check that this is not video\r\n                var isVideo = $((that.activeFrame || {}).$stageFrame || {}).hasClass('fotorama-video-container');\r\n                if(isVideo) {\r\n                    return;\r\n                }\r\n\r\n                scrollTop = $WINDOW.scrollTop();\r\n                scrollLeft = $WINDOW.scrollLeft();\r\n\r\n                lockScroll($WINDOW);\r\n\r\n                updateTouchTails('x', true);\r\n\r\n                measuresStash = $.extend({}, measures);\r\n\r\n                $fotorama\r\n                    .addClass(fullscreenClass)\r\n                    .appendTo($BODY.addClass(_fullscreenClass));\r\n\r\n                $HTML.addClass(_fullscreenClass);\r\n\r\n                unloadVideo($videoPlaying, true, true);\r\n\r\n                that.fullScreen = true;\r\n\r\n                if (o_nativeFullScreen) {\r\n                    fullScreenApi.request(fotorama);\r\n                }\r\n\r\n                that.resize();\r\n                loadImg(activeIndexes, 'stage');\r\n                updateFotoramaState();\r\n                triggerEvent('fullscreenenter');\r\n\r\n                if (!('ontouchstart' in window)) {\r\n                    $fullscreenIcon.focus();\r\n                }\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        function cancelFullScreen() {\r\n            if (that.fullScreen) {\r\n                that.fullScreen = false;\r\n\r\n                if (FULLSCREEN) {\r\n                    fullScreenApi.cancel(fotorama);\r\n                }\r\n\r\n                $BODY.removeClass(_fullscreenClass);\r\n                $HTML.removeClass(_fullscreenClass);\r\n\r\n                $fotorama\r\n                    .removeClass(fullscreenClass)\r\n                    .insertAfter($anchor);\r\n\r\n                measures = $.extend({}, measuresStash);\r\n\r\n                unloadVideo($videoPlaying, true, true);\r\n\r\n                updateTouchTails('x', false);\r\n\r\n                that.resize();\r\n                loadImg(activeIndexes, 'stage');\r\n\r\n                lockScroll($WINDOW, scrollLeft, scrollTop);\r\n\r\n                triggerEvent('fullscreenexit');\r\n            }\r\n        }\r\n\r\n        that.cancelFullScreen = function () {\r\n            if (o_nativeFullScreen && fullScreenApi.is()) {\r\n                fullScreenApi.cancel(document);\r\n            } else {\r\n                cancelFullScreen();\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        that.toggleFullScreen = function () {\r\n            return that[(that.fullScreen ? 'cancel' : 'request') + 'FullScreen']();\r\n        };\r\n\r\n        that.resize = function (options) {\r\n            if (!data) return this;\r\n\r\n            var time = arguments[1] || 0,\r\n                setFLAG = arguments[2];\r\n\r\n            thumbsPerSlide = getThumbsInSlide($wrap, opts);\r\n            extendMeasures(!that.fullScreen ? optionsToLowerCase(options) : {\r\n                width: $(window).width(),\r\n                maxwidth: null,\r\n                minwidth: null,\r\n                height: $(window).height(),\r\n                maxheight: null,\r\n                minheight: null\r\n            }, [measures, setFLAG || that.fullScreen || opts]);\r\n\r\n            var width = measures.width,\r\n                height = measures.height,\r\n                ratio = measures.ratio,\r\n                windowHeight = $WINDOW.height() - (o_nav ? $nav.height() : 0);\r\n\r\n            if (measureIsValid(width)) {\r\n                $wrap.css({width: ''});\r\n                $wrap.css({height: ''});\r\n                $stage.css({width: ''});\r\n                $stage.css({height: ''});\r\n                $stageShaft.css({width: ''});\r\n                $stageShaft.css({height: ''});\r\n                $nav.css({width: ''});\r\n                $nav.css({height: ''});\r\n                $wrap.css({minWidth: measures.minwidth || 0, maxWidth: measures.maxwidth || MAX_WIDTH});\r\n\r\n                if (o_nav === 'dots') {\r\n                    $navWrap.hide();\r\n                }\r\n                width = measures.W = measures.w = $wrap.width();\r\n                measures.nw = o_nav && numberFromWhatever(opts.navwidth, width) || width;\r\n\r\n                $stageShaft.css({width: measures.w, marginLeft: (measures.W - measures.w) / 2});\r\n\r\n                height = numberFromWhatever(height, windowHeight);\r\n\r\n                height = height || (ratio && width / ratio);\r\n\r\n                if (height) {\r\n                    width = Math.round(width);\r\n                    height = measures.h = Math.round(minMaxLimit(height, numberFromWhatever(measures.minheight, windowHeight), numberFromWhatever(measures.maxheight, windowHeight)));\r\n                    $stage.css({'width': width, 'height': height});\r\n\r\n                    if (opts.navdir === 'vertical' && !that.fullscreen) {\r\n                        $nav.width(opts.thumbwidth + opts.thumbmargin * 2);\r\n                    }\r\n\r\n                    if (opts.navdir === 'horizontal' && !that.fullscreen) {\r\n                        $nav.height(opts.thumbheight + opts.thumbmargin * 2);\r\n                    }\r\n\r\n                    if (o_nav === 'dots') {\r\n                        $nav.width(width)\r\n                            .height('auto');\r\n                        $navWrap.show();\r\n                    }\r\n\r\n                    if (opts.navdir === 'vertical' && that.fullScreen) {\r\n                        $stage.css('height', $WINDOW.height());\r\n                    }\r\n\r\n                    if (opts.navdir === 'horizontal' && that.fullScreen) {\r\n                        $stage.css('height', $WINDOW.height() - $nav.height());\r\n                    }\r\n\r\n                    if (o_nav) {\r\n                        switch (opts.navdir) {\r\n                            case 'vertical':\r\n                                $navWrap.removeClass(navShafthorizontalClass);\r\n                                $navWrap.removeClass(navShaftListClass);\r\n                                $navWrap.addClass(navShaftVerticalClass);\r\n                                $nav\r\n                                    .stop()\r\n                                    .animate({height: measures.h, width: opts.thumbwidth}, time);\r\n                                break;\r\n                            case 'list':\r\n                                $navWrap.removeClass(navShaftVerticalClass);\r\n                                $navWrap.removeClass(navShafthorizontalClass);\r\n                                $navWrap.addClass(navShaftListClass);\r\n                                break;\r\n                            default:\r\n                                $navWrap.removeClass(navShaftVerticalClass);\r\n                                $navWrap.removeClass(navShaftListClass);\r\n                                $navWrap.addClass(navShafthorizontalClass);\r\n                                $nav\r\n                                    .stop()\r\n                                    .animate({width: measures.nw}, time);\r\n                                break;\r\n                        }\r\n\r\n                        stageShaftReposition();\r\n                        slideNavShaft({guessIndex: activeIndex, time: time, keep: true});\r\n                        if (o_navThumbs && frameAppend.nav) slideThumbBorder(time);\r\n                    }\r\n\r\n                    measuresSetFLAG = setFLAG || true;\r\n\r\n                    ready.ok = true;\r\n                    ready();\r\n                }\r\n            }\r\n\r\n            stageLeft = $stage.offset().left;\r\n            setStagePosition();\r\n\r\n            return this;\r\n        };\r\n\r\n        that.setOptions = function (options) {\r\n            $.extend(opts, options);\r\n            reset();\r\n            return this;\r\n        };\r\n\r\n        that.shuffle = function () {\r\n            data && shuffle(data) && reset();\r\n            return this;\r\n        };\r\n\r\n        function setShadow($el, edge) {\r\n            if (o_shadows) {\r\n                $el.removeClass(shadowsLeftClass + ' ' + shadowsRightClass);\r\n                $el.removeClass(shadowsTopClass + ' ' + shadowsBottomClass);\r\n                edge && !$videoPlaying && $el.addClass(edge.replace(/^|\\s/g, ' ' + shadowsClass + '--'));\r\n            }\r\n        }\r\n\r\n        that.longPress = {\r\n            threshold: 1,\r\n            count: 0,\r\n            thumbSlideTime: 20,\r\n            progress: function(){\r\n                if (!this.inProgress) {\r\n                    this.count++;\r\n                    this.inProgress = this.count > this.threshold;\r\n                }\r\n            },\r\n            end: function(){\r\n                if(this.inProgress) {\r\n                    this.isEnded = true\r\n                }\r\n            },\r\n            reset: function(){\r\n                this.count = 0;\r\n                this.inProgress = false;\r\n                this.isEnded = false;\r\n            }\r\n        };\r\n\r\n        that.destroy = function () {\r\n            that.cancelFullScreen();\r\n            that.stopAutoplay();\r\n\r\n            data = that.data = null;\r\n\r\n            appendElements();\r\n\r\n            activeIndexes = [];\r\n            detachFrames(STAGE_FRAME_KEY);\r\n\r\n            reset.ok = false;\r\n\r\n            return this;\r\n        };\r\n\r\n        /**\r\n         *\r\n         * @returns {jQuery.Fotorama}\r\n         */\r\n        that.playVideo = function () {\r\n            var dataFrame = activeFrame,\r\n                video = dataFrame.video,\r\n                _activeIndex = activeIndex;\r\n\r\n            if (typeof video === 'object' && dataFrame.videoReady) {\r\n                o_nativeFullScreen && that.fullScreen && that.cancelFullScreen();\r\n\r\n                waitFor(function () {\r\n                    return !fullScreenApi.is() || _activeIndex !== activeIndex;\r\n                }, function () {\r\n                    if (_activeIndex === activeIndex) {\r\n                        dataFrame.$video = dataFrame.$video || $(div(videoClass)).append(createVideoFrame(video));\r\n                        dataFrame.$video.appendTo(dataFrame[STAGE_FRAME_KEY]);\r\n\r\n                        $wrap.addClass(wrapVideoClass);\r\n                        $videoPlaying = dataFrame.$video;\r\n\r\n                        stageNoMove();\r\n\r\n                        $arrs.blur();\r\n                        $fullscreenIcon.blur();\r\n\r\n                        triggerEvent('loadvideo');\r\n                    }\r\n                });\r\n            }\r\n\r\n            return this;\r\n        };\r\n\r\n        that.stopVideo = function () {\r\n            unloadVideo($videoPlaying, true, true);\r\n            return this;\r\n        };\r\n\r\n        that.spliceByIndex = function (index, newImgObj) {\r\n            newImgObj.i = index + 1;\r\n            newImgObj.img && $.ajax({\r\n                url: newImgObj.img,\r\n                type: 'HEAD',\r\n                success: function () {\r\n                    data.splice(index, 1, newImgObj);\r\n                    reset();\r\n                }\r\n            });\r\n        };\r\n\r\n        function unloadVideo($video, unloadActiveFLAG, releaseAutoplayFLAG) {\r\n            if (unloadActiveFLAG) {\r\n                $wrap.removeClass(wrapVideoClass);\r\n                $videoPlaying = false;\r\n\r\n                stageNoMove();\r\n            }\r\n\r\n            if ($video && $video !== $videoPlaying) {\r\n                $video.remove();\r\n                triggerEvent('unloadvideo');\r\n            }\r\n\r\n            if (releaseAutoplayFLAG) {\r\n                releaseAutoplay();\r\n                changeAutoplay();\r\n            }\r\n        }\r\n\r\n        function toggleControlsClass(FLAG) {\r\n            $wrap.toggleClass(wrapNoControlsClass, FLAG);\r\n        }\r\n\r\n        function stageCursor(e) {\r\n            if (stageShaftTouchTail.flow) return;\r\n\r\n            var x = e ? e.pageX : stageCursor.x,\r\n                pointerFLAG = x && !disableDirrection(getDirection(x)) && opts.click;\r\n\r\n            if (stageCursor.p !== pointerFLAG\r\n                && $stage.toggleClass(pointerClass, pointerFLAG)) {\r\n                stageCursor.p = pointerFLAG;\r\n                stageCursor.x = x;\r\n            }\r\n        }\r\n\r\n        $stage.on('mousemove', stageCursor);\r\n\r\n        function clickToShow(showOptions) {\r\n            clearTimeout(clickToShow.t);\r\n\r\n            if (opts.clicktransition && opts.clicktransition !== opts.transition) {\r\n                setTimeout(function () {\r\n                    var _o_transition = opts.transition;\r\n\r\n                    that.setOptions({transition: opts.clicktransition});\r\n\r\n                    // now safe to pass base transition to o_transition, so that.show will restor it\r\n                    o_transition = _o_transition;\r\n                    // this timeout is here to prevent jerking in some browsers\r\n                    clickToShow.t = setTimeout(function () {\r\n                        that.show(showOptions);\r\n                    }, 10);\r\n                }, 0);\r\n            } else {\r\n                that.show(showOptions);\r\n            }\r\n        }\r\n\r\n        function onStageTap(e, toggleControlsFLAG) {\r\n            var target = e.target,\r\n                $target = $(target);\r\n            if ($target.hasClass(videoPlayClass)) {\r\n                that.playVideo();\r\n            } else if (target === fullscreenIcon) {\r\n                that.toggleFullScreen();\r\n            } else if ($videoPlaying) {\r\n                target === videoClose && unloadVideo($videoPlaying, true, true);\r\n            } else if (!$fotorama.hasClass(fullscreenClass)) {\r\n                that.requestFullScreen();\r\n            }\r\n        }\r\n\r\n        function updateTouchTails(key, value) {\r\n            stageShaftTouchTail[key] = navShaftTouchTail[key] = value;\r\n        }\r\n\r\n        stageShaftTouchTail = moveOnTouch($stageShaft, {\r\n            onStart: onTouchStart,\r\n            onMove: function (e, result) {\r\n                setShadow($stage, result.edge);\r\n            },\r\n            onTouchEnd: onTouchEnd,\r\n            onEnd: function (result) {\r\n                var toggleControlsFLAG;\r\n\r\n                setShadow($stage);\r\n                toggleControlsFLAG = (MS_POINTER && !hoverFLAG || result.touch) &&\r\n                    opts.arrows;\r\n\r\n                if ((result.moved || (toggleControlsFLAG && result.pos !== result.newPos && !result.control)) && result.$target[0] !== $fullscreenIcon[0]) {\r\n                    var index = getIndexByPos(result.newPos, measures.w, opts.margin, repositionIndex);\r\n                    \r\n                    that.show({\r\n                        index: index,\r\n                        time: o_fade ? o_transitionDuration : result.time,\r\n                        overPos: result.overPos,\r\n                        user: true\r\n                    });\r\n                } else if (!result.aborted && !result.control) {\r\n                    onStageTap(result.startEvent, toggleControlsFLAG);\r\n                }\r\n            },\r\n            timeLow: 1,\r\n            timeHigh: 1,\r\n            friction: 2,\r\n            select: '.' + selectClass + ', .' + selectClass + ' *',\r\n            $wrap: $stage,\r\n            direction: 'horizontal'\r\n\r\n        });\r\n\r\n        navShaftTouchTail = moveOnTouch($navShaft, {\r\n            onStart: onTouchStart,\r\n            onMove: function (e, result) {\r\n                setShadow($nav, result.edge);\r\n            },\r\n            onTouchEnd: onTouchEnd,\r\n            onEnd: function (result) {\r\n\r\n                function onEnd() {\r\n                    slideNavShaft.l = result.newPos;\r\n                    releaseAutoplay();\r\n                    changeAutoplay();\r\n                    thumbsDraw(result.newPos, true);\r\n                    thumbArrUpdate();\r\n                }\r\n\r\n                if (!result.moved) {\r\n                    var target = result.$target.closest('.' + navFrameClass, $navShaft)[0];\r\n                    target && onNavFrameClick.call(target, result.startEvent);\r\n                } else if (result.pos !== result.newPos) {\r\n                    pausedAutoplayFLAG = true;\r\n                    slide($navShaft, {\r\n                        time: result.time,\r\n                        pos: result.newPos,\r\n                        overPos: result.overPos,\r\n                        direction: opts.navdir,\r\n                        onEnd: onEnd\r\n                    });\r\n                    thumbsDraw(result.newPos);\r\n                    o_shadows && setShadow($nav, findShadowEdge(result.newPos, navShaftTouchTail.min, navShaftTouchTail.max, result.dir));\r\n                } else {\r\n                    onEnd();\r\n                }\r\n            },\r\n            timeLow: .5,\r\n            timeHigh: 2,\r\n            friction: 5,\r\n            $wrap: $nav,\r\n            direction: opts.navdir\r\n        });\r\n\r\n        stageWheelTail = wheel($stage, {\r\n            shift: true,\r\n            onEnd: function (e, direction) {\r\n                onTouchStart();\r\n                onTouchEnd();\r\n                that.show({index: direction, slow: e.altKey})\r\n            }\r\n        });\r\n\r\n        navWheelTail = wheel($nav, {\r\n            onEnd: function (e, direction) {\r\n                onTouchStart();\r\n                onTouchEnd();\r\n                var newPos = stop($navShaft) + direction * .25;\r\n                $navShaft.css(getTranslate(minMaxLimit(newPos, navShaftTouchTail.min, navShaftTouchTail.max), opts.navdir));\r\n                o_shadows && setShadow($nav, findShadowEdge(newPos, navShaftTouchTail.min, navShaftTouchTail.max, opts.navdir));\r\n                navWheelTail.prevent = {'<': newPos >= navShaftTouchTail.max, '>': newPos <= navShaftTouchTail.min};\r\n                clearTimeout(navWheelTail.t);\r\n                navWheelTail.t = setTimeout(function () {\r\n                    slideNavShaft.l = newPos;\r\n                    thumbsDraw(newPos, true)\r\n                }, TOUCH_TIMEOUT);\r\n                thumbsDraw(newPos);\r\n            }\r\n        });\r\n\r\n        $wrap.hover(\r\n            function () {\r\n                setTimeout(function () {\r\n                    if (touchedFLAG) return;\r\n                    toggleControlsClass(!(hoverFLAG = true));\r\n                }, 0);\r\n            },\r\n            function () {\r\n                if (!hoverFLAG) return;\r\n                toggleControlsClass(!(hoverFLAG = false));\r\n            }\r\n        );\r\n\r\n        function onNavFrameClick(e) {\r\n            var index = $(this).data().eq;\r\n\r\n            if (opts.navtype === 'thumbs') {\r\n                clickToShow({index: index, slow: e.altKey, user: true, coo: e._x - $nav.offset().left});\r\n            } else {\r\n                clickToShow({index: index, slow: e.altKey, user: true});\r\n            }\r\n        }\r\n\r\n        function onArrClick(e) {\r\n            clickToShow({index: $arrs.index(this) ? '>' : '<', slow: e.altKey, user: true});\r\n        }\r\n\r\n        smartClick($arrs, function (e) {\r\n            stopEvent(e);\r\n            onArrClick.call(this, e);\r\n        }, {\r\n            onStart: function () {\r\n                onTouchStart();\r\n                stageShaftTouchTail.control = true;\r\n            },\r\n            onTouchEnd: onTouchEnd\r\n        });\r\n\r\n        smartClick($thumbArrLeft, function (e) {\r\n            stopEvent(e);\r\n            if (opts.navtype === 'thumbs') {\r\n\r\n                that.show('<');\r\n            } else {\r\n                that.showSlide('prev')\r\n            }\r\n        });\r\n\r\n        smartClick($thumbArrRight, function (e) {\r\n            stopEvent(e);\r\n            if (opts.navtype === 'thumbs') {\r\n                that.show('>');\r\n            } else {\r\n                that.showSlide('next')\r\n            }\r\n\r\n        });\r\n\r\n\r\n        function addFocusOnControls(el) {\r\n            addFocus(el, function () {\r\n                setTimeout(function () {\r\n                    lockScroll($stage);\r\n                }, 0);\r\n                toggleControlsClass(false);\r\n            });\r\n        }\r\n\r\n        $arrs.each(function () {\r\n            addEnterUp(this, function (e) {\r\n                onArrClick.call(this, e);\r\n            });\r\n            addFocusOnControls(this);\r\n        });\r\n\r\n        addEnterUp(fullscreenIcon, function () {\r\n            if ($fotorama.hasClass(fullscreenClass)) {\r\n                that.cancelFullScreen();\r\n                $stageShaft.focus();\r\n            } else {\r\n                that.requestFullScreen();\r\n                $fullscreenIcon.focus();\r\n            }\r\n\r\n        });\r\n        addFocusOnControls(fullscreenIcon);\r\n\r\n        function reset() {\r\n            setData();\r\n            setOptions();\r\n\r\n            if (!reset.i) {\r\n                reset.i = true;\r\n                // Only once\r\n                var _startindex = opts.startindex;\r\n                activeIndex = repositionIndex = dirtyIndex = lastActiveIndex = startIndex = edgeIndex(_startindex) || 0;\r\n                /*(o_rtl ? size - 1 : 0)*///;\r\n            }\r\n\r\n            if (size) {\r\n                if (changeToRtl()) return;\r\n\r\n                if ($videoPlaying) {\r\n                    unloadVideo($videoPlaying, true);\r\n                }\r\n\r\n                activeIndexes = [];\r\n                detachFrames(STAGE_FRAME_KEY);\r\n\r\n                reset.ok = true;\r\n\r\n                that.show({index: activeIndex, time: 0});\r\n                that.resize();\r\n            } else {\r\n                that.destroy();\r\n            }\r\n        }\r\n\r\n        function changeToRtl() {\r\n\r\n            if (!changeToRtl.f === o_rtl) {\r\n                changeToRtl.f = o_rtl;\r\n                activeIndex = size - 1 - activeIndex;\r\n                that.reverse();\r\n\r\n                return true;\r\n            }\r\n        }\r\n\r\n        $.each('load push pop shift unshift reverse sort splice'.split(' '), function (i, method) {\r\n            that[method] = function () {\r\n                data = data || [];\r\n                if (method !== 'load') {\r\n                    Array.prototype[method].apply(data, arguments);\r\n                } else if (arguments[0] && typeof arguments[0] === 'object' && arguments[0].length) {\r\n                    data = clone(arguments[0]);\r\n                }\r\n                reset();\r\n                return that;\r\n            }\r\n        });\r\n\r\n        function ready() {\r\n            if (ready.ok) {\r\n                ready.ok = false;\r\n                triggerEvent('ready');\r\n            }\r\n        }\r\n\r\n        reset();\r\n    };\r\n    $.fn.fotorama = function (opts) {\r\n        return this.each(function () {\r\n            var that = this,\r\n                $fotorama = $(this),\r\n                fotoramaData = $fotorama.data(),\r\n                fotorama = fotoramaData.fotorama;\r\n\r\n            if (!fotorama) {\r\n                waitFor(function () {\r\n                    return !isHidden(that);\r\n                }, function () {\r\n                    fotoramaData.urtext = $fotorama.html();\r\n                    new $.Fotorama($fotorama,\r\n                        $.extend(\r\n                            {},\r\n                            OPTIONS,\r\n                            window.fotoramaDefaults,\r\n                            opts,\r\n                            fotoramaData\r\n                        )\r\n                    );\r\n                });\r\n            } else {\r\n                fotorama.setOptions(opts, true);\r\n            }\r\n        });\r\n    };\r\n    $.Fotorama.instances = [];\r\n\r\n    function calculateIndexes() {\r\n        $.each($.Fotorama.instances, function (index, instance) {\r\n            instance.index = index;\r\n        });\r\n    }\r\n\r\n    function addInstance(instance) {\r\n        $.Fotorama.instances.push(instance);\r\n        calculateIndexes();\r\n    }\r\n\r\n    function hideInstance(instance) {\r\n        $.Fotorama.instances.splice(instance.index, 1);\r\n        calculateIndexes();\r\n    }\r\n\r\n    $.Fotorama.cache = {};\r\n    $.Fotorama.measures = {};\r\n    $ = $ || {};\r\n    $.Fotorama = $.Fotorama || {};\r\n    $.Fotorama.jst = $.Fotorama.jst || {};\r\n\r\n    $.Fotorama.jst.dots = function (v) {\r\n        var __t, __p = '', __e = _.escape;\r\n        __p += '<div class=\"fotorama__nav__frame fotorama__nav__frame--dot\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__dot\"></div>\\r\\n</div>';\r\n        return __p\r\n    };\r\n\r\n    $.Fotorama.jst.frameCaption = function (v) {\r\n        var __t, __p = '', __e = _.escape;\r\n        __p += '<div class=\"fotorama__caption\" aria-hidden=\"true\">\\r\\n    <div class=\"fotorama__caption__wrap\" id=\"' +\r\n            ((__t = ( v.labelledby )) == null ? '' : __t) +\r\n            '\">' +\r\n            ((__t = ( v.caption )) == null ? '' : __t) +\r\n            '</div>\\r\\n</div>\\r\\n';\r\n        return __p\r\n    };\r\n\r\n    $.Fotorama.jst.style = function (v) {\r\n        var __t, __p = '', __e = _.escape;\r\n        __p += '.fotorama' +\r\n            ((__t = ( v.s )) == null ? '' : __t) +\r\n            ' .fotorama__nav--thumbs .fotorama__nav__frame{\\r\\npadding:' +\r\n            ((__t = ( v.m )) == null ? '' : __t) +\r\n            'px;\\r\\nheight:' +\r\n            ((__t = ( v.h )) == null ? '' : __t) +\r\n            'px}\\r\\n.fotorama' +\r\n            ((__t = ( v.s )) == null ? '' : __t) +\r\n            ' .fotorama__thumb-border{\\r\\nheight:' +\r\n            ((__t = ( v.h )) == null ? '' : __t) +\r\n            'px;\\r\\nborder-width:' +\r\n            ((__t = ( v.b )) == null ? '' : __t) +\r\n            'px;\\r\\nmargin-top:' +\r\n            ((__t = ( v.m )) == null ? '' : __t) +\r\n            'px}';\r\n        return __p\r\n    };\r\n\r\n    $.Fotorama.jst.thumb = function (v) {\r\n        var __t, __p = '', __e = _.escape;\r\n        __p += '<div class=\"fotorama__nav__frame fotorama__nav__frame--thumb\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__thumb\">\\r\\n    </div>\\r\\n</div>';\r\n        return __p\r\n    };\r\n})(window, document, location, typeof jQuery !== 'undefined' && jQuery);\r\n\r\n","fotorama/fotorama.min.js":"/*!\r\n * Fotorama 4.6.4 | http://fotorama.io/license/\r\n */\r\nfotoramaVersion=\"4.6.4\",function(a,b,c,d,e){\"use strict\";function Ba(a){var b=\"bez_\"+d.makeArray(arguments).join(\"_\").replace(\".\",\"p\");if(\"function\"!=typeof d.easing[b]){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){for(var d,b=a,c=0;++c<14&&(d=f(b,0)-a,!(Math.abs(d)<.001));)b-=d/g(b);return b};return function(a){return f(h(a),1)}};d.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}function eb(){}function fb(a,b,c){return Math.max(isNaN(b)?-(1/0):b,Math.min(isNaN(c)?1/0:c,a))}function gb(a,b){return a.match(/ma/)&&a.match(/-?\\d+(?!d)/g)[a.match(/3d/)?\"vertical\"===b?13:12:\"vertical\"===b?5:4]}function hb(a,b){return Ia?+gb(a.css(\"transform\"),b):+a.css(\"vertical\"===b?\"top\":\"left\").replace(\"px\",\"\")}function ib(a,b){var c={};if(Ia)switch(b){case\"vertical\":c.transform=\"translate3d(0, \"+a+\"px,0)\";break;case\"list\":break;default:c.transform=\"translate3d(\"+a+\"px,0,0)\"}else\"vertical\"===b?c.top=a:c.left=a;return c}function jb(a){return{\"transition-duration\":a+\"ms\"}}function kb(a,b){return isNaN(a)?b:a}function lb(a,b){return kb(+String(a).replace(b||\"px\",\"\"))}function mb(a){return/%$/.test(a)?lb(a,\"%\"):e}function nb(a,b){return kb(mb(a)/100*b,lb(a))}function ob(a){return(!isNaN(lb(a))||!isNaN(lb(a,\"%\")))&&a}function pb(a,b,c,d){return(a-(d||0))*(b+(c||0))}function qb(a,b,c,d){return-Math.round(a/(b+(c||0))-(d||0))}function rb(a){var b=a.data();if(!b.tEnd){var c=a[0],d={WebkitTransition:\"webkitTransitionEnd\",MozTransition:\"transitionend\",OTransition:\"oTransitionEnd otransitionend\",msTransition:\"MSTransitionEnd\",transition:\"transitionend\"};Rb(c,d[wa.prefixed(\"transition\")],function(a){b.tProp&&a.propertyName.match(b.tProp)&&b.onEndFn()}),b.tEnd=!0}}function sb(a,b,c,d){var e,f=a.data();f&&(f.onEndFn=function(){e||(e=!0,clearTimeout(f.tT),c())},f.tProp=b,clearTimeout(f.tT),f.tT=setTimeout(function(){f.onEndFn()},1.5*d),rb(a))}function tb(a,b){var c=a.navdir||\"horizontal\";if(a.length){var d=a.data();Ia?(a.css(jb(0)),d.onEndFn=eb,clearTimeout(d.tT)):a.stop();var e=ub(b,function(){return hb(a,c)});return a.css(ib(e,c)),e}}function ub(){for(var a,b=0,c=arguments.length;b<c&&(a=b?arguments[b]():arguments[b],\"number\"!=typeof a);b++);return a}function vb(a,b){return Math.round(a+(b-a)/1.5)}function wb(){return wb.p=wb.p||(\"https:\"===c.protocol?\"https://\":\"http://\"),wb.p}function xb(a){var c=b.createElement(\"a\");return c.href=a,c}function yb(a,b){if(\"string\"!=typeof a)return a;a=xb(a);var c,d;if(a.host.match(/youtube\\.com/)&&a.search){if(c=a.search.split(\"v=\")[1]){var e=c.indexOf(\"&\");e!==-1&&(c=c.substring(0,e)),d=\"youtube\"}}else a.host.match(/youtube\\.com|youtu\\.be/)?(c=a.pathname.replace(/^\\/(embed\\/|v\\/)?/,\"\").replace(/\\/.*/,\"\"),d=\"youtube\"):a.host.match(/vimeo\\.com/)&&(d=\"vimeo\",c=a.pathname.replace(/^\\/(video\\/)?/,\"\").replace(/\\/.*/,\"\"));return c&&d||!b||(c=a.href,d=\"custom\"),!!c&&{id:c,type:d,s:a.search.replace(/^\\?/,\"\"),p:wb()}}function zb(a,b,c){var e,f,g=a.video;return\"youtube\"===g.type?(f=wb()+\"img.youtube.com/vi/\"+g.id+\"/default.jpg\",e=f.replace(/\\/default.jpg$/,\"/hqdefault.jpg\"),a.thumbsReady=!0):\"vimeo\"===g.type?d.ajax({url:wb()+\"vimeo.com/api/v2/video/\"+g.id+\".json\",dataType:\"jsonp\",success:function(d){a.thumbsReady=!0,Ab(b,{img:d[0].thumbnail_large,thumb:d[0].thumbnail_small},a.i,c)}}):a.thumbsReady=!0,{img:e,thumb:f}}function Ab(a,b,c,e){for(var f=0,g=a.length;f<g;f++){var h=a[f];if(h.i===c&&h.thumbsReady){var i={videoReady:!0};i[Xa]=i[Za]=i[Ya]=!1,e.splice(f,1,d.extend({},h,i,b));break}}}function Bb(a){function c(a,b,c){var f=a.children(\"img\").eq(0),g=a.attr(\"href\"),h=a.attr(\"src\"),i=f.attr(\"src\"),j=b.video,k=!!c&&yb(g,j===!0);k?g=!1:k=j,e(a,f,d.extend(b,{video:k,img:b.img||g||h||i,thumb:b.thumb||i||h||g}))}function e(a,b,c){var e=c.thumb&&c.img!==c.thumb,f=lb(c.width||a.attr(\"width\")),g=lb(c.height||a.attr(\"height\"));d.extend(c,{width:f,height:g,thumbratio:Qb(c.thumbratio||lb(c.thumbwidth||b&&b.attr(\"width\")||e||f)/lb(c.thumbheight||b&&b.attr(\"height\")||e||g))})}var b=[];return a.children().each(function(){var a=d(this),f=Pb(d.extend(a.data(),{id:a.attr(\"id\")}));if(a.is(\"a, img\"))c(a,f,!0);else{if(a.is(\":empty\"))return;e(a,null,d.extend(f,{html:this,_html:a.html()}))}b.push(f)}),b}function Cb(a){return 0===a.offsetWidth&&0===a.offsetHeight}function Db(a){return!d.contains(b.documentElement,a)}function Eb(a,b,c,d){return Eb.i||(Eb.i=1,Eb.ii=[!0]),d=d||Eb.i,\"undefined\"==typeof Eb.ii[d]&&(Eb.ii[d]=!0),a()?b():Eb.ii[d]&&setTimeout(function(){Eb.ii[d]&&Eb(a,b,c,d)},c||100),Eb.i++}function Fb(a,b){var c=a.data(),d=c.measures;if(d&&(!c.l||c.l.W!==d.width||c.l.H!==d.height||c.l.r!==d.ratio||c.l.w!==b.w||c.l.h!==b.h)){var e=fb(b.h,0,d.height),f=e*d.ratio;$b.setRatio(a,f,e),c.l={W:d.width,H:d.height,r:d.ratio,w:b.w,h:b.h}}return!0}function Gb(a,b){var c=a[0];c.styleSheet?c.styleSheet.cssText=b:a.html(b)}function Hb(a,b,c,d){return b!==c&&(\"vertical\"===d?a<=b?\"top\":a>=c?\"bottom\":\"top bottom\":a<=b?\"left\":a>=c?\"right\":\"left right\")}function Ib(a,b,c){c=c||{},a.each(function(){var f,a=d(this),e=a.data();e.clickOn||(e.clickOn=!0,d.extend(hc(a,{onStart:function(a){f=a,(c.onStart||eb).call(this,a)},onMove:c.onMove||eb,onTouchEnd:c.onTouchEnd||eb,onEnd:function(a){a.moved||b.call(this,f)}}),{noMove:!0}))})}function Jb(a,b){return'<div class=\"'+a+'\">'+(b||\"\")+\"</div>\"}function Kb(a){return\".\"+a}function Lb(a){var b='<iframe src=\"'+a.p+a.type+\".com/embed/\"+a.id+'\" frameborder=\"0\" allowfullscreen></iframe>';return b}function Mb(a){for(var b=a.length;b;){var c=Math.floor(Math.random()*b--),d=a[b];a[b]=a[c],a[c]=d}return a}function Nb(a){return\"[object Array]\"==Object.prototype.toString.call(a)&&d.map(a,function(a){return d.extend({},a)})}function Ob(a,b,c){a.scrollLeft(b||0).scrollTop(c||0)}function Pb(a){if(a){var b={};return d.each(a,function(a,c){b[a.toLowerCase()]=c}),b}}function Qb(a){if(a){var b=+a;return isNaN(b)?(b=a.split(\"/\"),+b[0]/+b[1]||e):b}}function Rb(a,b,c,d){b&&(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent(\"on\"+b,c))}function Sb(a,b){return a>b.max?a=b.max:a<b.min&&(a=b.min),a}function Tb(a,b,c,d,e,f,g){var h,i,j;return\"horizontal\"===g?(i=a.thumbwidth,j=f.width()):(i=a.thumbheight,j=f.height()),h=(i+a.margin)*(c+1)>=j-d?\"horizontal\"===g?-e.position().left:-e.position().top:(i+a.margin)*c<=Math.abs(d)?\"horizontal\"===g?-e.position().left+j-(i+a.margin):-e.position().top+j-(i+a.margin):d,h=Sb(h,b),h||0}function Ub(a){return!!a.getAttribute(\"disabled\")}function Vb(a,b){return b?{disabled:a}:{tabindex:a*-1+\"\",disabled:a}}function Wb(a,b){Rb(a,\"keyup\",function(c){Ub(a)||13==c.keyCode&&b.call(a,c)})}function Xb(a,b){Rb(a,\"focus\",a.onfocusin=function(c){b.call(a,c)},!0)}function Yb(a,b){a.preventDefault?a.preventDefault():a.returnValue=!1,b&&a.stopPropagation&&a.stopPropagation()}function Zb(a){return a?\">\":\"<\"}function _b(a,b){var c=a.data(),e=Math.round(b.pos),f=function(){c&&c.sliding&&(c.sliding=!1),(b.onEnd||eb)()};\"undefined\"!=typeof b.overPos&&b.overPos!==b.pos&&(e=b.overPos);var g=d.extend(ib(e,b.direction),b.width&&{width:b.width},b.height&&{height:b.height});c&&c.sliding&&(c.sliding=!0),Ia?(a.css(d.extend(jb(b.time),g)),b.time>10?sb(a,\"transform\",f,b.time):f()):a.stop().animate(g,b.time,_a,f)}function ac(a,b,c,e,f,g){var h=\"undefined\"!=typeof g;if(h||(f.push(arguments),Array.prototype.push.call(arguments,f.length),!(f.length>1))){a=a||d(a),b=b||d(b);var i=a[0],j=b[0],k=\"crossfade\"===e.method,l=function(){if(!l.done){l.done=!0;var a=(h||f.shift())&&f.shift();a&&ac.apply(this,a),(e.onEnd||eb)(!!a)}},m=e.time/(g||1);c.removeClass(P+\" \"+O),a.stop().addClass(P),b.stop().addClass(O),k&&j&&a.fadeTo(0,0),a.fadeTo(k?m:0,1,k&&l),b.fadeTo(m,0,l),i&&k||j||l()}}function gc(a){var b=(a.touches||[])[0]||a;a._x=b.pageX||b.originalEvent.pageX,a._y=b.clientY||b.originalEvent.clientY,a._now=d.now()}function hc(a,c){function p(a){return i=d(a.target),f.checked=l=m=o=!1,g||f.flow||a.touches&&a.touches.length>1||a.which>1||bc&&bc.type!==a.type&&dc||(l=c.select&&i.is(c.select,e))?l:(k=\"touchstart\"===a.type,m=i.is(\"a, a *\",e),j=f.control,n=f.noMove||f.noSwipe||j?16:f.snap?0:4,gc(a),h=bc=a,cc=a.type.replace(/down|start/,\"move\").replace(/Down/,\"Move\"),(c.onStart||eb).call(e,a,{control:j,$target:i}),g=f.flow=!0,void(k&&!f.go||Yb(a)))}function q(a){if(a.touches&&a.touches.length>1||Na&&!a.isPrimary||cc!==a.type||!g)return g&&r(),void(c.onTouchEnd||eb)();gc(a);var b=Math.abs(a._x-h._x),d=Math.abs(a._y-h._y),i=b-d,j=(f.go||f.x||i>=0)&&!f.noSwipe,l=i<0;k&&!f.checked?(g=j)&&Yb(a):(Yb(a),(c.onMove||eb).call(e,a,{touch:k})),!o&&Math.sqrt(Math.pow(b,2)+Math.pow(d,2))>n&&(o=!0),f.checked=f.checked||j||l}function r(a){(c.onTouchEnd||eb)();var b=g;f.control=g=!1,b&&(f.flow=!1),!b||m&&!f.checked||(a&&Yb(a),dc=!0,clearTimeout(ec),ec=setTimeout(function(){dc=!1},1e3),(c.onEnd||eb).call(e,{moved:o,$target:i,control:j,touch:k,startEvent:h,aborted:!a||\"MSPointerCancel\"===a.type}))}function s(){f.flow||(f.flow=!0)}function t(){f.flow&&(f.flow=!1)}var g,h,i,j,k,l,m,n,o,e=a[0],f={};return Na?(Rb(e,\"MSPointerDown\",p),Rb(b,\"MSPointerMove\",q),Rb(b,\"MSPointerCancel\",r),Rb(b,\"MSPointerUp\",r)):(Rb(e,\"touchstart\",p),Rb(e,\"touchmove\",q),Rb(e,\"touchend\",r),Rb(b,\"touchstart\",s),Rb(b,\"touchend\",t),Rb(b,\"touchcancel\",t),Ca.on(\"scroll\",t),a.on(\"mousedown pointerdown\",p),Da.on(\"mousemove pointermove\",q).on(\"mouseup pointerup\",r)),fc=wa.touch?\"a\":\"div\",a.on(\"click\",fc,function(a){f.checked&&Yb(a)}),f}function ic(a,b){function w(d,e){v=!0,g=h=\"vertical\"===r?d._y:d._x,m=d._now,l=[[m,g]],i=j=f.noMove||e?0:tb(a,(b.getPos||eb)()),(b.onStart||eb).call(c,d)}function x(b,c){o=f.min,p=f.max,q=f.snap,r=f.direction||\"horizontal\",a.navdir=r,s=b.altKey,v=u=!1,t=c.control,t||e.sliding||w(b)}function y(d,e){f.noSwipe||(v||w(d),h=\"vertical\"===r?d._y:d._x,l.push([d._now,h]),j=i-(g-h),k=Hb(j,o,p,r),j<=o?j=vb(j,o):j>=p&&(j=vb(j,p)),f.noMove||(a.css(ib(j,r)),u||(u=!0,e.touch||Na||a.addClass(ea)),(b.onMove||eb).call(c,d,{pos:j,edge:k})))}function z(e){if(!f.noSwipe||!e.moved){v||w(e.startEvent,!0),e.touch||Na||a.removeClass(ea),n=d.now();for(var k,m,t,x,y,z,A,B,D,g=n-Pa,u=null,C=Qa,E=b.friction,F=l.length-1;F>=0;F--){if(k=l[F][0],m=Math.abs(k-g),null===u||m<t)u=k,x=l[F][1];else if(u===g||m>t)break;t=m}A=fb(j,o,p);var G=x-h,H=G>=0,I=n-u,J=I>Pa,K=!J&&j!==i&&A===j;q&&(A=fb(Math[K?H?\"floor\":\"ceil\":\"round\"](j/q)*q,o,p),o=p=A),K&&(q||A===j)&&(D=-(G/I),C*=fb(Math.abs(D),b.timeLow,b.timeHigh),y=Math.round(j+D*C/E),q||(A=y),(!H&&y>p||H&&y<o)&&(z=H?o:p,B=y-z,q||(A=z),B=fb(A+.03*B,z-50,z+50),C=Math.abs((j-B)/(D/E)))),C*=s?10:1,(b.onEnd||eb).call(c,d.extend(e,{moved:e.moved||J&&q,pos:j,newPos:A,overPos:B,time:C,dir:r}))}}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,c=a[0],e=a.data(),f={};return f=d.extend(hc(b.$wrap,d.extend({},b,{onStart:x,onMove:y,onEnd:z})),f)}function jc(a,b){var e,f,g,c=a[0],h={prevent:{}};return Rb(c,Oa,function(a){var c=a.wheelDeltaY||-1*a.deltaY||0,i=a.wheelDeltaX||-1*a.deltaX||0,j=Math.abs(i)&&!Math.abs(c),k=Zb(i<0),l=f===k,m=d.now(),n=m-g<Pa;f=k,g=m,j&&h.ok&&(!h.prevent[k]||e)&&(Yb(a,!0),e&&l&&n||(b.shift&&(e=!0,clearTimeout(h.t),h.t=setTimeout(function(){e=!1},Ra)),(b.onEnd||eb)(a,b.shift?k:i)))}),h}function kc(){d.each(d.Fotorama.instances,function(a,b){b.index=a})}function lc(a){d.Fotorama.instances.push(a),kc()}function mc(a){d.Fotorama.instances.splice(a.index,1),kc()}var f=\"fotorama\",g=\"fotorama__fullscreen\",h=f+\"__wrap\",i=h+\"--css2\",j=h+\"--css3\",k=h+\"--video\",l=h+\"--fade\",m=h+\"--slide\",n=h+\"--no-controls\",o=h+\"--no-shadows\",p=h+\"--pan-y\",q=h+\"--rtl\",s=h+\"--no-captions\",t=h+\"--toggle-arrows\",u=f+\"__stage\",v=u+\"__frame\",w=v+\"--video\",x=u+\"__shaft\",y=f+\"__grab\",z=f+\"__pointer\",A=f+\"__arr\",B=A+\"--disabled\",C=A+\"--prev\",D=A+\"--next\",E=f+\"__nav\",F=E+\"-wrap\",G=E+\"__shaft\",H=F+\"--vertical\",I=F+\"--list\",J=F+\"--horizontal\",K=E+\"--dots\",L=E+\"--thumbs\",M=E+\"__frame\",N=f+\"__fade\",O=N+\"-front\",P=N+\"-rear\",Q=f+\"__shadow\",R=Q+\"s\",S=R+\"--left\",T=R+\"--right\",U=R+\"--top\",V=R+\"--bottom\",W=f+\"__active\",X=f+\"__select\",Y=f+\"--hidden\",Z=f+\"--fullscreen\",$=f+\"__fullscreen-icon\",_=f+\"__error\",aa=f+\"__loading\",ba=f+\"__loaded\",ca=ba+\"--full\",da=ba+\"--img\",ea=f+\"__grabbing\",fa=f+\"__img\",ga=fa+\"--full\",ha=f+\"__thumb\",ia=ha+\"__arr--left\",ja=ha+\"__arr--right\",ka=ha+\"-border\",la=f+\"__html\",ma=f+\"-video-container\",na=f+\"__video\",oa=na+\"-play\",pa=na+\"-close\",qa=f+\"_horizontal_ratio\",ra=f+\"_vertical_ratio\",sa=f+\"__spinner\",ta=sa+\"--show\",ua=d&&d.fn.jquery.split(\".\");if(!ua||ua[0]<1||1==ua[0]&&ua[1]<8)throw\"Fotorama requires jQuery 1.8 or later and will not run without it.\";var va={},wa=function(a,b,c){function y(a){i.cssText=a}function A(a,b){return typeof a===b}function B(a,b){return!!~(\"\"+a).indexOf(b)}function C(a,b){for(var d in a){var e=a[d];if(!B(e,\"-\")&&i[e]!==c)return\"pfx\"!=b||e}return!1}function D(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:A(f,\"function\")?f.bind(d||b):f}return!1}function E(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+\" \"+n.join(d+\" \")+d).split(\" \");return A(b,\"string\")||A(b,\"undefined\")?C(e,b):(e=(a+\" \"+o.join(d+\" \")+d).split(\" \"),D(e,b,c))}var j,u,x,d=\"2.8.3\",e={},f=b.documentElement,g=\"modernizr\",h=b.createElement(g),i=h.style,l=({}.toString,\" -webkit- -moz- -o- -ms- \".split(\" \")),m=\"Webkit Moz O ms\",n=m.split(\" \"),o=m.toLowerCase().split(\" \"),p={},s=[],t=s.slice,v=function(a,c,d,e){var h,i,j,k,l=b.createElement(\"div\"),m=b.body,n=m||b.createElement(\"body\");if(parseInt(d,10))for(;d--;)j=b.createElement(\"div\"),j.id=e?e[d]:g+(d+1),l.appendChild(j);return h=[\"&#173;\",'<style id=\"s',g,'\">',a,\"</style>\"].join(\"\"),l.id=g,(m?l:n).innerHTML+=h,n.appendChild(l),m||(n.style.background=\"\",n.style.overflow=\"hidden\",k=f.style.overflow,f.style.overflow=\"hidden\",f.appendChild(n)),i=c(l,a),m?l.parentNode.removeChild(l):(n.parentNode.removeChild(n),f.style.overflow=k),!!i},w={}.hasOwnProperty;x=A(w,\"undefined\")||A(w.call,\"undefined\")?function(a,b){return b in a&&A(a.constructor.prototype[b],\"undefined\")}:function(a,b){return w.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(\"function\"!=typeof c)throw new TypeError;var d=t.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(t.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(t.call(arguments)))};return e}),p.touch=function(){var c;return\"ontouchstart\"in a||a.DocumentTouch&&b instanceof DocumentTouch?c=!0:v([\"@media (\",l.join(\"touch-enabled),(\"),g,\")\",\"{#modernizr{top:9px;position:absolute}}\"].join(\"\"),function(a){c=9===a.offsetTop}),c},p.csstransforms3d=function(){var a=!!E(\"perspective\");return a&&\"webkitPerspective\"in f.style&&v(\"@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}\",function(b,c){a=9===b.offsetLeft&&3===b.offsetHeight}),a},p.csstransitions=function(){return E(\"transition\")};for(var F in p)x(p,F)&&(u=F.toLowerCase(),e[u]=p[F](),s.push((e[u]?\"\":\"no-\")+u));return e.addTest=function(a,b){if(\"object\"==typeof a)for(var d in a)x(a,d)&&e.addTest(d,a[d]);else{if(a=a.toLowerCase(),e[a]!==c)return e;b=\"function\"==typeof b?b():b,\"undefined\"!=typeof enableClasses&&enableClasses&&(f.className+=\" \"+(b?\"\":\"no-\")+a),e[a]=b}return e},y(\"\"),h=j=null,e._version=d,e._prefixes=l,e._domPrefixes=o,e._cssomPrefixes=n,e.testProp=function(a){return C([a])},e.testAllProps=E,e.testStyles=v,e.prefixed=function(a,b,c){return b?E(a,b,c):E(a,\"pfx\")},e}(a,b),xa={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:\"\",prefix:\"\"},ya=\"webkit moz o ms khtml\".split(\" \");if(\"undefined\"!=typeof b.cancelFullScreen)xa.ok=!0;else for(var za=0,Aa=ya.length;za<Aa;za++)if(xa.prefix=ya[za],\"undefined\"!=typeof b[xa.prefix+\"CancelFullScreen\"]){xa.ok=!0;break}xa.ok&&(xa.event=xa.prefix+\"fullscreenchange\",xa.is=function(){switch(this.prefix){case\"\":return b.fullScreen;case\"webkit\":return b.webkitIsFullScreen;default:return b[this.prefix+\"FullScreen\"]}},xa.request=function(a){return\"\"===this.prefix?a.requestFullScreen():a[this.prefix+\"RequestFullScreen\"]()},xa.cancel=function(a){return\"\"===this.prefix?b.cancelFullScreen():b[this.prefix+\"CancelFullScreen\"]()});var Ea,Fa,Ca=d(a),Da=d(b),Ga=\"quirks\"===c.hash.replace(\"#\",\"\"),Ha=wa.csstransforms3d,Ia=Ha&&!Ga,Ja=Ha||\"CSS1Compat\"===b.compatMode,Ka=xa.ok,La=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Ma=!Ia||La,Na=navigator.msPointerEnabled,Oa=\"onwheel\"in b.createElement(\"div\")?\"wheel\":b.onmousewheel!==e?\"mousewheel\":\"DOMMouseScroll\",Pa=250,Qa=300,Ra=1400,Sa=5e3,Ta=2,Ua=64,Va=500,Wa=333,Xa=\"$stageFrame\",Ya=\"$navDotFrame\",Za=\"$navThumbFrame\",$a=\"auto\",_a=Ba([.1,0,.25,1]),ab=1200,bb=1,cb={width:null,minwidth:null,maxwidth:\"100%\",height:null,minheight:null,maxheight:null,ratio:null,margin:Ta,nav:\"dots\",navposition:\"bottom\",navwidth:null,thumbwidth:Ua,thumbheight:Ua,thumbmargin:Ta,thumbborderwidth:Ta,allowfullscreen:!1,transition:\"slide\",clicktransition:null,transitionduration:Qa,captions:!0,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!1,trackpad:!1,shuffle:!1,direction:\"ltr\",shadows:!0,showcaption:!0,navdir:\"horizontal\",navarrows:!0,navtype:\"thumbs\"},db={left:!0,right:!0,down:!0,up:!0,space:!1,home:!1,end:!1};Eb.stop=function(a){Eb.ii[a]=!1};var bc,cc,dc,ec,fc,$b=function(){function a(a,b,c){var d=b/c;d<=1?(a.parent().removeClass(qa),a.parent().addClass(ra)):(a.parent().removeClass(ra),a.parent().addClass(qa))}function b(a,b,c){var f=c;a.attr(f)||a.attr(f)===e||a.attr(f,b),a.find(\"[\"+f+\"]\").length&&a.find(\"[\"+f+\"]\").each(function(){d(this).attr(f,b)})}function c(a,b,c){var e,d=!1;return e=a.showCaption===c||a.showCaption===!0,!!b&&(a.caption&&e&&(d=!0),d)}return{setRatio:a,setThumbAttr:b,isExpectedCaption:c}}($b||{},jQuery);jQuery.Fotorama=function(c,r){function Yc(){d.each(ea,function(a,b){if(!b.i){b.i=ha++;var c=yb(b.video,!0);if(c){var d={};b.video=c,b.img||b.thumb?b.thumbsReady=!0:d=zb(b,ea,N),Ab(ea,{img:d.img,thumb:d.thumb},b.i,N)}}})}function Zc(a){return Dc[a]}function $c(){if(ya!==e)if(\"vertical\"==r.navdir){var a=r.thumbwidth+r.thumbmargin;ya.css(\"left\",a),Ha.css(\"right\",a),vb.css(\"right\",a),wa.css(\"width\",wa.css(\"width\")+a),Aa.css(\"max-width\",wa.width()-a)}else ya.css(\"left\",\"\"),Ha.css(\"right\",\"\"),vb.css(\"right\",\"\"),wa.css(\"width\",wa.css(\"width\")+a),Aa.css(\"max-width\",\"\")}function _c(a){var j,b=\"keydown.\"+f,c=f+O,e=\"keydown.\"+c,h=\"keyup.\"+c,i=\"resize.\"+c+\" orientationchange.\"+c;a?(Da.on(e,function(a){var b,c;bc&&27===a.keyCode?(b=!0,Vd(bc,!0,!0)):(N.fullScreen||r.keyboard&&!N.index)&&(27===a.keyCode?(b=!0,N.cancelFullScreen()):a.shiftKey&&32===a.keyCode&&Zc(\"space\")||37===a.keyCode&&Zc(\"left\")||38===a.keyCode&&Zc(\"up\")&&d(\":focus\").attr(\"data-gallery-role\")?(N.longPress.progress(),c=\"<\"):32===a.keyCode&&Zc(\"space\")||39===a.keyCode&&Zc(\"right\")||40===a.keyCode&&Zc(\"down\")&&d(\":focus\").attr(\"data-gallery-role\")?(N.longPress.progress(),c=\">\"):36===a.keyCode&&Zc(\"home\")?(N.longPress.progress(),c=\"<<\"):35===a.keyCode&&Zc(\"end\")&&(N.longPress.progress(),c=\">>\")),(b||c)&&Yb(a),j={index:c,slow:a.altKey,user:!0},c&&(N.longPress.inProgress?N.showWhileLongPress(j):N.show(j))}),a&&Da.on(h,function(a){N.longPress.inProgress&&N.showEndLongPress({user:!0}),N.longPress.reset()}),N.index||Da.off(b).on(b,\"textarea, input, select\",function(a){!Fa.hasClass(g)&&a.stopPropagation()}),Ca.on(i,N.resize)):(Da.off(e),Ca.off(i))}function ad(a){a!==ad.f&&(a?(c.addClass(f+\" \"+P).before(va).before(ua),lc(N)):(va.detach(),ua.detach(),c.html(qa.urtext).removeClass(P),mc(N)),_c(a),ad.f=a)}function bd(){ea=N.data=ea||Nb(r.data)||Bb(c),ra=N.size=ea.length,ee.ok&&r.shuffle&&Mb(ea),Yc(),cc=id(cc),ra&&ad(!0)}function cd(){var a=ra<2||bc;Hc.noMove=a||wc,Hc.noSwipe=a||!r.swipe,!Ac&&Aa.toggleClass(y,!r.click&&!Hc.noMove&&!Hc.noSwipe),Na&&wa.toggleClass(p,!Hc.noSwipe)}function dd(a){a===!0&&(a=\"\"),r.autoplay=Math.max(+a||Sa,1.5*zc)}function ed(a){a.navarrows&&\"thumbs\"===a.nav?(rb.show(),sb.show()):(rb.hide(),sb.hide())}function fd(a,b){return Math.floor(wa.width()/(b.thumbwidth+b.thumbmargin))}function gd(){function b(b,c){a[b?\"add\":\"remove\"].push(c)}r.nav&&\"dots\"!==r.nav||(r.navdir=\"horizontal\"),N.options=r=Pb(r),bb=fd(wa,r),wc=\"crossfade\"===r.transition||\"dissolve\"===r.transition,qc=r.loop&&(ra>2||wc&&(!Ac||\"slide\"!==Ac)),zc=+r.transitionduration||Qa,Cc=\"rtl\"===r.direction,Dc=d.extend({},r.keyboard&&db,r.keyboard),ed(r);var a={add:[],remove:[]};ra>1?(rc=r.nav,tc=\"top\"===r.navposition,a.remove.push(X),La.toggle(r.arrows)):(rc=!1,La.hide()),Ad(),Cd(),Bd(),r.autoplay&&dd(r.autoplay),xc=lb(r.thumbwidth)||Ua,yc=lb(r.thumbheight)||Ua,Ic.ok=Kc.ok=r.trackpad&&!Ma,cd(),Kd(r,[Fc]),sc=\"thumbs\"===rc,Oa.filter(\":hidden\")&&rc&&Oa.show(),sc?(td(ra,\"navThumb\"),_a=eb,Vc=Za,Gb(ua,d.Fotorama.jst.style({w:xc,h:yc,b:r.thumbborderwidth,m:r.thumbmargin,s:O,q:!Ja})),Ra.addClass(L).removeClass(K)):\"dots\"===rc?(td(ra,\"navDot\"),_a=cb,Vc=Ya,Ra.addClass(K).removeClass(L)):(Oa.hide(),rc=!1,Ra.removeClass(L+\" \"+K)),rc&&(tc?Oa.insertBefore(ya):Oa.insertAfter(ya),xd.nav=!1,xd(_a,Ta,\"nav\")),uc=r.allowfullscreen,uc?(vb.prependTo(ya),vc=Ka&&\"native\"===uc):(vb.detach(),vc=!1),b(wc,l),b(!wc,m),b(!r.captions,s),b(Cc,q),b(r.arrows,t),Bc=r.shadows&&!Ma,b(!Bc,o),wa.addClass(a.add.join(\" \")).removeClass(a.remove.join(\" \")),Ec=d.extend({},r),$c()}function hd(a){return a<0?(ra+a%ra)%ra:a>=ra?a%ra:a}function id(a){return fb(a,0,ra-1)}function jd(a){return qc?hd(a):id(a)}function kd(a){return!!(a>0||qc)&&a-1}function ld(a){return!!(a<ra-1||qc)&&a+1}function md(){Hc.min=qc?-(1/0):-pb(ra-1,Fc.w,r.margin,fc),Hc.max=qc?1/0:-pb(0,Fc.w,r.margin,fc),Hc.snap=Fc.w+r.margin}function nd(){var a=\"vertical\"===r.navdir,b=a?Ta.height():Ta.width(),c=a?Fc.h:Fc.nw;Jc.min=Math.min(0,c-b),Jc.max=0,Jc.direction=r.navdir,Ta.toggleClass(y,!(Jc.noMove=Jc.min===Jc.max))}function od(a,b,c){if(\"number\"==typeof a){a=new Array(a);var e=!0}return d.each(a,function(a,d){if(e&&(d=a),\"number\"==typeof d){var f=ea[hd(d)];if(f){var g=\"$\"+b+\"Frame\",h=f[g];c.call(this,a,d,f,h,g,h&&h.data())}}})}function pd(a,b,c,d){(!Gc||\"*\"===Gc&&d===pc)&&(a=ob(r.width)||ob(a)||Va,b=ob(r.height)||ob(b)||Wa,N.resize({width:a,ratio:r.ratio||c||a/b},0,d!==pc&&\"*\"))}function qd(a,b,c,e){od(a,b,function(a,f,g,h,i,j){function s(a){var b=hd(f);Ld(a,{index:b,src:p,frame:ea[b]})}function t(){m.remove(),d.Fotorama.cache[p]=\"error\",g.html&&\"stage\"===b||!q||q===p?(!p||g.html||k?\"stage\"===b&&(h.trigger(\"f:load\").removeClass(aa+\" \"+_).addClass(ba),s(\"load\"),pd()):(h.trigger(\"f:error\").removeClass(aa).addClass(_),s(\"error\")),j.state=\"error\",!(ra>1&&ea[f]===g)||g.html||g.deleted||g.video||k||(g.deleted=!0,N.splice(f,1))):(g[o]=p=q,j.$full=null,qd([f],b,c,!0))}function u(){d.Fotorama.measures[p]=n.measures=d.Fotorama.measures[p]||{width:l.width,height:l.height,ratio:l.width/l.height},pd(n.measures.width,n.measures.height,n.measures.ratio,f),m.off(\"load error\").addClass(\"\"+(k?ga:fa)).attr(\"aria-hidden\",\"false\").prependTo(h),h.hasClass(v)&&!h.hasClass(ma)&&h.attr(\"href\",m.attr(\"src\")),Fb(m,(d.isFunction(c)?c():c)||Fc),d.Fotorama.cache[p]=j.state=\"loaded\",setTimeout(function(){h.trigger(\"f:load\").removeClass(aa+\" \"+_).addClass(ba+\" \"+(k?ca:da)),\"stage\"===b?s(\"load\"):(g.thumbratio===$a||!g.thumbratio&&r.thumbratio===$a)&&(g.thumbratio=n.measures.ratio,ce())},0)}function w(){var a=10;Eb(function(){return!Tc||!a--&&!Ma},function(){u()})}if(h){var k=N.fullScreen&&!j.$full&&\"stage\"===b;if(!j.$img||e||k){var l=new Image,m=d(l),n=m.data();j[k?\"$full\":\"$img\"]=m;var o=\"stage\"===b?k?\"full\":\"img\":\"thumb\",p=g[o],q=k?g.img:g[\"stage\"===b?\"thumb\":\"img\"];if(\"navThumb\"===b&&(h=j.$wrap),!p)return void t();d.Fotorama.cache[p]?!function a(){\"error\"===d.Fotorama.cache[p]?t():\"loaded\"===d.Fotorama.cache[p]?setTimeout(w,0):setTimeout(a,100)}():(d.Fotorama.cache[p]=\"*\",m.on(\"load\",w).on(\"error\",t)),j.state=\"\",l.src=p,j.data.caption&&(l.alt=j.data.caption||\"\"),j.data.full&&d(l).data(\"original\",j.data.full),$b.isExpectedCaption(g,r.showcaption)&&d(l).attr(\"aria-labelledby\",g.labelledby)}}})}function rd(){var a=dc[Xa];a&&!a.data().state&&(Ub.addClass(ta),a.on(\"f:load f:error\",function(){a.off(\"f:load f:error\"),Ub.removeClass(ta)}))}function sd(a){Wb(a,_d),Xb(a,function(){setTimeout(function(){Ob(Ra)},0),Fd({time:zc,guessIndex:d(this).data().eq,minMax:Jc})})}function td(a,b){od(a,b,function(a,c,e,f,g,h){if(!f){f=e[g]=wa[g].clone(),h=f.data(),h.data=e;var i=f[0],j=\"labelledby\"+d.now();\"stage\"===b?(e.html&&d('<div class=\"'+la+'\"></div>').append(e._html?d(e.html).removeAttr(\"id\").html(e._html):e.html).appendTo(f),e.id&&(j=e.id||j),e.labelledby=j,$b.isExpectedCaption(e,r.showcaption)&&d(d.Fotorama.jst.frameCaption({caption:e.caption,labelledby:j})).appendTo(f),e.video&&f.addClass(w).append(xb.clone()),Xb(i,function(){setTimeout(function(){Ob(ya)},0),Yd({index:h.eq,user:!0})}),Ba=Ba.add(f)):\"navDot\"===b?(sd(i),cb=cb.add(f)):\"navThumb\"===b&&(sd(i),h.$wrap=f.children(\":first\"),eb=eb.add(f),e.video&&h.$wrap.append(xb.clone()))}})}function ud(a,b){return a&&a.length&&Fb(a,b)}function vd(a){od(a,\"stage\",function(a,b,c,e,f,g){if(e){var h=hd(b);g.eq=h,Rc[Xa][h]=e.css(d.extend({left:wc?0:pb(b,Fc.w,r.margin,fc)},wc&&jb(0))),Db(e[0])&&(e.appendTo(Aa),Vd(c.$video)),ud(g.$img,Fc),ud(g.$full,Fc),!e.hasClass(v)||\"false\"===e.attr(\"aria-hidden\")&&e.hasClass(W)||e.attr(\"aria-hidden\",\"true\")}})}function wd(a,b){var c,e;\"thumbs\"!==rc||isNaN(a)||(c=-a,e=-a+Fc.nw,\"vertical\"===r.navdir&&(a-=r.thumbheight,e=-a+Fc.h),eb.each(function(){var a=d(this),f=a.data(),g=f.eq,h=function(){return{h:yc,w:f.w}},i=h(),j=\"vertical\"===r.navdir?f.t>e:f.l>e;i.w=f.w,f.l+f.w<c||j||ud(f.$img,i)||b&&qd([g],\"navThumb\",h)}))}function xd(a,b,c){if(!xd[c]){var e=\"nav\"===c&&sc,f=0,g=0;b.append(a.filter(function(){for(var a,b=d(this),c=b.data(),e=0,f=ea.length;e<f;e++)if(c.data===ea[e]){a=!0,c.eq=e;break}return a||b.remove()&&!1}).sort(function(a,b){return d(a).data().eq-d(b).data().eq}).each(function(){var a=d(this),b=a.data();$b.setThumbAttr(a,b.data.caption,\"aria-label\")}).each(function(){if(e){var a=d(this),b=a.data(),c=Math.round(yc*b.data.thumbratio)||xc,h=Math.round(xc/b.data.thumbratio)||yc;b.t=g,b.h=h,b.l=f,b.w=c,a.css({width:c}),g+=h+r.thumbmargin,f+=c+r.thumbmargin}})),xd[c]=!0}}function yd(a){return a-Wc>Fc.w/3}function zd(a){return!(qc||cc+a&&cc-ra+a||bc)}function Ad(){var a=zd(0),b=zd(1);Ga.toggleClass(B,a).attr(Vb(a,!1)),Ha.toggleClass(B,b).attr(Vb(b,!1))}function Bd(){var a=!1,b=!1;if(\"thumbs\"!==r.navtype||r.loop||(a=0==cc,b=cc==r.data.length-1),\"slides\"===r.navtype){var c=hb(Ta,r.navdir);a=c>=Jc.max,b=c<=Jc.min}rb.toggleClass(B,a).attr(Vb(a,!0)),sb.toggleClass(B,b).attr(Vb(b,!0))}function Cd(){Ic.ok&&(Ic.prevent={\"<\":zd(0),\">\":zd(1)})}function Dd(a){var c,d,e,f,b=a.data();sc?(c=b.l,d=b.t,e=b.w,f=b.h):(c=a.position().left,e=a.width());var g={c:c+e/2,min:-c+10*r.thumbmargin,max:-c+Fc.w-e-10*r.thumbmargin},h={c:d+f/2,min:-d+10*r.thumbmargin,max:-d+Fc.h-f-10*r.thumbmargin};return\"vertical\"===r.navdir?h:g}function Ed(a){var b=dc[Vc].data();_b(mb,{time:1.2*a,pos:\"vertical\"===r.navdir?b.t:b.l,width:b.w,height:b.h,direction:r.navdir})}function Fd(a){var d,e,f,g,h,i,j,k,b=ea[a.guessIndex][Vc],c=r.navtype;b&&(\"thumbs\"===c?(d=Jc.min!==Jc.max,f=a.minMax||d&&Dd(dc[Vc]),g=d&&(a.keep&&Fd.t?Fd.l:fb((a.coo||Fc.nw/2)-Dd(b).c,f.min,f.max)),h=d&&(a.keep&&Fd.l?Fd.l:fb((a.coo||Fc.nw/2)-Dd(b).c,f.min,f.max)),i=\"vertical\"===r.navdir?g:h,j=d&&fb(i,Jc.min,Jc.max)||0,e=1.1*a.time,_b(Ta,{time:e,pos:j,direction:r.navdir,onEnd:function(){wd(j,!0),Bd()}}),Ud(Ra,Hb(j,Jc.min,Jc.max,r.navdir)),Fd.l=i):(k=hb(Ta,r.navdir),e=1.11*a.time,j=Tb(r,Jc,a.guessIndex,k,b,Oa,r.navdir),_b(Ta,{time:e,pos:j,direction:r.navdir,onEnd:function(){wd(j,!0),Bd()}}),Ud(Ra,Hb(j,Jc.min,Jc.max,r.navdir))))}function Gd(){Hd(Vc),Qc[Vc].push(dc[Vc].addClass(W).attr(\"data-active\",!0))}function Hd(a){for(var b=Qc[a];b.length;)b.shift().removeClass(W).attr(\"data-active\",!1)}function Id(a){var b=Rc[a];d.each(ec,function(a,c){delete b[hd(c)]}),d.each(b,function(a,c){delete b[a],c.detach()})}function Jd(a){fc=gc=cc;var b=dc[Xa];b&&(Hd(Xa),Qc[Xa].push(b.addClass(W).attr(\"data-active\",!0)),b.hasClass(v)&&b.attr(\"aria-hidden\",\"false\"),a||N.showStage.onEnd(!0),tb(Aa,0,!0),Id(Xa),vd(ec),md(),nd(),Wb(Aa[0],function(){c.hasClass(Z)||(N.requestFullScreen(),vb.focus())}))}function Kd(a,b){a&&d.each(b,function(b,c){c&&d.extend(c,{width:a.width||c.width,height:a.height,minwidth:a.minwidth,maxwidth:a.maxwidth,minheight:a.minheight,maxheight:a.maxheight,ratio:Qb(a.ratio)})})}function Ld(a,b){c.trigger(f+\":\"+a,[N,b])}function Md(){clearTimeout(Nd.t),Tc=1,r.stopautoplayontouch?N.stopAutoplay():Oc=!0}function Nd(){Tc&&(r.stopautoplayontouch||(Od(),Pd()),Nd.t=setTimeout(function(){Tc=0},Qa+Pa))}function Od(){Oc=!(!bc&&!Pc)}function Pd(){if(clearTimeout(Pd.t),Eb.stop(Pd.w),!r.autoplay||Oc)return void(N.autoplay&&(N.autoplay=!1,Ld(\"stopautoplay\")));N.autoplay||(N.autoplay=!0,Ld(\"startautoplay\"));var a=cc,b=dc[Xa].data();Pd.w=Eb(function(){return b.state||a!==cc},function(){Pd.t=setTimeout(function(){if(!Oc&&a===cc){var b=oc,c=ea[b][Xa].data();Pd.w=Eb(function(){return c.state||b!==oc},function(){Oc||b!==oc||N.show(qc?Zb(!Cc):oc)})}},r.autoplay)})}function Qd(a){var b;return\"object\"!=typeof a?(b=a,a={}):b=a.index,b=\">\"===b?gc+1:\"<\"===b?gc-1:\"<<\"===b?0:\">>\"===b?ra-1:b,b=isNaN(b)?e:b,b=\"undefined\"==typeof b?cc||0:b}function Rd(a){N.activeIndex=cc=jd(a),kc=kd(cc),nc=ld(cc),oc=hd(cc+(Cc?-1:1)),ec=[cc,kc,nc],gc=qc?a:cc}function Sd(a){var b=Math.abs(hc-gc),c=ub(a.time,function(){return Math.min(zc*(1+(b-1)/12),2*zc)});return a.slow&&(c*=10),c}function Td(){N.fullScreen&&(N.fullScreen=!1,Ka&&xa.cancel(Q),Fa.removeClass(g),Ea.removeClass(g),c.removeClass(Z).insertAfter(va),Fc=d.extend({},Sc),Vd(bc,!0,!0),$d(\"x\",!1),N.resize(),qd(ec,\"stage\"),Ob(Ca,Mc,Lc),Ld(\"fullscreenexit\"))}function Ud(a,b){Bc&&(a.removeClass(S+\" \"+T),a.removeClass(U+\" \"+V),b&&!bc&&a.addClass(b.replace(/^|\\s/g,\" \"+R+\"--\")))}function Vd(a,b,c){b&&(wa.removeClass(k),bc=!1,cd()),a&&a!==bc&&(a.remove(),Ld(\"unloadvideo\")),c&&(Od(),Pd())}function Wd(a){wa.toggleClass(n,a)}function Xd(a){if(!Hc.flow){var b=a?a.pageX:Xd.x,c=b&&!zd(yd(b))&&r.click;Xd.p!==c&&ya.toggleClass(z,c)&&(Xd.p=c,Xd.x=b)}}function Yd(a){clearTimeout(Yd.t),r.clicktransition&&r.clicktransition!==r.transition?setTimeout(function(){var b=r.transition;N.setOptions({transition:r.clicktransition}),Ac=b,Yd.t=setTimeout(function(){N.show(a)},10)},0):N.show(a)}function Zd(a,b){var e=a.target,f=d(e);f.hasClass(oa)?N.playVideo():e===wb?N.toggleFullScreen():bc?e===Rb&&Vd(bc,!0,!0):c.hasClass(Z)||N.requestFullScreen()}function $d(a,b){Hc[a]=Jc[a]=b}function _d(a){var b=d(this).data().eq;Yd(\"thumbs\"===r.navtype?{index:b,slow:a.altKey,user:!0,coo:a._x-Ra.offset().left}:{index:b,slow:a.altKey,user:!0})}function ae(a){Yd({index:La.index(this)?\">\":\"<\",slow:a.altKey,user:!0})}function be(a){Xb(a,function(){setTimeout(function(){Ob(ya)},0),Wd(!1)})}function ce(){if(bd(),gd(),!ce.i){ce.i=!0;var a=r.startindex;cc=fc=gc=hc=pc=jd(a)||0}if(ra){if(de())return;bc&&Vd(bc,!0),ec=[],Id(Xa),ce.ok=!0,N.show({index:cc,time:0}),N.resize()}else N.destroy()}function de(){if(!de.f===Cc)return de.f=Cc,cc=ra-1-cc,N.reverse(),!0}function ee(){ee.ok&&(ee.ok=!1,Ld(\"ready\"))}Ea=d(\"html\"),Fa=d(\"body\");var ea,ra,_a,bc,dc,ec,fc,gc,hc,kc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Gc,Lc,Mc,Nc,Oc,Pc,Sc,Tc,Uc,Vc,N=this,O=d.now(),P=f+O,Q=c[0],ha=1,qa=c.data(),ua=d(\"<style></style>\"),va=d(Jb(Y)),wa=c.find(Kb(h)),ya=wa.find(Kb(u)),Aa=(ya[0],c.find(Kb(x))),Ba=d(),Ga=c.find(Kb(C)),Ha=c.find(Kb(D)),La=c.find(Kb(A)),Oa=c.find(Kb(F)),Ra=Oa.find(Kb(E)),Ta=Ra.find(Kb(G)),cb=d(),eb=d(),mb=(Aa.data(),Ta.data(),c.find(Kb(ka))),rb=c.find(Kb(ia)),sb=c.find(Kb(ja)),vb=c.find(Kb($)),wb=vb[0],xb=d(Jb(oa)),Cb=c.find(Kb(pa)),Rb=Cb[0],Ub=c.find(Kb(sa)),cc=!1,Ec={},Fc={},Hc={},Ic={},Jc={},Kc={},Qc={},Rc={},Wc=0,Xc=[];wa[Xa]=d('<div class=\"'+v+'\"></div>'),wa[Za]=d(d.Fotorama.jst.thumb()),wa[Ya]=d(d.Fotorama.jst.dots()),\r\n    Qc[Xa]=[],Qc[Za]=[],Qc[Ya]=[],Rc[Xa]={},wa.addClass(Ia?j:i),qa.fotorama=this,N.startAutoplay=function(a){return N.autoplay?this:(Oc=Pc=!1,dd(a||r.autoplay),Pd(),this)},N.stopAutoplay=function(){return N.autoplay&&(Oc=Pc=!0,Pd()),this},N.showSlide=function(a){var c,b=hb(Ta,r.navdir),d=550,e=\"horizontal\"===r.navdir?r.thumbwidth:r.thumbheight,f=function(){Bd()};\"next\"===a&&(c=b-(e+r.margin)*bb),\"prev\"===a&&(c=b+(e+r.margin)*bb),c=Sb(c,Jc),wd(c,!0),_b(Ta,{time:d,pos:c,direction:r.navdir,onEnd:f})},N.showWhileLongPress=function(a){if(!N.longPress.singlePressInProgress){var b=Qd(a);Rd(b);var c=Sd(a)/50,d=dc;N.activeFrame=dc=ea[cc];var e=d===dc&&!a.user;return N.showNav(e,a,c),this}},N.showEndLongPress=function(a){if(!N.longPress.singlePressInProgress){var b=Qd(a);Rd(b);var c=Sd(a)/50,d=dc;N.activeFrame=dc=ea[cc];var e=d===dc&&!a.user;return N.showStage(e,a,c),Nc=\"undefined\"!=typeof hc&&hc!==cc,hc=cc,this}},N.showStage=function(a,b,c){Vd(bc,dc.i!==ea[hd(fc)].i),td(ec,\"stage\"),vd(Ma?[gc]:[gc,kd(gc),ld(gc)]),$d(\"go\",!0),a||Ld(\"show\",{user:b.user,time:c}),Oc=!0;var d=b.overPos,e=N.showStage.onEnd=function(c){if(!e.ok){if(e.ok=!0,c||Jd(!0),a||Ld(\"showend\",{user:b.user}),!c&&Ac&&Ac!==r.transition)return N.setOptions({transition:Ac}),void(Ac=!1);rd(),qd(ec,\"stage\"),$d(\"go\",!1),Cd(),Xd(),Od(),Pd(),N.fullScreen?(dc[Xa].find(\".\"+ga).attr(\"aria-hidden\",!1),dc[Xa].find(\".\"+fa).attr(\"aria-hidden\",!0)):(dc[Xa].find(\".\"+ga).attr(\"aria-hidden\",!0),dc[Xa].find(\".\"+fa).attr(\"aria-hidden\",!1))}};if(wc){var f=dc[Xa],g=ea[hc]&&cc!==hc?ea[hc][Xa]:null;ac(f,g,Ba,{time:c,method:r.transition,onEnd:e},Xc)}else _b(Aa,{pos:-pb(gc,Fc.w,r.margin,fc),overPos:d,time:c,onEnd:e});Ad()},N.showNav=function(a,b,c){if(Bd(),rc){Gd();var d=id(cc+fb(gc-hc,-1,1));Fd({time:c,coo:d!==cc&&b.coo,guessIndex:\"undefined\"!=typeof b.coo?d:cc,keep:a}),sc&&Ed(c)}},N.show=function(a){N.longPress.singlePressInProgress=!0;var b=Qd(a);Rd(b);var c=Sd(a),d=dc;N.activeFrame=dc=ea[cc];var e=d===dc&&!a.user;return N.showStage(e,a,c),N.showNav(e,a,c),Nc=\"undefined\"!=typeof hc&&hc!==cc,hc=cc,N.longPress.singlePressInProgress=!1,this},N.requestFullScreen=function(){if(uc&&!N.fullScreen){var b=d((N.activeFrame||{}).$stageFrame||{}).hasClass(\"fotorama-video-container\");if(b)return;Lc=Ca.scrollTop(),Mc=Ca.scrollLeft(),Ob(Ca),$d(\"x\",!0),Sc=d.extend({},Fc),c.addClass(Z).appendTo(Fa.addClass(g)),Ea.addClass(g),Vd(bc,!0,!0),N.fullScreen=!0,vc&&xa.request(Q),N.resize(),qd(ec,\"stage\"),rd(),Ld(\"fullscreenenter\"),\"ontouchstart\"in a||vb.focus()}return this},N.cancelFullScreen=function(){return vc&&xa.is()?xa.cancel(b):Td(),this},N.toggleFullScreen=function(){return N[(N.fullScreen?\"cancel\":\"request\")+\"FullScreen\"]()},N.resize=function(b){if(!ea)return this;var c=arguments[1]||0,e=arguments[2];bb=fd(wa,r),Kd(N.fullScreen?{width:d(a).width(),maxwidth:null,minwidth:null,height:d(a).height(),maxheight:null,minheight:null}:Pb(b),[Fc,e||N.fullScreen||r]);var f=Fc.width,g=Fc.height,h=Fc.ratio,i=Ca.height()-(rc?Ra.height():0);if(ob(f)&&(wa.css({width:\"\"}),wa.css({height:\"\"}),ya.css({width:\"\"}),ya.css({height:\"\"}),Aa.css({width:\"\"}),Aa.css({height:\"\"}),Ra.css({width:\"\"}),Ra.css({height:\"\"}),wa.css({minWidth:Fc.minwidth||0,maxWidth:Fc.maxwidth||ab}),\"dots\"===rc&&Oa.hide(),f=Fc.W=Fc.w=wa.width(),Fc.nw=rc&&nb(r.navwidth,f)||f,Aa.css({width:Fc.w,marginLeft:(Fc.W-Fc.w)/2}),g=nb(g,i),g=g||h&&f/h)){if(f=Math.round(f),g=Fc.h=Math.round(fb(g,nb(Fc.minheight,i),nb(Fc.maxheight,i))),ya.css({width:f,height:g}),\"vertical\"!==r.navdir||N.fullscreen||Ra.width(r.thumbwidth+2*r.thumbmargin),\"horizontal\"!==r.navdir||N.fullscreen||Ra.height(r.thumbheight+2*r.thumbmargin),\"dots\"===rc&&(Ra.width(f).height(\"auto\"),Oa.show()),\"vertical\"===r.navdir&&N.fullScreen&&ya.css(\"height\",Ca.height()),\"horizontal\"===r.navdir&&N.fullScreen&&ya.css(\"height\",Ca.height()-Ra.height()),rc){switch(r.navdir){case\"vertical\":Oa.removeClass(J),Oa.removeClass(I),Oa.addClass(H),Ra.stop().animate({height:Fc.h,width:r.thumbwidth},c);break;case\"list\":Oa.removeClass(H),Oa.removeClass(J),Oa.addClass(I);break;default:Oa.removeClass(H),Oa.removeClass(I),Oa.addClass(J),Ra.stop().animate({width:Fc.nw},c)}Jd(),Fd({guessIndex:cc,time:c,keep:!0}),sc&&xd.nav&&Ed(c)}Gc=e||!0,ee.ok=!0,ee()}return Wc=ya.offset().left,$c(),this},N.setOptions=function(a){return d.extend(r,a),ce(),this},N.shuffle=function(){return ea&&Mb(ea)&&ce(),this},N.longPress={threshold:1,count:0,thumbSlideTime:20,progress:function(){this.inProgress||(this.count++,this.inProgress=this.count>this.threshold)},end:function(){this.inProgress&&(this.isEnded=!0)},reset:function(){this.count=0,this.inProgress=!1,this.isEnded=!1}},N.destroy=function(){return N.cancelFullScreen(),N.stopAutoplay(),ea=N.data=null,ad(),ec=[],Id(Xa),ce.ok=!1,this},N.playVideo=function(){var a=dc,b=a.video,c=cc;return\"object\"==typeof b&&a.videoReady&&(vc&&N.fullScreen&&N.cancelFullScreen(),Eb(function(){return!xa.is()||c!==cc},function(){c===cc&&(a.$video=a.$video||d(Jb(na)).append(Lb(b)),a.$video.appendTo(a[Xa]),wa.addClass(k),bc=a.$video,cd(),La.blur(),vb.blur(),Ld(\"loadvideo\"))})),this},N.stopVideo=function(){return Vd(bc,!0,!0),this},N.spliceByIndex=function(a,b){b.i=a+1,b.img&&d.ajax({url:b.img,type:\"HEAD\",success:function(){ea.splice(a,1,b),ce()}})},ya.on(\"mousemove\",Xd),Hc=ic(Aa,{onStart:Md,onMove:function(a,b){Ud(ya,b.edge)},onTouchEnd:Nd,onEnd:function(a){var b;if(Ud(ya),b=(Na&&!Uc||a.touch)&&r.arrows,(a.moved||b&&a.pos!==a.newPos&&!a.control)&&a.$target[0]!==vb[0]){var c=qb(a.newPos,Fc.w,r.margin,fc);N.show({index:c,time:wc?zc:a.time,overPos:a.overPos,user:!0})}else a.aborted||a.control||Zd(a.startEvent,b)},timeLow:1,timeHigh:1,friction:2,select:\".\"+X+\", .\"+X+\" *\",$wrap:ya,direction:\"horizontal\"}),Jc=ic(Ta,{onStart:Md,onMove:function(a,b){Ud(Ra,b.edge)},onTouchEnd:Nd,onEnd:function(a){function b(){Fd.l=a.newPos,Od(),Pd(),wd(a.newPos,!0),Bd()}if(a.moved)a.pos!==a.newPos?(Oc=!0,_b(Ta,{time:a.time,pos:a.newPos,overPos:a.overPos,direction:r.navdir,onEnd:b}),wd(a.newPos),Bc&&Ud(Ra,Hb(a.newPos,Jc.min,Jc.max,a.dir))):b();else{var c=a.$target.closest(\".\"+M,Ta)[0];c&&_d.call(c,a.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:Ra,direction:r.navdir}),Ic=jc(ya,{shift:!0,onEnd:function(a,b){Md(),Nd(),N.show({index:b,slow:a.altKey})}}),Kc=jc(Ra,{onEnd:function(a,b){Md(),Nd();var c=tb(Ta)+.25*b;Ta.css(ib(fb(c,Jc.min,Jc.max),r.navdir)),Bc&&Ud(Ra,Hb(c,Jc.min,Jc.max,r.navdir)),Kc.prevent={\"<\":c>=Jc.max,\">\":c<=Jc.min},clearTimeout(Kc.t),Kc.t=setTimeout(function(){Fd.l=c,wd(c,!0)},Pa),wd(c)}}),wa.hover(function(){setTimeout(function(){Tc||Wd(!(Uc=!0))},0)},function(){Uc&&Wd(!(Uc=!1))}),Ib(La,function(a){Yb(a),ae.call(this,a)},{onStart:function(){Md(),Hc.control=!0},onTouchEnd:Nd}),Ib(rb,function(a){Yb(a),\"thumbs\"===r.navtype?N.show(\"<\"):N.showSlide(\"prev\")}),Ib(sb,function(a){Yb(a),\"thumbs\"===r.navtype?N.show(\">\"):N.showSlide(\"next\")}),La.each(function(){Wb(this,function(a){ae.call(this,a)}),be(this)}),Wb(wb,function(){c.hasClass(Z)?(N.cancelFullScreen(),Aa.focus()):(N.requestFullScreen(),vb.focus())}),be(wb),d.each(\"load push pop shift unshift reverse sort splice\".split(\" \"),function(a,b){N[b]=function(){return ea=ea||[],\"load\"!==b?Array.prototype[b].apply(ea,arguments):arguments[0]&&\"object\"==typeof arguments[0]&&arguments[0].length&&(ea=Nb(arguments[0])),ce(),N}}),ce()},d.fn.fotorama=function(b){return this.each(function(){var c=this,e=d(this),f=e.data(),g=f.fotorama;g?g.setOptions(b,!0):Eb(function(){return!Cb(c)},function(){f.urtext=e.html(),new d.Fotorama(e,d.extend({},cb,a.fotoramaDefaults,b,f))})})},d.Fotorama.instances=[],d.Fotorama.cache={},d.Fotorama.measures={},d=d||{},d.Fotorama=d.Fotorama||{},d.Fotorama.jst=d.Fotorama.jst||{},d.Fotorama.jst.dots=function(a){var c=\"\";va.escape;return c+='<div class=\"fotorama__nav__frame fotorama__nav__frame--dot\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__dot\"></div>\\r\\n</div>'},d.Fotorama.jst.frameCaption=function(a){var b,c=\"\";va.escape;return c+='<div class=\"fotorama__caption\" aria-hidden=\"true\">\\r\\n    <div class=\"fotorama__caption__wrap\" id=\"'+(null==(b=a.labelledby)?\"\":b)+'\">'+(null==(b=a.caption)?\"\":b)+\"</div>\\r\\n</div>\\r\\n\"},d.Fotorama.jst.style=function(a){var b,c=\"\";va.escape;return c+=\".fotorama\"+(null==(b=a.s)?\"\":b)+\" .fotorama__nav--thumbs .fotorama__nav__frame{\\r\\npadding:\"+(null==(b=a.m)?\"\":b)+\"px;\\r\\nheight:\"+(null==(b=a.h)?\"\":b)+\"px}\\r\\n.fotorama\"+(null==(b=a.s)?\"\":b)+\" .fotorama__thumb-border{\\r\\nheight:\"+(null==(b=a.h)?\"\":b)+\"px;\\r\\nborder-width:\"+(null==(b=a.b)?\"\":b)+\"px;\\r\\nmargin-top:\"+(null==(b=a.m)?\"\":b)+\"px}\"},d.Fotorama.jst.thumb=function(a){var c=\"\";va.escape;return c+='<div class=\"fotorama__nav__frame fotorama__nav__frame--thumb\" tabindex=\"0\" role=\"button\" data-gallery-role=\"nav-frame\" data-nav-type=\"thumb\" aria-label>\\r\\n    <div class=\"fotorama__thumb\">\\r\\n    </div>\\r\\n</div>'}}(window,document,location,\"undefined\"!=typeof jQuery&&jQuery);","jquery/jquery-migrate.js":"/*!\r\n * jQuery Migrate - v1.2.1 - 2013-05-08\r\n * https://github.com/jquery/jquery-migrate\r\n * Copyright 2005, 2013 jQuery Foundation, Inc. and other contributors; Licensed MIT\r\n */\r\n(function( jQuery, window, undefined ) {\r\n// See http://bugs.jquery.com/ticket/13335\r\n// \"use strict\";\r\n\r\n\r\nvar warnedAbout = {};\r\n\r\n// List of warnings already given; public read only\r\njQuery.migrateWarnings = [];\r\n\r\n// Set to true to prevent console output; migrateWarnings still maintained\r\n// jQuery.migrateMute = false;\r\n\r\n// Show a message on the console so devs know we're active\r\nif ( !jQuery.migrateMute && window.console && window.console.log ) {\r\n\twindow.console.log(\"JQMIGRATE: Logging is active\");\r\n}\r\n\r\n// Set to false to disable traces that appear with warnings\r\nif ( jQuery.migrateTrace === undefined ) {\r\n\tjQuery.migrateTrace = true;\r\n}\r\n\r\n// Forget any warnings we've already given; public\r\njQuery.migrateReset = function() {\r\n\twarnedAbout = {};\r\n\tjQuery.migrateWarnings.length = 0;\r\n};\r\n\r\nfunction migrateWarn( msg) {\r\n\tvar console = window.console;\r\n\tif ( !warnedAbout[ msg ] ) {\r\n\t\twarnedAbout[ msg ] = true;\r\n\t\tjQuery.migrateWarnings.push( msg );\r\n\t\tif ( console && console.warn && !jQuery.migrateMute ) {\r\n\t\t\tconsole.warn( \"JQMIGRATE: \" + msg );\r\n\t\t\tif ( jQuery.migrateTrace && console.trace ) {\r\n\t\t\t\tconsole.trace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction migrateWarnProp( obj, prop, value, msg ) {\r\n\tif ( Object.defineProperty ) {\r\n\t\t// On ES5 browsers (non-oldIE), warn if the code tries to get prop;\r\n\t\t// allow property to be overwritten in case some other plugin wants it\r\n\t\ttry {\r\n\t\t\tObject.defineProperty( obj, prop, {\r\n\t\t\t\tconfigurable: true,\r\n\t\t\t\tenumerable: true,\r\n\t\t\t\tget: function() {\r\n\t\t\t\t\tmigrateWarn( msg );\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t},\r\n\t\t\t\tset: function( newValue ) {\r\n\t\t\t\t\tmigrateWarn( msg );\r\n\t\t\t\t\tvalue = newValue;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn;\r\n\t\t} catch( err ) {\r\n\t\t\t// IE8 is a dope about Object.defineProperty, can't warn there\r\n\t\t}\r\n\t}\r\n\r\n\t// Non-ES5 (or broken) browser; just set the property\r\n\tjQuery._definePropertyBroken = true;\r\n\tobj[ prop ] = value;\r\n}\r\n\r\nif ( document.compatMode === \"BackCompat\" ) {\r\n\t// jQuery has never supported or tested Quirks Mode\r\n\tmigrateWarn( \"jQuery is not compatible with Quirks Mode\" );\r\n}\r\n\r\n\r\nvar attrFn = jQuery( \"<input/>\", { size: 1 } ).attr(\"size\") && jQuery.attrFn,\r\n\toldAttr = jQuery.attr,\r\n\tvalueAttrGet = jQuery.attrHooks.value && jQuery.attrHooks.value.get ||\r\n\t\tfunction() { return null; },\r\n\tvalueAttrSet = jQuery.attrHooks.value && jQuery.attrHooks.value.set ||\r\n\t\tfunction() { return undefined; },\r\n\trnoType = /^(?:input|button)$/i,\r\n\trnoAttrNodeType = /^[238]$/,\r\n\trboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,\r\n\truseDefault = /^(?:checked|selected)$/i;\r\n\r\n// jQuery.attrFn\r\nmigrateWarnProp( jQuery, \"attrFn\", attrFn || {}, \"jQuery.attrFn is deprecated\" );\r\n\r\njQuery.attr = function( elem, name, value, pass ) {\r\n\tvar lowerName = name.toLowerCase(),\r\n\t\tnType = elem && elem.nodeType;\r\n\r\n\tif ( pass ) {\r\n\t\t// Since pass is used internally, we only warn for new jQuery\r\n\t\t// versions where there isn't a pass arg in the formal params\r\n\t\tif ( oldAttr.length < 4 ) {\r\n\t\t\tmigrateWarn(\"jQuery.fn.attr( props, pass ) is deprecated\");\r\n\t\t}\r\n\t\tif ( elem && !rnoAttrNodeType.test( nType ) &&\r\n\t\t\t(attrFn ? name in attrFn : jQuery.isFunction(jQuery.fn[name])) ) {\r\n\t\t\treturn jQuery( elem )[ name ]( value );\r\n\t\t}\r\n\t}\r\n\r\n\t// Warn if user tries to set `type`, since it breaks on IE 6/7/8; by checking\r\n\t// for disconnected elements we don't warn on $( \"<button>\", { type: \"button\" } ).\r\n\tif ( name === \"type\" && value !== undefined && rnoType.test( elem.nodeName ) && elem.parentNode ) {\r\n\t\tmigrateWarn(\"Can't change the 'type' of an input or button in IE 6/7/8\");\r\n\t}\r\n\r\n\t// Restore boolHook for boolean property/attribute synchronization\r\n\tif ( !jQuery.attrHooks[ lowerName ] && rboolean.test( lowerName ) ) {\r\n\t\tjQuery.attrHooks[ lowerName ] = {\r\n\t\t\tget: function( elem, name ) {\r\n\t\t\t\t// Align boolean attributes with corresponding properties\r\n\t\t\t\t// Fall back to attribute presence where some booleans are not supported\r\n\t\t\t\tvar attrNode,\r\n\t\t\t\t\tproperty = jQuery.prop( elem, name );\r\n\t\t\t\treturn property === true || typeof property !== \"boolean\" &&\r\n\t\t\t\t\t( attrNode = elem.getAttributeNode(name) ) && attrNode.nodeValue !== false ?\r\n\r\n\t\t\t\t\tname.toLowerCase() :\r\n\t\t\t\t\tundefined;\r\n\t\t\t},\r\n\t\t\tset: function( elem, value, name ) {\r\n\t\t\t\tvar propName;\r\n\t\t\t\tif ( value === false ) {\r\n\t\t\t\t\t// Remove boolean attributes when set to false\r\n\t\t\t\t\tjQuery.removeAttr( elem, name );\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// value is true since we know at this point it's type boolean and not false\r\n\t\t\t\t\t// Set boolean attributes to the same name and set the DOM property\r\n\t\t\t\t\tpropName = jQuery.propFix[ name ] || name;\r\n\t\t\t\t\tif ( propName in elem ) {\r\n\t\t\t\t\t\t// Only set the IDL specifically if it already exists on the element\r\n\t\t\t\t\t\telem[ propName ] = true;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\telem.setAttribute( name, name.toLowerCase() );\r\n\t\t\t\t}\r\n\t\t\t\treturn name;\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t// Warn only for attributes that can remain distinct from their properties post-1.9\r\n\t\tif ( ruseDefault.test( lowerName ) ) {\r\n\t\t\tmigrateWarn( \"jQuery.fn.attr('\" + lowerName + \"') may use property instead of attribute\" );\r\n\t\t}\r\n\t}\r\n\r\n\treturn oldAttr.call( jQuery, elem, name, value );\r\n};\r\n\r\n// attrHooks: value\r\njQuery.attrHooks.value = {\r\n\tget: function( elem, name ) {\r\n\t\tvar nodeName = ( elem.nodeName || \"\" ).toLowerCase();\r\n\t\tif ( nodeName === \"button\" ) {\r\n\t\t\treturn valueAttrGet.apply( this, arguments );\r\n\t\t}\r\n\t\tif ( nodeName !== \"input\" && nodeName !== \"option\" ) {\r\n\t\t\tmigrateWarn(\"jQuery.fn.attr('value') no longer gets properties\");\r\n\t\t}\r\n\t\treturn name in elem ?\r\n\t\t\telem.value :\r\n\t\t\tnull;\r\n\t},\r\n\tset: function( elem, value ) {\r\n\t\tvar nodeName = ( elem.nodeName || \"\" ).toLowerCase();\r\n\t\tif ( nodeName === \"button\" ) {\r\n\t\t\treturn valueAttrSet.apply( this, arguments );\r\n\t\t}\r\n\t\tif ( nodeName !== \"input\" && nodeName !== \"option\" ) {\r\n\t\t\tmigrateWarn(\"jQuery.fn.attr('value', val) no longer sets properties\");\r\n\t\t}\r\n\t\t// Does not return so that setAttribute is also used\r\n\t\telem.value = value;\r\n\t}\r\n};\r\n\r\n\r\nvar matched, browser,\r\n\toldInit = jQuery.fn.init,\r\n\toldParseJSON = jQuery.parseJSON,\r\n\t// Note: XSS check is done below after string is trimmed\r\n\trquickExpr = /^([^<]*)(<[\\w\\W]+>)([^>]*)$/;\r\n\r\n// $(html) \"looks like html\" rule change\r\njQuery.fn.init = function( selector, context, rootjQuery ) {\r\n\tvar match;\r\n\r\n\tif ( selector && typeof selector === \"string\" && !jQuery.isPlainObject( context ) &&\r\n\t\t\t(match = rquickExpr.exec( jQuery.trim( selector ) )) && match[ 0 ] ) {\r\n\t\t// This is an HTML string according to the \"old\" rules; is it still?\r\n\t\tif ( selector.charAt( 0 ) !== \"<\" ) {\r\n\t\t\tmigrateWarn(\"$(html) HTML strings must start with '<' character\");\r\n\t\t}\r\n\t\tif ( match[ 3 ] ) {\r\n\t\t\tmigrateWarn(\"$(html) HTML text after last tag is ignored\");\r\n\t\t}\r\n\t\t// Consistently reject any HTML-like string starting with a hash (#9521)\r\n\t\t// Note that this may break jQuery 1.6.x code that otherwise would work.\r\n\t\tif ( match[ 0 ].charAt( 0 ) === \"#\" ) {\r\n\t\t\tmigrateWarn(\"HTML string cannot start with a '#' character\");\r\n\t\t\tjQuery.error(\"JQMIGRATE: Invalid selector string (XSS)\");\r\n\t\t}\r\n\t\t// Now process using loose rules; let pre-1.8 play too\r\n\t\tif ( context && context.context ) {\r\n\t\t\t// jQuery object as context; parseHTML expects a DOM object\r\n\t\t\tcontext = context.context;\r\n\t\t}\r\n\t\tif ( jQuery.parseHTML ) {\r\n\t\t\treturn oldInit.call( this, jQuery.parseHTML( match[ 2 ], context, true ),\r\n\t\t\t\t\tcontext, rootjQuery );\r\n\t\t}\r\n\t}\r\n\treturn oldInit.apply( this, arguments );\r\n};\r\njQuery.fn.init.prototype = jQuery.fn;\r\n\r\n// Let $.parseJSON(falsy_value) return null\r\njQuery.parseJSON = function( json ) {\r\n\tif ( !json && json !== null ) {\r\n\t\tmigrateWarn(\"jQuery.parseJSON requires a valid JSON string\");\r\n\t\treturn null;\r\n\t}\r\n\treturn oldParseJSON.apply( this, arguments );\r\n};\r\n\r\njQuery.uaMatch = function( ua ) {\r\n\tua = ua.toLowerCase();\r\n\r\n\tvar match = /(chrome)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(webkit)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec( ua ) ||\r\n\t\t/(msie) ([\\w.]+)/.exec( ua ) ||\r\n\t\tua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec( ua ) ||\r\n\t\t[];\r\n\r\n\treturn {\r\n\t\tbrowser: match[ 1 ] || \"\",\r\n\t\tversion: match[ 2 ] || \"0\"\r\n\t};\r\n};\r\n\r\n// Don't clobber any existing jQuery.browser in case it's different\r\nif ( !jQuery.browser ) {\r\n\tmatched = jQuery.uaMatch( navigator.userAgent );\r\n\tbrowser = {};\r\n\r\n\tif ( matched.browser ) {\r\n\t\tbrowser[ matched.browser ] = true;\r\n\t\tbrowser.version = matched.version;\r\n\t}\r\n\r\n\t// Chrome is Webkit, but Webkit is also Safari.\r\n\tif ( browser.chrome ) {\r\n\t\tbrowser.webkit = true;\r\n\t} else if ( browser.webkit ) {\r\n\t\tbrowser.safari = true;\r\n\t}\r\n\r\n\tjQuery.browser = browser;\r\n}\r\n\r\n// Warn if the code tries to get jQuery.browser\r\nmigrateWarnProp( jQuery, \"browser\", jQuery.browser, \"jQuery.browser is deprecated\" );\r\n\r\njQuery.sub = function() {\r\n\tfunction jQuerySub( selector, context ) {\r\n\t\treturn new jQuerySub.fn.init( selector, context );\r\n\t}\r\n\tjQuery.extend( true, jQuerySub, this );\r\n\tjQuerySub.superclass = this;\r\n\tjQuerySub.fn = jQuerySub.prototype = this();\r\n\tjQuerySub.fn.constructor = jQuerySub;\r\n\tjQuerySub.sub = this.sub;\r\n\tjQuerySub.fn.init = function init( selector, context ) {\r\n\t\tif ( context && context instanceof jQuery && !(context instanceof jQuerySub) ) {\r\n\t\t\tcontext = jQuerySub( context );\r\n\t\t}\r\n\r\n\t\treturn jQuery.fn.init.call( this, selector, context, rootjQuerySub );\r\n\t};\r\n\tjQuerySub.fn.init.prototype = jQuerySub.fn;\r\n\tvar rootjQuerySub = jQuerySub(document);\r\n\tmigrateWarn( \"jQuery.sub() is deprecated\" );\r\n\treturn jQuerySub;\r\n};\r\n\r\n\r\n// Ensure that $.ajax gets the new parseJSON defined in core.js\r\njQuery.ajaxSetup({\r\n\tconverters: {\r\n\t\t\"text json\": jQuery.parseJSON\r\n\t}\r\n});\r\n\r\n\r\nvar oldFnData = jQuery.fn.data;\r\n\r\njQuery.fn.data = function( name ) {\r\n\tvar ret, evt,\r\n\t\telem = this[0];\r\n\r\n\t// Handles 1.7 which has this behavior and 1.8 which doesn't\r\n\tif ( elem && name === \"events\" && arguments.length === 1 ) {\r\n\t\tret = jQuery.data( elem, name );\r\n\t\tevt = jQuery._data( elem, name );\r\n\t\tif ( ( ret === undefined || ret === evt ) && evt !== undefined ) {\r\n\t\t\tmigrateWarn(\"Use of jQuery.fn.data('events') is deprecated\");\r\n\t\t\treturn evt;\r\n\t\t}\r\n\t}\r\n\treturn oldFnData.apply( this, arguments );\r\n};\r\n\r\n\r\nvar rscriptType = /\\/(java|ecma)script/i,\r\n\toldSelf = jQuery.fn.andSelf || jQuery.fn.addBack;\r\n\r\njQuery.fn.andSelf = function() {\r\n\tmigrateWarn(\"jQuery.fn.andSelf() replaced by jQuery.fn.addBack()\");\r\n\treturn oldSelf.apply( this, arguments );\r\n};\r\n\r\n// Since jQuery.clean is used internally on older versions, we only shim if it's missing\r\nif ( !jQuery.clean ) {\r\n\tjQuery.clean = function( elems, context, fragment, scripts ) {\r\n\t\t// Set context per 1.8 logic\r\n\t\tcontext = context || document;\r\n\t\tcontext = !context.nodeType && context[0] || context;\r\n\t\tcontext = context.ownerDocument || context;\r\n\r\n\t\tmigrateWarn(\"jQuery.clean() is deprecated\");\r\n\r\n\t\tvar i, elem, handleScript, jsTags,\r\n\t\t\tret = [];\r\n\r\n\t\tjQuery.merge( ret, jQuery.buildFragment( elems, context ).childNodes );\r\n\r\n\t\t// Complex logic lifted directly from jQuery 1.8\r\n\t\tif ( fragment ) {\r\n\t\t\t// Special handling of each script element\r\n\t\t\thandleScript = function( elem ) {\r\n\t\t\t\t// Check if we consider it executable\r\n\t\t\t\tif ( !elem.type || rscriptType.test( elem.type ) ) {\r\n\t\t\t\t\t// Detach the script and store it in the scripts array (if provided) or the fragment\r\n\t\t\t\t\t// Return truthy to indicate that it has been handled\r\n\t\t\t\t\treturn scripts ?\r\n\t\t\t\t\t\tscripts.push( elem.parentNode ? elem.parentNode.removeChild( elem ) : elem ) :\r\n\t\t\t\t\t\tfragment.appendChild( elem );\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfor ( i = 0; (elem = ret[i]) != null; i++ ) {\r\n\t\t\t\t// Check if we're done after handling an executable script\r\n\t\t\t\tif ( !( jQuery.nodeName( elem, \"script\" ) && handleScript( elem ) ) ) {\r\n\t\t\t\t\t// Append to fragment and handle embedded scripts\r\n\t\t\t\t\tfragment.appendChild( elem );\r\n\t\t\t\t\tif ( typeof elem.getElementsByTagName !== \"undefined\" ) {\r\n\t\t\t\t\t\t// handleScript alters the DOM, so use jQuery.merge to ensure snapshot iteration\r\n\t\t\t\t\t\tjsTags = jQuery.grep( jQuery.merge( [], elem.getElementsByTagName(\"script\") ), handleScript );\r\n\r\n\t\t\t\t\t\t// Splice the scripts into ret after their former ancestor and advance our index beyond them\r\n\t\t\t\t\t\tret.splice.apply( ret, [i + 1, 0].concat( jsTags ) );\r\n\t\t\t\t\t\ti += jsTags.length;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn ret;\r\n\t};\r\n}\r\n\r\nvar eventAdd = jQuery.event.add,\r\n\teventRemove = jQuery.event.remove,\r\n\teventTrigger = jQuery.event.trigger,\r\n\toldToggle = jQuery.fn.toggle,\r\n\toldLive = jQuery.fn.live,\r\n\toldDie = jQuery.fn.die,\r\n\tajaxEvents = \"ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess\",\r\n\trajaxEvent = new RegExp( \"\\\\b(?:\" + ajaxEvents + \")\\\\b\" ),\r\n\trhoverHack = /(?:^|\\s)hover(\\.\\S+|)\\b/,\r\n\thoverHack = function( events ) {\r\n\t\tif ( typeof( events ) !== \"string\" || jQuery.event.special.hover ) {\r\n\t\t\treturn events;\r\n\t\t}\r\n\t\tif ( rhoverHack.test( events ) ) {\r\n\t\t\tmigrateWarn(\"'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'\");\r\n\t\t}\r\n\t\treturn events && events.replace( rhoverHack, \"mouseenter$1 mouseleave$1\" );\r\n\t};\r\n\r\n// Event props removed in 1.9, put them back if needed; no practical way to warn them\r\nif ( jQuery.event.props && jQuery.event.props[ 0 ] !== \"attrChange\" ) {\r\n\tjQuery.event.props.unshift( \"attrChange\", \"attrName\", \"relatedNode\", \"srcElement\" );\r\n}\r\n\r\n// Undocumented jQuery.event.handle was \"deprecated\" in jQuery 1.7\r\nif ( jQuery.event.dispatch ) {\r\n\tmigrateWarnProp( jQuery.event, \"handle\", jQuery.event.dispatch, \"jQuery.event.handle is undocumented and deprecated\" );\r\n}\r\n\r\n// Support for 'hover' pseudo-event and ajax event warnings\r\njQuery.event.add = function( elem, types, handler, data, selector ){\r\n\tif ( elem !== document && rajaxEvent.test( types ) ) {\r\n\t\tmigrateWarn( \"AJAX events should be attached to document: \" + types );\r\n\t}\r\n\teventAdd.call( this, elem, hoverHack( types || \"\" ), handler, data, selector );\r\n};\r\njQuery.event.remove = function( elem, types, handler, selector, mappedTypes ){\r\n\teventRemove.call( this, elem, hoverHack( types ) || \"\", handler, selector, mappedTypes );\r\n};\r\n\r\njQuery.fn.error = function() {\r\n\tvar args = Array.prototype.slice.call( arguments, 0);\r\n\tmigrateWarn(\"jQuery.fn.error() is deprecated\");\r\n\targs.splice( 0, 0, \"error\" );\r\n\tif ( arguments.length ) {\r\n\t\treturn this.bind.apply( this, args );\r\n\t}\r\n\t// error event should not bubble to window, although it does pre-1.7\r\n\tthis.triggerHandler.apply( this, args );\r\n\treturn this;\r\n};\r\n\r\njQuery.fn.toggle = function( fn, fn2 ) {\r\n\r\n\t// Don't mess with animation or css toggles\r\n\tif ( !jQuery.isFunction( fn ) || !jQuery.isFunction( fn2 ) ) {\r\n\t\treturn oldToggle.apply( this, arguments );\r\n\t}\r\n\tmigrateWarn(\"jQuery.fn.toggle(handler, handler...) is deprecated\");\r\n\r\n\t// Save reference to arguments for access in closure\r\n\tvar args = arguments,\r\n\t\tguid = fn.guid || jQuery.guid++,\r\n\t\ti = 0,\r\n\t\ttoggler = function( event ) {\r\n\t\t\t// Figure out which function to execute\r\n\t\t\tvar lastToggle = ( jQuery._data( this, \"lastToggle\" + fn.guid ) || 0 ) % i;\r\n\t\t\tjQuery._data( this, \"lastToggle\" + fn.guid, lastToggle + 1 );\r\n\r\n\t\t\t// Make sure that clicks stop\r\n\t\t\tevent.preventDefault();\r\n\r\n\t\t\t// and execute the function\r\n\t\t\treturn args[ lastToggle ].apply( this, arguments ) || false;\r\n\t\t};\r\n\r\n\t// link all the functions, so any of them can unbind this click handler\r\n\ttoggler.guid = guid;\r\n\twhile ( i < args.length ) {\r\n\t\targs[ i++ ].guid = guid;\r\n\t}\r\n\r\n\treturn this.click( toggler );\r\n};\r\n\r\njQuery.fn.live = function( types, data, fn ) {\r\n\tmigrateWarn(\"jQuery.fn.live() is deprecated\");\r\n\tif ( oldLive ) {\r\n\t\treturn oldLive.apply( this, arguments );\r\n\t}\r\n\tjQuery( this.context ).on( types, this.selector, data, fn );\r\n\treturn this;\r\n};\r\n\r\njQuery.fn.die = function( types, fn ) {\r\n\tmigrateWarn(\"jQuery.fn.die() is deprecated\");\r\n\tif ( oldDie ) {\r\n\t\treturn oldDie.apply( this, arguments );\r\n\t}\r\n\tjQuery( this.context ).off( types, this.selector || \"**\", fn );\r\n\treturn this;\r\n};\r\n\r\n// Turn global events into document-triggered events\r\njQuery.event.trigger = function( event, data, elem, onlyHandlers  ){\r\n\tif ( !elem && !rajaxEvent.test( event ) ) {\r\n\t\tmigrateWarn( \"Global events are undocumented and deprecated\" );\r\n\t}\r\n\treturn eventTrigger.call( this,  event, data, elem || document, onlyHandlers  );\r\n};\r\njQuery.each( ajaxEvents.split(\"|\"),\r\n\tfunction( _, name ) {\r\n\t\tjQuery.event.special[ name ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\tvar elem = this;\r\n\r\n\t\t\t\t// The document needs no shimming; must be !== for oldIE\r\n\t\t\t\tif ( elem !== document ) {\r\n\t\t\t\t\tjQuery.event.add( document, name + \".\" + jQuery.guid, function() {\r\n\t\t\t\t\t\tjQuery.event.trigger( name, null, elem, true );\r\n\t\t\t\t\t});\r\n\t\t\t\t\tjQuery._data( this, name, jQuery.guid++ );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\tif ( this !== document ) {\r\n\t\t\t\t\tjQuery.event.remove( document, name + \".\" + jQuery._data( this, name ) );\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n);\r\n\r\n\r\n})( jQuery, window );\r\n","jquery/jquery-ui-timepicker-addon.js":"/*! jQuery Timepicker Addon - v1.4.3 - 2013-11-30\r\n* http://trentrichardson.com/examples/timepicker\r\n* Copyright (c) 2013 Trent Richardson; Licensed MIT */\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            \"jquery\",\r\n            \"jquery/ui\"\r\n        ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n\r\n\t/*\r\n\t* Lets not redefine timepicker, Prevent \"Uncaught RangeError: Maximum call stack size exceeded\"\r\n\t*/\r\n\t$.ui.timepicker = $.ui.timepicker || {};\r\n\tif ($.ui.timepicker.version) {\r\n\t\treturn;\r\n\t}\r\n\r\n\t/*\r\n\t* Extend jQueryUI, get it started with our version number\r\n\t*/\r\n\t$.extend($.ui, {\r\n\t\ttimepicker: {\r\n\t\t\tversion: \"1.4.3\"\r\n\t\t}\r\n\t});\r\n\r\n\t/* \r\n\t* Timepicker manager.\r\n\t* Use the singleton instance of this class, $.timepicker, to interact with the time picker.\r\n\t* Settings for (groups of) time pickers are maintained in an instance object,\r\n\t* allowing multiple different settings on the same page.\r\n\t*/\r\n\tvar Timepicker = function () {\r\n\t\tthis.regional = []; // Available regional settings, indexed by language code\r\n\t\tthis.regional[''] = { // Default regional settings\r\n\t\t\tcurrentText: 'Now',\r\n\t\t\tcloseText: 'Done',\r\n\t\t\tamNames: ['AM', 'A'],\r\n\t\t\tpmNames: ['PM', 'P'],\r\n\t\t\ttimeFormat: 'HH:mm',\r\n\t\t\ttimeSuffix: '',\r\n\t\t\ttimeOnlyTitle: 'Choose Time',\r\n\t\t\ttimeText: 'Time',\r\n\t\t\thourText: 'Hour',\r\n\t\t\tminuteText: 'Minute',\r\n\t\t\tsecondText: 'Second',\r\n\t\t\tmillisecText: 'Millisecond',\r\n\t\t\tmicrosecText: 'Microsecond',\r\n\t\t\ttimezoneText: 'Time Zone',\r\n\t\t\tisRTL: false\r\n\t\t};\r\n\t\tthis._defaults = { // Global defaults for all the datetime picker instances\r\n\t\t\tshowButtonPanel: true,\r\n\t\t\ttimeOnly: false,\r\n\t\t\tshowHour: null,\r\n\t\t\tshowMinute: null,\r\n\t\t\tshowSecond: null,\r\n\t\t\tshowMillisec: null,\r\n\t\t\tshowMicrosec: null,\r\n\t\t\tshowTimezone: null,\r\n\t\t\tshowTime: true,\r\n\t\t\tstepHour: 1,\r\n\t\t\tstepMinute: 1,\r\n\t\t\tstepSecond: 1,\r\n\t\t\tstepMillisec: 1,\r\n\t\t\tstepMicrosec: 1,\r\n\t\t\thour: 0,\r\n\t\t\tminute: 0,\r\n\t\t\tsecond: 0,\r\n\t\t\tmillisec: 0,\r\n\t\t\tmicrosec: 0,\r\n\t\t\ttimezone: null,\r\n\t\t\thourMin: 0,\r\n\t\t\tminuteMin: 0,\r\n\t\t\tsecondMin: 0,\r\n\t\t\tmillisecMin: 0,\r\n\t\t\tmicrosecMin: 0,\r\n\t\t\thourMax: 23,\r\n\t\t\tminuteMax: 59,\r\n\t\t\tsecondMax: 59,\r\n\t\t\tmillisecMax: 999,\r\n\t\t\tmicrosecMax: 999,\r\n\t\t\tminDateTime: null,\r\n\t\t\tmaxDateTime: null,\r\n\t\t\tonSelect: null,\r\n\t\t\thourGrid: 0,\r\n\t\t\tminuteGrid: 0,\r\n\t\t\tsecondGrid: 0,\r\n\t\t\tmillisecGrid: 0,\r\n\t\t\tmicrosecGrid: 0,\r\n\t\t\talwaysSetTime: true,\r\n\t\t\tseparator: ' ',\r\n\t\t\taltFieldTimeOnly: true,\r\n\t\t\taltTimeFormat: null,\r\n\t\t\taltSeparator: null,\r\n\t\t\taltTimeSuffix: null,\r\n\t\t\tpickerTimeFormat: null,\r\n\t\t\tpickerTimeSuffix: null,\r\n\t\t\tshowTimepicker: true,\r\n\t\t\ttimezoneList: null,\r\n\t\t\taddSliderAccess: false,\r\n\t\t\tsliderAccessArgs: null,\r\n\t\t\tcontrolType: 'slider',\r\n\t\t\tdefaultValue: null,\r\n\t\t\tparse: 'strict'\r\n\t\t};\r\n\t\t$.extend(this._defaults, this.regional['']);\r\n\t};\r\n\r\n\t$.extend(Timepicker.prototype, {\r\n\t\t$input: null,\r\n\t\t$altInput: null,\r\n\t\t$timeObj: null,\r\n\t\tinst: null,\r\n\t\thour_slider: null,\r\n\t\tminute_slider: null,\r\n\t\tsecond_slider: null,\r\n\t\tmillisec_slider: null,\r\n\t\tmicrosec_slider: null,\r\n\t\ttimezone_select: null,\r\n\t\thour: 0,\r\n\t\tminute: 0,\r\n\t\tsecond: 0,\r\n\t\tmillisec: 0,\r\n\t\tmicrosec: 0,\r\n\t\ttimezone: null,\r\n\t\thourMinOriginal: null,\r\n\t\tminuteMinOriginal: null,\r\n\t\tsecondMinOriginal: null,\r\n\t\tmillisecMinOriginal: null,\r\n\t\tmicrosecMinOriginal: null,\r\n\t\thourMaxOriginal: null,\r\n\t\tminuteMaxOriginal: null,\r\n\t\tsecondMaxOriginal: null,\r\n\t\tmillisecMaxOriginal: null,\r\n\t\tmicrosecMaxOriginal: null,\r\n\t\tampm: '',\r\n\t\tformattedDate: '',\r\n\t\tformattedTime: '',\r\n\t\tformattedDateTime: '',\r\n\t\ttimezoneList: null,\r\n\t\tunits: ['hour', 'minute', 'second', 'millisec', 'microsec'],\r\n\t\tsupport: {},\r\n\t\tcontrol: null,\r\n\r\n\t\t/* \r\n\t\t* Override the default settings for all instances of the time picker.\r\n\t\t* @param  {Object} settings  object - the new settings to use as defaults (anonymous object)\r\n\t\t* @return {Object} the manager object\r\n\t\t*/\r\n\t\tsetDefaults: function (settings) {\r\n\t\t\textendRemove(this._defaults, settings || {});\r\n\t\t\treturn this;\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* Create a new Timepicker instance\r\n\t\t*/\r\n\t\t_newInst: function ($input, opts) {\r\n\t\t\tvar tp_inst = new Timepicker(),\r\n\t\t\t\tinlineSettings = {},\r\n\t\t\t\tfns = {},\r\n\t\t\t\toverrides, i;\r\n\r\n\t\t\tfor (var attrName in this._defaults) {\r\n\t\t\t\tif (this._defaults.hasOwnProperty(attrName)) {\r\n\t\t\t\t\tvar attrValue = $input.attr('time:' + attrName);\r\n\t\t\t\t\tif (attrValue) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tinlineSettings[attrName] = eval(attrValue);\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\tinlineSettings[attrName] = attrValue;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\toverrides = {\r\n\t\t\t\tbeforeShow: function (input, dp_inst) {\r\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.beforeShow)) {\r\n\t\t\t\t\t\treturn tp_inst._defaults.evnts.beforeShow.call($input[0], input, dp_inst, tp_inst);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonChangeMonthYear: function (year, month, dp_inst) {\r\n\t\t\t\t\t// Update the time as well : this prevents the time from disappearing from the $input field.\r\n\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\r\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onChangeMonthYear)) {\r\n\t\t\t\t\t\ttp_inst._defaults.evnts.onChangeMonthYear.call($input[0], year, month, dp_inst, tp_inst);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonClose: function (dateText, dp_inst) {\r\n\t\t\t\t\tif (tp_inst.timeDefined === true && $input.val() !== '') {\r\n\t\t\t\t\t\ttp_inst._updateDateTime(dp_inst);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif ($.isFunction(tp_inst._defaults.evnts.onClose)) {\r\n\t\t\t\t\t\ttp_inst._defaults.evnts.onClose.call($input[0], dateText, dp_inst, tp_inst);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tfor (i in overrides) {\r\n\t\t\t\tif (overrides.hasOwnProperty(i)) {\r\n\t\t\t\t\tfns[i] = opts[i] || null;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\ttp_inst._defaults = $.extend({}, this._defaults, inlineSettings, opts, overrides, {\r\n\t\t\t\tevnts: fns,\r\n\t\t\t\ttimepicker: tp_inst // add timepicker as a property of datepicker: $.datepicker._get(dp_inst, 'timepicker');\r\n\t\t\t});\r\n\t\t\ttp_inst.amNames = $.map(tp_inst._defaults.amNames, function (val) {\r\n\t\t\t\treturn val.toUpperCase();\r\n\t\t\t});\r\n\t\t\ttp_inst.pmNames = $.map(tp_inst._defaults.pmNames, function (val) {\r\n\t\t\t\treturn val.toUpperCase();\r\n\t\t\t});\r\n\r\n\t\t\t// detect which units are supported\r\n\t\t\ttp_inst.support = detectSupport(\r\n\t\t\t\t\ttp_inst._defaults.timeFormat + \r\n\t\t\t\t\t(tp_inst._defaults.pickerTimeFormat ? tp_inst._defaults.pickerTimeFormat : '') +\r\n\t\t\t\t\t(tp_inst._defaults.altTimeFormat ? tp_inst._defaults.altTimeFormat : ''));\r\n\r\n\t\t\t// controlType is string - key to our this._controls\r\n\t\t\tif (typeof(tp_inst._defaults.controlType) === 'string') {\r\n\t\t\t\tif (tp_inst._defaults.controlType === 'slider' && typeof($.ui.slider) === 'undefined') {\r\n\t\t\t\t\ttp_inst._defaults.controlType = 'select';\r\n\t\t\t\t}\r\n\t\t\t\ttp_inst.control = tp_inst._controls[tp_inst._defaults.controlType];\r\n\t\t\t}\r\n\t\t\t// controlType is an object and must implement create, options, value methods\r\n\t\t\telse {\r\n\t\t\t\ttp_inst.control = tp_inst._defaults.controlType;\r\n\t\t\t}\r\n\r\n\t\t\t// prep the timezone options\r\n\t\t\tvar timezoneList = [-720, -660, -600, -570, -540, -480, -420, -360, -300, -270, -240, -210, -180, -120, -60,\r\n\t\t\t\t\t0, 60, 120, 180, 210, 240, 270, 300, 330, 345, 360, 390, 420, 480, 525, 540, 570, 600, 630, 660, 690, 720, 765, 780, 840];\r\n\t\t\tif (tp_inst._defaults.timezoneList !== null) {\r\n\t\t\t\ttimezoneList = tp_inst._defaults.timezoneList;\r\n\t\t\t}\r\n\t\t\tvar tzl = timezoneList.length, tzi = 0, tzv = null;\r\n\t\t\tif (tzl > 0 && typeof timezoneList[0] !== 'object') {\r\n\t\t\t\tfor (; tzi < tzl; tzi++) {\r\n\t\t\t\t\ttzv = timezoneList[tzi];\r\n\t\t\t\t\ttimezoneList[tzi] = { value: tzv, label: $.timepicker.timezoneOffsetString(tzv, tp_inst.support.iso8601) };\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttp_inst._defaults.timezoneList = timezoneList;\r\n\r\n\t\t\t// set the default units\r\n\t\t\ttp_inst.timezone = tp_inst._defaults.timezone !== null ? $.timepicker.timezoneOffsetNumber(tp_inst._defaults.timezone) :\r\n\t\t\t\t\t\t\t((new Date()).getTimezoneOffset() * -1);\r\n\t\t\ttp_inst.hour = tp_inst._defaults.hour < tp_inst._defaults.hourMin ? tp_inst._defaults.hourMin :\r\n\t\t\t\t\t\t\ttp_inst._defaults.hour > tp_inst._defaults.hourMax ? tp_inst._defaults.hourMax : tp_inst._defaults.hour;\r\n\t\t\ttp_inst.minute = tp_inst._defaults.minute < tp_inst._defaults.minuteMin ? tp_inst._defaults.minuteMin :\r\n\t\t\t\t\t\t\ttp_inst._defaults.minute > tp_inst._defaults.minuteMax ? tp_inst._defaults.minuteMax : tp_inst._defaults.minute;\r\n\t\t\ttp_inst.second = tp_inst._defaults.second < tp_inst._defaults.secondMin ? tp_inst._defaults.secondMin :\r\n\t\t\t\t\t\t\ttp_inst._defaults.second > tp_inst._defaults.secondMax ? tp_inst._defaults.secondMax : tp_inst._defaults.second;\r\n\t\t\ttp_inst.millisec = tp_inst._defaults.millisec < tp_inst._defaults.millisecMin ? tp_inst._defaults.millisecMin :\r\n\t\t\t\t\t\t\ttp_inst._defaults.millisec > tp_inst._defaults.millisecMax ? tp_inst._defaults.millisecMax : tp_inst._defaults.millisec;\r\n\t\t\ttp_inst.microsec = tp_inst._defaults.microsec < tp_inst._defaults.microsecMin ? tp_inst._defaults.microsecMin :\r\n\t\t\t\t\t\t\ttp_inst._defaults.microsec > tp_inst._defaults.microsecMax ? tp_inst._defaults.microsecMax : tp_inst._defaults.microsec;\r\n\t\t\ttp_inst.ampm = '';\r\n\t\t\ttp_inst.$input = $input;\r\n\r\n\t\t\tif (tp_inst._defaults.altField) {\r\n\t\t\t\ttp_inst.$altInput = $(tp_inst._defaults.altField).css({\r\n\t\t\t\t\tcursor: 'pointer'\r\n\t\t\t\t}).focus(function () {\r\n\t\t\t\t\t$input.trigger(\"focus\");\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (tp_inst._defaults.minDate === 0 || tp_inst._defaults.minDateTime === 0) {\r\n\t\t\t\ttp_inst._defaults.minDate = new Date();\r\n\t\t\t}\r\n\t\t\tif (tp_inst._defaults.maxDate === 0 || tp_inst._defaults.maxDateTime === 0) {\r\n\t\t\t\ttp_inst._defaults.maxDate = new Date();\r\n\t\t\t}\r\n\r\n\t\t\t// datepicker needs minDate/maxDate, timepicker needs minDateTime/maxDateTime..\r\n\t\t\tif (tp_inst._defaults.minDate !== undefined && tp_inst._defaults.minDate instanceof Date) {\r\n\t\t\t\ttp_inst._defaults.minDateTime = new Date(tp_inst._defaults.minDate.getTime());\r\n\t\t\t}\r\n\t\t\tif (tp_inst._defaults.minDateTime !== undefined && tp_inst._defaults.minDateTime instanceof Date) {\r\n\t\t\t\ttp_inst._defaults.minDate = new Date(tp_inst._defaults.minDateTime.getTime());\r\n\t\t\t}\r\n\t\t\tif (tp_inst._defaults.maxDate !== undefined && tp_inst._defaults.maxDate instanceof Date) {\r\n\t\t\t\ttp_inst._defaults.maxDateTime = new Date(tp_inst._defaults.maxDate.getTime());\r\n\t\t\t}\r\n\t\t\tif (tp_inst._defaults.maxDateTime !== undefined && tp_inst._defaults.maxDateTime instanceof Date) {\r\n\t\t\t\ttp_inst._defaults.maxDate = new Date(tp_inst._defaults.maxDateTime.getTime());\r\n\t\t\t}\r\n\t\t\ttp_inst.$input.bind('focus', function () {\r\n\t\t\t\ttp_inst._onFocus();\r\n\t\t\t});\r\n\r\n\t\t\treturn tp_inst;\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* add our sliders to the calendar\r\n\t\t*/\r\n\t\t_addTimePicker: function (dp_inst) {\r\n\t\t\tvar currDT = (this.$altInput && this._defaults.altFieldTimeOnly) ? this.$input.val() + ' ' + this.$altInput.val() : this.$input.val();\r\n\r\n\t\t\tthis.timeDefined = this._parseTime(currDT);\r\n\t\t\tthis._limitMinMaxDateTime(dp_inst, false);\r\n\t\t\tthis._injectTimePicker();\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* parse the time string from input value or _setTime\r\n\t\t*/\r\n\t\t_parseTime: function (timeString, withDate) {\r\n\t\t\tif (!this.inst) {\r\n\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\r\n\t\t\t}\r\n\r\n\t\t\tif (withDate || !this._defaults.timeOnly) {\r\n\t\t\t\tvar dp_dateFormat = $.datepicker._get(this.inst, 'dateFormat');\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar parseRes = parseDateTimeInternal(dp_dateFormat, this._defaults.timeFormat, timeString, $.datepicker._getFormatConfig(this.inst), this._defaults);\r\n\t\t\t\t\tif (!parseRes.timeObj) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$.extend(this, parseRes.timeObj);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t$.timepicker.log(\"Error parsing the date/time string: \" + err +\r\n\t\t\t\t\t\t\t\t\t\"\\ndate/time string = \" + timeString +\r\n\t\t\t\t\t\t\t\t\t\"\\ntimeFormat = \" + this._defaults.timeFormat +\r\n\t\t\t\t\t\t\t\t\t\"\\ndateFormat = \" + dp_dateFormat);\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\treturn true;\r\n\t\t\t} else {\r\n\t\t\t\tvar timeObj = $.datepicker.parseTime(this._defaults.timeFormat, timeString, this._defaults);\r\n\t\t\t\tif (!timeObj) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\t$.extend(this, timeObj);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* generate and inject html for timepicker into ui datepicker\r\n\t\t*/\r\n\t\t_injectTimePicker: function () {\r\n\t\t\tvar $dp = this.inst.dpDiv,\r\n\t\t\t\to = this.inst.settings,\r\n\t\t\t\ttp_inst = this,\r\n\t\t\t\tlitem = '',\r\n\t\t\t\tuitem = '',\r\n\t\t\t\tshow = null,\r\n\t\t\t\tmax = {},\r\n\t\t\t\tgridSize = {},\r\n\t\t\t\tsize = null,\r\n\t\t\t\ti = 0,\r\n\t\t\t\tl = 0;\r\n\r\n\t\t\t// Prevent displaying twice\r\n\t\t\tif ($dp.find(\"div.ui-timepicker-div\").length === 0 && o.showTimepicker) {\r\n\t\t\t\tvar noDisplay = ' style=\"display:none;\"',\r\n\t\t\t\t\thtml = '<div class=\"ui-timepicker-div' + (o.isRTL ? ' ui-timepicker-rtl' : '') + '\"><dl>' + '<dt class=\"ui_tpicker_time_label\"' + ((o.showTime) ? '' : noDisplay) + '>' + o.timeText + '</dt>' +\r\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_time\"' + ((o.showTime) ? '' : noDisplay) + '></dd>';\r\n\r\n\t\t\t\t// Create the markup\r\n\t\t\t\tfor (i = 0, l = this.units.length; i < l; i++) {\r\n\t\t\t\t\tlitem = this.units[i];\r\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\r\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\r\n\r\n\t\t\t\t\t// Added by Peter Medeiros:\r\n\t\t\t\t\t// - Figure out what the hour/minute/second max should be based on the step values.\r\n\t\t\t\t\t// - Example: if stepMinute is 15, then minMax is 45.\r\n\t\t\t\t\tmax[litem] = parseInt((o[litem + 'Max'] - ((o[litem + 'Max'] - o[litem + 'Min']) % o['step' + uitem])), 10);\r\n\t\t\t\t\tgridSize[litem] = 0;\r\n\r\n\t\t\t\t\thtml += '<dt class=\"ui_tpicker_' + litem + '_label\"' + (show ? '' : noDisplay) + '>' + o[litem + 'Text'] + '</dt>' +\r\n\t\t\t\t\t\t\t\t'<dd class=\"ui_tpicker_' + litem + '\"><div class=\"ui_tpicker_' + litem + '_slider\"' + (show ? '' : noDisplay) + '></div>';\r\n\r\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\r\n\t\t\t\t\t\thtml += '<div style=\"padding-left: 1px\"><table class=\"ui-tpicker-grid-label\"><tr>';\r\n\r\n\t\t\t\t\t\tif (litem === 'hour') {\r\n\t\t\t\t\t\t\tfor (var h = o[litem + 'Min']; h <= max[litem]; h += parseInt(o[litem + 'Grid'], 10)) {\r\n\t\t\t\t\t\t\t\tgridSize[litem]++;\r\n\t\t\t\t\t\t\t\tvar tmph = $.datepicker.formatTime(this.support.ampm ? 'hht' : 'HH', {hour: h}, o);\r\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + tmph + '</td>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tfor (var m = o[litem + 'Min']; m <= max[litem]; m += parseInt(o[litem + 'Grid'], 10)) {\r\n\t\t\t\t\t\t\t\tgridSize[litem]++;\r\n\t\t\t\t\t\t\t\thtml += '<td data-for=\"' + litem + '\">' + ((m < 10) ? '0' : '') + m + '</td>';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\thtml += '</tr></table></div>';\r\n\t\t\t\t\t}\r\n\t\t\t\t\thtml += '</dd>';\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// Timezone\r\n\t\t\t\tvar showTz = o.showTimezone !== null ? o.showTimezone : this.support.timezone;\r\n\t\t\t\thtml += '<dt class=\"ui_tpicker_timezone_label\"' + (showTz ? '' : noDisplay) + '>' + o.timezoneText + '</dt>';\r\n\t\t\t\thtml += '<dd class=\"ui_tpicker_timezone\" ' + (showTz ? '' : noDisplay) + '></dd>';\r\n\r\n\t\t\t\t// Create the elements from string\r\n\t\t\t\thtml += '</dl></div>';\r\n\t\t\t\tvar $tp = $(html);\r\n\r\n\t\t\t\t// if we only want time picker...\r\n\t\t\t\tif (o.timeOnly === true) {\r\n\t\t\t\t\t$tp.prepend('<div class=\"ui-widget-header ui-helper-clearfix ui-corner-all\">' + '<div class=\"ui-datepicker-title\">' + o.timeOnlyTitle + '</div>' + '</div>');\r\n\t\t\t\t\t$dp.find('.ui-datepicker-header, .ui-datepicker-calendar').hide();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t// add sliders, adjust grids, add events\r\n\t\t\t\tfor (i = 0, l = tp_inst.units.length; i < l; i++) {\r\n\t\t\t\t\tlitem = tp_inst.units[i];\r\n\t\t\t\t\tuitem = litem.substr(0, 1).toUpperCase() + litem.substr(1);\r\n\t\t\t\t\tshow = o['show' + uitem] !== null ? o['show' + uitem] : this.support[litem];\r\n\r\n\t\t\t\t\t// add the slider\r\n\t\t\t\t\ttp_inst[litem + '_slider'] = tp_inst.control.create(tp_inst, $tp.find('.ui_tpicker_' + litem + '_slider'), litem, tp_inst[litem], o[litem + 'Min'], max[litem], o['step' + uitem]);\r\n\r\n\t\t\t\t\t// adjust the grid and add click event\r\n\t\t\t\t\tif (show && o[litem + 'Grid'] > 0) {\r\n\t\t\t\t\t\tsize = 100 * gridSize[litem] * o[litem + 'Grid'] / (max[litem] - o[litem + 'Min']);\r\n\t\t\t\t\t\t$tp.find('.ui_tpicker_' + litem + ' table').css({\r\n\t\t\t\t\t\t\twidth: size + \"%\",\r\n\t\t\t\t\t\t\tmarginLeft: o.isRTL ? '0' : ((size / (-2 * gridSize[litem])) + \"%\"),\r\n\t\t\t\t\t\t\tmarginRight: o.isRTL ? ((size / (-2 * gridSize[litem])) + \"%\") : '0',\r\n\t\t\t\t\t\t\tborderCollapse: 'collapse'\r\n\t\t\t\t\t\t}).find(\"td\").click(function (e) {\r\n\t\t\t\t\t\t\t\tvar $t = $(this),\r\n\t\t\t\t\t\t\t\t\th = $t.html(),\r\n\t\t\t\t\t\t\t\t\tn = parseInt(h.replace(/[^0-9]/g), 10),\r\n\t\t\t\t\t\t\t\t\tap = h.replace(/[^apm]/ig),\r\n\t\t\t\t\t\t\t\t\tf = $t.data('for'); // loses scope, so we use data-for\r\n\r\n\t\t\t\t\t\t\t\tif (f === 'hour') {\r\n\t\t\t\t\t\t\t\t\tif (ap.indexOf('p') !== -1 && n < 12) {\r\n\t\t\t\t\t\t\t\t\t\tn += 12;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\t\t\tif (ap.indexOf('a') !== -1 && n === 12) {\r\n\t\t\t\t\t\t\t\t\t\t\tn = 0;\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, tp_inst[f + '_slider'], litem, n);\r\n\r\n\t\t\t\t\t\t\t\ttp_inst._onTimeChange();\r\n\t\t\t\t\t\t\t\ttp_inst._onSelectHandler();\r\n\t\t\t\t\t\t\t}).css({\r\n\t\t\t\t\t\t\t\tcursor: 'pointer',\r\n\t\t\t\t\t\t\t\twidth: (100 / gridSize[litem]) + '%',\r\n\t\t\t\t\t\t\t\ttextAlign: 'center',\r\n\t\t\t\t\t\t\t\toverflow: 'hidden'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t} // end if grid > 0\r\n\t\t\t\t} // end for loop\r\n\r\n\t\t\t\t// Add timezone options\r\n\t\t\t\tthis.timezone_select = $tp.find('.ui_tpicker_timezone').append('<select></select>').find(\"select\");\r\n\t\t\t\t$.fn.append.apply(this.timezone_select,\r\n\t\t\t\t$.map(o.timezoneList, function (val, idx) {\r\n\t\t\t\t\treturn $(\"<option />\").val(typeof val === \"object\" ? val.value : val).text(typeof val === \"object\" ? val.label : val);\r\n\t\t\t\t}));\r\n\t\t\t\tif (typeof(this.timezone) !== \"undefined\" && this.timezone !== null && this.timezone !== \"\") {\r\n\t\t\t\t\tvar local_timezone = (new Date(this.inst.selectedYear, this.inst.selectedMonth, this.inst.selectedDay, 12)).getTimezoneOffset() * -1;\r\n\t\t\t\t\tif (local_timezone === this.timezone) {\r\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.timezone_select.val(this.timezone);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (typeof(this.hour) !== \"undefined\" && this.hour !== null && this.hour !== \"\") {\r\n\t\t\t\t\t\tthis.timezone_select.val(o.timezone);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tselectLocalTimezone(tp_inst);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.timezone_select.change(function () {\r\n\t\t\t\t\ttp_inst._onTimeChange();\r\n\t\t\t\t\ttp_inst._onSelectHandler();\r\n\t\t\t\t});\r\n\t\t\t\t// End timezone options\r\n\t\t\t\t\r\n\t\t\t\t// inject timepicker into datepicker\r\n\t\t\t\tvar $buttonPanel = $dp.find('.ui-datepicker-buttonpane');\r\n\t\t\t\tif ($buttonPanel.length) {\r\n\t\t\t\t\t$buttonPanel.before($tp);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$dp.append($tp);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$timeObj = $tp.find('.ui_tpicker_time');\r\n\r\n\t\t\t\tif (this.inst !== null) {\r\n\t\t\t\t\tvar timeDefined = this.timeDefined;\r\n\t\t\t\t\tthis._onTimeChange();\r\n\t\t\t\t\tthis.timeDefined = timeDefined;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// slideAccess integration: http://trentrichardson.com/2011/11/11/jquery-ui-sliders-and-touch-accessibility/\r\n\t\t\t\tif (this._defaults.addSliderAccess) {\r\n\t\t\t\t\tvar sliderAccessArgs = this._defaults.sliderAccessArgs,\r\n\t\t\t\t\t\trtl = this._defaults.isRTL;\r\n\t\t\t\t\tsliderAccessArgs.isRTL = rtl;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tsetTimeout(function () { // fix for inline mode\r\n\t\t\t\t\t\tif ($tp.find('.ui-slider-access').length === 0) {\r\n\t\t\t\t\t\t\t$tp.find('.ui-slider:visible').sliderAccess(sliderAccessArgs);\r\n\r\n\t\t\t\t\t\t\t// fix any grids since sliders are shorter\r\n\t\t\t\t\t\t\tvar sliderAccessWidth = $tp.find('.ui-slider-access:eq(0)').outerWidth(true);\r\n\t\t\t\t\t\t\tif (sliderAccessWidth) {\r\n\t\t\t\t\t\t\t\t$tp.find('table:visible').each(function () {\r\n\t\t\t\t\t\t\t\t\tvar $g = $(this),\r\n\t\t\t\t\t\t\t\t\t\toldWidth = $g.outerWidth(),\r\n\t\t\t\t\t\t\t\t\t\toldMarginLeft = $g.css(rtl ? 'marginRight' : 'marginLeft').toString().replace('%', ''),\r\n\t\t\t\t\t\t\t\t\t\tnewWidth = oldWidth - sliderAccessWidth,\r\n\t\t\t\t\t\t\t\t\t\tnewMarginLeft = ((oldMarginLeft * newWidth) / oldWidth) + '%',\r\n\t\t\t\t\t\t\t\t\t\tcss = { width: newWidth, marginRight: 0, marginLeft: 0 };\r\n\t\t\t\t\t\t\t\t\tcss[rtl ? 'marginRight' : 'marginLeft'] = newMarginLeft;\r\n\t\t\t\t\t\t\t\t\t$g.css(css);\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 10);\r\n\t\t\t\t}\r\n\t\t\t\t// end slideAccess integration\r\n\r\n\t\t\t\ttp_inst._limitMinMaxDateTime(this.inst, true);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* This function tries to limit the ability to go outside the\r\n\t\t* min/max date range\r\n\t\t*/\r\n\t\t_limitMinMaxDateTime: function (dp_inst, adjustSliders) {\r\n\t\t\tvar o = this._defaults,\r\n\t\t\t\tdp_date = new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay);\r\n\r\n\t\t\tif (!this._defaults.showTimepicker) {\r\n\t\t\t\treturn;\r\n\t\t\t} // No time so nothing to check here\r\n\r\n\t\t\tif ($.datepicker._get(dp_inst, 'minDateTime') !== null && $.datepicker._get(dp_inst, 'minDateTime') !== undefined && dp_date) {\r\n\t\t\t\tvar minDateTime = $.datepicker._get(dp_inst, 'minDateTime'),\r\n\t\t\t\t\tminDateTimeDate = new Date(minDateTime.getFullYear(), minDateTime.getMonth(), minDateTime.getDate(), 0, 0, 0, 0);\r\n\r\n\t\t\t\tif (this.hourMinOriginal === null || this.minuteMinOriginal === null || this.secondMinOriginal === null || this.millisecMinOriginal === null || this.microsecMinOriginal === null) {\r\n\t\t\t\t\tthis.hourMinOriginal = o.hourMin;\r\n\t\t\t\t\tthis.minuteMinOriginal = o.minuteMin;\r\n\t\t\t\t\tthis.secondMinOriginal = o.secondMin;\r\n\t\t\t\t\tthis.millisecMinOriginal = o.millisecMin;\r\n\t\t\t\t\tthis.microsecMinOriginal = o.microsecMin;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (dp_inst.settings.timeOnly || minDateTimeDate.getTime() === dp_date.getTime()) {\r\n\t\t\t\t\tthis._defaults.hourMin = minDateTime.getHours();\r\n\t\t\t\t\tif (this.hour <= this._defaults.hourMin) {\r\n\t\t\t\t\t\tthis.hour = this._defaults.hourMin;\r\n\t\t\t\t\t\tthis._defaults.minuteMin = minDateTime.getMinutes();\r\n\t\t\t\t\t\tif (this.minute <= this._defaults.minuteMin) {\r\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMin;\r\n\t\t\t\t\t\t\tthis._defaults.secondMin = minDateTime.getSeconds();\r\n\t\t\t\t\t\t\tif (this.second <= this._defaults.secondMin) {\r\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMin;\r\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = minDateTime.getMilliseconds();\r\n\t\t\t\t\t\t\t\tif (this.millisec <= this._defaults.millisecMin) {\r\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMin;\r\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = minDateTime.getMicroseconds();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (this.microsec < this._defaults.microsecMin) {\r\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMin;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\r\n\t\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\r\n\t\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\r\n\t\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\r\n\t\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\r\n\t\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\r\n\t\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._defaults.hourMin = this.hourMinOriginal;\r\n\t\t\t\t\tthis._defaults.minuteMin = this.minuteMinOriginal;\r\n\t\t\t\t\tthis._defaults.secondMin = this.secondMinOriginal;\r\n\t\t\t\t\tthis._defaults.millisecMin = this.millisecMinOriginal;\r\n\t\t\t\t\tthis._defaults.microsecMin = this.microsecMinOriginal;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ($.datepicker._get(dp_inst, 'maxDateTime') !== null && $.datepicker._get(dp_inst, 'maxDateTime') !== undefined && dp_date) {\r\n\t\t\t\tvar maxDateTime = $.datepicker._get(dp_inst, 'maxDateTime'),\r\n\t\t\t\t\tmaxDateTimeDate = new Date(maxDateTime.getFullYear(), maxDateTime.getMonth(), maxDateTime.getDate(), 0, 0, 0, 0);\r\n\r\n\t\t\t\tif (this.hourMaxOriginal === null || this.minuteMaxOriginal === null || this.secondMaxOriginal === null || this.millisecMaxOriginal === null) {\r\n\t\t\t\t\tthis.hourMaxOriginal = o.hourMax;\r\n\t\t\t\t\tthis.minuteMaxOriginal = o.minuteMax;\r\n\t\t\t\t\tthis.secondMaxOriginal = o.secondMax;\r\n\t\t\t\t\tthis.millisecMaxOriginal = o.millisecMax;\r\n\t\t\t\t\tthis.microsecMaxOriginal = o.microsecMax;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (dp_inst.settings.timeOnly || maxDateTimeDate.getTime() === dp_date.getTime()) {\r\n\t\t\t\t\tthis._defaults.hourMax = maxDateTime.getHours();\r\n\t\t\t\t\tif (this.hour >= this._defaults.hourMax) {\r\n\t\t\t\t\t\tthis.hour = this._defaults.hourMax;\r\n\t\t\t\t\t\tthis._defaults.minuteMax = maxDateTime.getMinutes();\r\n\t\t\t\t\t\tif (this.minute >= this._defaults.minuteMax) {\r\n\t\t\t\t\t\t\tthis.minute = this._defaults.minuteMax;\r\n\t\t\t\t\t\t\tthis._defaults.secondMax = maxDateTime.getSeconds();\r\n\t\t\t\t\t\t\tif (this.second >= this._defaults.secondMax) {\r\n\t\t\t\t\t\t\t\tthis.second = this._defaults.secondMax;\r\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = maxDateTime.getMilliseconds();\r\n\t\t\t\t\t\t\t\tif (this.millisec >= this._defaults.millisecMax) {\r\n\t\t\t\t\t\t\t\t\tthis.millisec = this._defaults.millisecMax;\r\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = maxDateTime.getMicroseconds();\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tif (this.microsec > this._defaults.microsecMax) {\r\n\t\t\t\t\t\t\t\t\t\tthis.microsec = this._defaults.microsecMax;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\r\n\t\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\r\n\t\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\r\n\t\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\r\n\t\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\r\n\t\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\r\n\t\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis._defaults.hourMax = this.hourMaxOriginal;\r\n\t\t\t\t\tthis._defaults.minuteMax = this.minuteMaxOriginal;\r\n\t\t\t\t\tthis._defaults.secondMax = this.secondMaxOriginal;\r\n\t\t\t\t\tthis._defaults.millisecMax = this.millisecMaxOriginal;\r\n\t\t\t\t\tthis._defaults.microsecMax = this.microsecMaxOriginal;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (adjustSliders !== undefined && adjustSliders === true) {\r\n\t\t\t\tvar hourMax = parseInt((this._defaults.hourMax - ((this._defaults.hourMax - this._defaults.hourMin) % this._defaults.stepHour)), 10),\r\n\t\t\t\t\tminMax = parseInt((this._defaults.minuteMax - ((this._defaults.minuteMax - this._defaults.minuteMin) % this._defaults.stepMinute)), 10),\r\n\t\t\t\t\tsecMax = parseInt((this._defaults.secondMax - ((this._defaults.secondMax - this._defaults.secondMin) % this._defaults.stepSecond)), 10),\r\n\t\t\t\t\tmillisecMax = parseInt((this._defaults.millisecMax - ((this._defaults.millisecMax - this._defaults.millisecMin) % this._defaults.stepMillisec)), 10),\r\n\t\t\t\t\tmicrosecMax = parseInt((this._defaults.microsecMax - ((this._defaults.microsecMax - this._defaults.microsecMin) % this._defaults.stepMicrosec)), 10);\r\n\r\n\t\t\t\tif (this.hour_slider) {\r\n\t\t\t\t\tthis.control.options(this, this.hour_slider, 'hour', { min: this._defaults.hourMin, max: hourMax });\r\n\t\t\t\t\tthis.control.value(this, this.hour_slider, 'hour', this.hour - (this.hour % this._defaults.stepHour));\r\n\t\t\t\t}\r\n\t\t\t\tif (this.minute_slider) {\r\n\t\t\t\t\tthis.control.options(this, this.minute_slider, 'minute', { min: this._defaults.minuteMin, max: minMax });\r\n\t\t\t\t\tthis.control.value(this, this.minute_slider, 'minute', this.minute - (this.minute % this._defaults.stepMinute));\r\n\t\t\t\t}\r\n\t\t\t\tif (this.second_slider) {\r\n\t\t\t\t\tthis.control.options(this, this.second_slider, 'second', { min: this._defaults.secondMin, max: secMax });\r\n\t\t\t\t\tthis.control.value(this, this.second_slider, 'second', this.second - (this.second % this._defaults.stepSecond));\r\n\t\t\t\t}\r\n\t\t\t\tif (this.millisec_slider) {\r\n\t\t\t\t\tthis.control.options(this, this.millisec_slider, 'millisec', { min: this._defaults.millisecMin, max: millisecMax });\r\n\t\t\t\t\tthis.control.value(this, this.millisec_slider, 'millisec', this.millisec - (this.millisec % this._defaults.stepMillisec));\r\n\t\t\t\t}\r\n\t\t\t\tif (this.microsec_slider) {\r\n\t\t\t\t\tthis.control.options(this, this.microsec_slider, 'microsec', { min: this._defaults.microsecMin, max: microsecMax });\r\n\t\t\t\t\tthis.control.value(this, this.microsec_slider, 'microsec', this.microsec - (this.microsec % this._defaults.stepMicrosec));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* when a slider moves, set the internal time...\r\n\t\t* on time change is also called when the time is updated in the text field\r\n\t\t*/\r\n\t\t_onTimeChange: function () {\r\n\t\t\tif (!this._defaults.showTimepicker) {\r\n                                return;\r\n\t\t\t}\r\n\t\t\tvar hour = (this.hour_slider) ? this.control.value(this, this.hour_slider, 'hour') : false,\r\n\t\t\t\tminute = (this.minute_slider) ? this.control.value(this, this.minute_slider, 'minute') : false,\r\n\t\t\t\tsecond = (this.second_slider) ? this.control.value(this, this.second_slider, 'second') : false,\r\n\t\t\t\tmillisec = (this.millisec_slider) ? this.control.value(this, this.millisec_slider, 'millisec') : false,\r\n\t\t\t\tmicrosec = (this.microsec_slider) ? this.control.value(this, this.microsec_slider, 'microsec') : false,\r\n\t\t\t\ttimezone = (this.timezone_select) ? this.timezone_select.val() : false,\r\n\t\t\t\to = this._defaults,\r\n\t\t\t\tpickerTimeFormat = o.pickerTimeFormat || o.timeFormat,\r\n\t\t\t\tpickerTimeSuffix = o.pickerTimeSuffix || o.timeSuffix;\r\n\r\n\t\t\tif (typeof(hour) === 'object') {\r\n\t\t\t\thour = false;\r\n\t\t\t}\r\n\t\t\tif (typeof(minute) === 'object') {\r\n\t\t\t\tminute = false;\r\n\t\t\t}\r\n\t\t\tif (typeof(second) === 'object') {\r\n\t\t\t\tsecond = false;\r\n\t\t\t}\r\n\t\t\tif (typeof(millisec) === 'object') {\r\n\t\t\t\tmillisec = false;\r\n\t\t\t}\r\n\t\t\tif (typeof(microsec) === 'object') {\r\n\t\t\t\tmicrosec = false;\r\n\t\t\t}\r\n\t\t\tif (typeof(timezone) === 'object') {\r\n\t\t\t\ttimezone = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (hour !== false) {\r\n\t\t\t\thour = parseInt(hour, 10);\r\n\t\t\t}\r\n\t\t\tif (minute !== false) {\r\n\t\t\t\tminute = parseInt(minute, 10);\r\n\t\t\t}\r\n\t\t\tif (second !== false) {\r\n\t\t\t\tsecond = parseInt(second, 10);\r\n\t\t\t}\r\n\t\t\tif (millisec !== false) {\r\n\t\t\t\tmillisec = parseInt(millisec, 10);\r\n\t\t\t}\r\n\t\t\tif (microsec !== false) {\r\n\t\t\t\tmicrosec = parseInt(microsec, 10);\r\n\t\t\t}\r\n\t\t\tif (timezone !== false) {\r\n\t\t\t\ttimezone = timezone.toString();\r\n\t\t\t}\r\n\r\n\t\t\tvar ampm = o[hour < 12 ? 'amNames' : 'pmNames'][0];\r\n\r\n\t\t\t// If the update was done in the input field, the input field should not be updated.\r\n\t\t\t// If the update was done using the sliders, update the input field.\r\n\t\t\tvar hasChanged = (\r\n\t\t\t\t\t\thour !== parseInt(this.hour,10) || // sliders should all be numeric\r\n\t\t\t\t\t\tminute !== parseInt(this.minute,10) || \r\n\t\t\t\t\t\tsecond !== parseInt(this.second,10) || \r\n\t\t\t\t\t\tmillisec !== parseInt(this.millisec,10) || \r\n\t\t\t\t\t\tmicrosec !== parseInt(this.microsec,10) || \r\n\t\t\t\t\t\t(this.ampm.length > 0 && (hour < 12) !== ($.inArray(this.ampm.toUpperCase(), this.amNames) !== -1)) || \r\n\t\t\t\t\t\t(this.timezone !== null && timezone !== this.timezone.toString()) // could be numeric or \"EST\" format, so use toString()\r\n\t\t\t\t\t);\r\n\r\n\t\t\tif (hasChanged) {\r\n\r\n\t\t\t\tif (hour !== false) {\r\n\t\t\t\t\tthis.hour = hour;\r\n\t\t\t\t}\r\n\t\t\t\tif (minute !== false) {\r\n\t\t\t\t\tthis.minute = minute;\r\n\t\t\t\t}\r\n\t\t\t\tif (second !== false) {\r\n\t\t\t\t\tthis.second = second;\r\n\t\t\t\t}\r\n\t\t\t\tif (millisec !== false) {\r\n\t\t\t\t\tthis.millisec = millisec;\r\n\t\t\t\t}\r\n\t\t\t\tif (microsec !== false) {\r\n\t\t\t\t\tthis.microsec = microsec;\r\n\t\t\t\t}\r\n\t\t\t\tif (timezone !== false) {\r\n\t\t\t\t\tthis.timezone = timezone;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (!this.inst) {\r\n\t\t\t\t\tthis.inst = $.datepicker._getInst(this.$input[0]);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis._limitMinMaxDateTime(this.inst, true);\r\n\t\t\t}\r\n\t\t\tif (this.support.ampm) {\r\n\t\t\t\tthis.ampm = ampm;\r\n\t\t\t}\r\n\r\n\t\t\t// Updates the time within the timepicker\r\n\t\t\tthis.formattedTime = $.datepicker.formatTime(o.timeFormat, this, o);\r\n\t\t\tif (this.$timeObj) {\r\n\t\t\t\tif (pickerTimeFormat === o.timeFormat) {\r\n\t\t\t\t\tthis.$timeObj.text(this.formattedTime + pickerTimeSuffix);\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\tthis.$timeObj.text($.datepicker.formatTime(pickerTimeFormat, this, o) + pickerTimeSuffix);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tthis.timeDefined = true;\r\n\t\t\tif (hasChanged) {\r\n\t\t\t\tthis._updateDateTime();\r\n\t\t\t\tthis.$input.focus();\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* call custom onSelect.\r\n\t\t* bind to sliders slidestop, and grid click.\r\n\t\t*/\r\n\t\t_onSelectHandler: function () {\r\n\t\t\tvar onSelect = this._defaults.onSelect || this.inst.settings.onSelect;\r\n\t\t\tvar inputEl = this.$input ? this.$input[0] : null;\r\n\t\t\tif (onSelect && inputEl) {\r\n\t\t\t\tonSelect.apply(inputEl, [this.formattedDateTime, this]);\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* update our input with the new date time..\r\n\t\t*/\r\n\t\t_updateDateTime: function (dp_inst) {\r\n\t\t\tdp_inst = this.inst || dp_inst;\r\n\t\t\tvar dtTmp = (dp_inst.currentYear > 0? \r\n\t\t\t\t\t\t\tnew Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay) : \r\n\t\t\t\t\t\t\tnew Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\r\n\t\t\t\tdt = $.datepicker._daylightSavingAdjust(dtTmp),\r\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.selectedYear, dp_inst.selectedMonth, dp_inst.selectedDay)),\r\n\t\t\t\t//dt = $.datepicker._daylightSavingAdjust(new Date(dp_inst.currentYear, dp_inst.currentMonth, dp_inst.currentDay)),\r\n\t\t\t\tdateFmt = $.datepicker._get(dp_inst, 'dateFormat'),\r\n\t\t\t\tformatCfg = $.datepicker._getFormatConfig(dp_inst),\r\n\t\t\t\ttimeAvailable = dt !== null && this.timeDefined;\r\n\t\t\tthis.formattedDate = $.datepicker.formatDate(dateFmt, (dt === null ? new Date() : dt), formatCfg);\r\n\t\t\tvar formattedDateTime = this.formattedDate;\r\n\t\t\t\r\n\t\t\t// if a slider was changed but datepicker doesn't have a value yet, set it\r\n\t\t\tif (dp_inst.lastVal === \"\") {\r\n                dp_inst.currentYear = dp_inst.selectedYear;\r\n                dp_inst.currentMonth = dp_inst.selectedMonth;\r\n                dp_inst.currentDay = dp_inst.selectedDay;\r\n            }\r\n\r\n\t\t\t/*\r\n\t\t\t* remove following lines to force every changes in date picker to change the input value\r\n\t\t\t* Bug descriptions: when an input field has a default value, and click on the field to pop up the date picker. \r\n\t\t\t* If the user manually empty the value in the input field, the date picker will never change selected value.\r\n\t\t\t*/\r\n\t\t\t//if (dp_inst.lastVal !== undefined && (dp_inst.lastVal.length > 0 && this.$input.val().length === 0)) {\r\n\t\t\t//\treturn;\r\n\t\t\t//}\r\n\r\n\t\t\tif (this._defaults.timeOnly === true) {\r\n\t\t\t\tformattedDateTime = this.formattedTime;\r\n\t\t\t} else if (this._defaults.timeOnly !== true && (this._defaults.alwaysSetTime || timeAvailable)) {\r\n\t\t\t\tformattedDateTime += this._defaults.separator + this.formattedTime + this._defaults.timeSuffix;\r\n\t\t\t}\r\n\r\n\t\t\tthis.formattedDateTime = formattedDateTime;\r\n\r\n\t\t\tif (!this._defaults.showTimepicker) {\r\n\t\t\t\tthis.$input.val(this.formattedDate);\r\n\t\t\t} else if (this.$altInput && this._defaults.timeOnly === false && this._defaults.altFieldTimeOnly === true) {\r\n\t\t\t\tthis.$altInput.val(this.formattedTime);\r\n\t\t\t\tthis.$input.val(this.formattedDate);\r\n\t\t\t} else if (this.$altInput) {\r\n\t\t\t\tthis.$input.val(formattedDateTime);\r\n\t\t\t\tvar altFormattedDateTime = '',\r\n\t\t\t\t\taltSeparator = this._defaults.altSeparator ? this._defaults.altSeparator : this._defaults.separator,\r\n\t\t\t\t\taltTimeSuffix = this._defaults.altTimeSuffix ? this._defaults.altTimeSuffix : this._defaults.timeSuffix;\r\n\t\t\t\t\r\n\t\t\t\tif (!this._defaults.timeOnly) {\r\n\t\t\t\t\tif (this._defaults.altFormat) {\r\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(this._defaults.altFormat, (dt === null ? new Date() : dt), formatCfg);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\taltFormattedDateTime = this.formattedDate;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (altFormattedDateTime) {\r\n\t\t\t\t\t\taltFormattedDateTime += altSeparator;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this._defaults.altTimeFormat) {\r\n\t\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(this._defaults.altTimeFormat, this, this._defaults) + altTimeSuffix;\r\n\t\t\t\t}\r\n\t\t\t\telse {\r\n\t\t\t\t\taltFormattedDateTime += this.formattedTime + altTimeSuffix;\r\n\t\t\t\t}\r\n\t\t\t\tthis.$altInput.val(altFormattedDateTime);\r\n\t\t\t} else {\r\n\t\t\t\tthis.$input.val(formattedDateTime);\r\n\t\t\t}\r\n\r\n\t\t\tthis.$input.trigger(\"change\");\r\n\t\t},\r\n\r\n\t\t_onFocus: function () {\r\n\t\t\tif (!this.$input.val() && this._defaults.defaultValue) {\r\n\t\t\t\tthis.$input.val(this._defaults.defaultValue);\r\n\t\t\t\tvar inst = $.datepicker._getInst(this.$input.get(0)),\r\n\t\t\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\r\n\t\t\t\tif (tp_inst) {\r\n\t\t\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t$.datepicker._updateDatepicker(inst);\r\n\t\t\t\t\t\t} catch (err) {\r\n\t\t\t\t\t\t\t$.timepicker.log(err);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* Small abstraction to control types\r\n\t\t* We can add more, just be sure to follow the pattern: create, options, value\r\n\t\t*/\r\n\t\t_controls: {\r\n\t\t\t// slider methods\r\n\t\t\tslider: {\r\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\r\n\t\t\t\t\tvar rtl = tp_inst._defaults.isRTL; // if rtl go -60->0 instead of 0->60\r\n\t\t\t\t\treturn obj.prop('slide', null).slider({\r\n\t\t\t\t\t\torientation: \"horizontal\",\r\n\t\t\t\t\t\tvalue: rtl ? val * -1 : val,\r\n\t\t\t\t\t\tmin: rtl ? max * -1 : min,\r\n\t\t\t\t\t\tmax: rtl ? min * -1 : max,\r\n\t\t\t\t\t\tstep: step,\r\n\t\t\t\t\t\tslide: function (event, ui) {\r\n\t\t\t\t\t\t\ttp_inst.control.value(tp_inst, $(this), unit, rtl ? ui.value * -1 : ui.value);\r\n\t\t\t\t\t\t\ttp_inst._onTimeChange();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tstop: function (event, ui) {\r\n\t\t\t\t\t\t\ttp_inst._onSelectHandler();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\t\r\n\t\t\t\t},\r\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\r\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\r\n\t\t\t\t\t\tif (typeof(opts) === 'string') {\r\n\t\t\t\t\t\t\tif (opts === 'min' || opts === 'max') {\r\n\t\t\t\t\t\t\t\tif (val !== undefined) {\r\n\t\t\t\t\t\t\t\t\treturn obj.slider(opts, val * -1);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\treturn Math.abs(obj.slider(opts));\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn obj.slider(opts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tvar min = opts.min, \r\n\t\t\t\t\t\t\tmax = opts.max;\r\n\t\t\t\t\t\topts.min = opts.max = null;\r\n\t\t\t\t\t\tif (min !== undefined) {\r\n\t\t\t\t\t\t\topts.max = min * -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (max !== undefined) {\r\n\t\t\t\t\t\t\topts.min = max * -1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn obj.slider(opts);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (typeof(opts) === 'string' && val !== undefined) {\r\n\t\t\t\t\t\treturn obj.slider(opts, val);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn obj.slider(opts);\r\n\t\t\t\t},\r\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\r\n\t\t\t\t\tif (tp_inst._defaults.isRTL) {\r\n\t\t\t\t\t\tif (val !== undefined) {\r\n\t\t\t\t\t\t\treturn obj.slider('value', val * -1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn Math.abs(obj.slider('value'));\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (val !== undefined) {\r\n\t\t\t\t\t\treturn obj.slider('value', val);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn obj.slider('value');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// select methods\r\n\t\t\tselect: {\r\n\t\t\t\tcreate: function (tp_inst, obj, unit, val, min, max, step) {\r\n\t\t\t\t\tvar sel = '<select class=\"ui-timepicker-select\" data-unit=\"' + unit + '\" data-min=\"' + min + '\" data-max=\"' + max + '\" data-step=\"' + step + '\">',\r\n\t\t\t\t\t\tformat = tp_inst._defaults.pickerTimeFormat || tp_inst._defaults.timeFormat;\r\n\r\n\t\t\t\t\tfor (var i = min; i <= max; i += step) {\r\n\t\t\t\t\t\tsel += '<option value=\"' + i + '\"' + (i === val ? ' selected' : '') + '>';\r\n\t\t\t\t\t\tif (unit === 'hour') {\r\n\t\t\t\t\t\t\tsel += $.datepicker.formatTime($.trim(format.replace(/[^ht ]/ig, '')), {hour: i}, tp_inst._defaults);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if (unit === 'millisec' || unit === 'microsec' || i >= 10) { sel += i; }\r\n\t\t\t\t\t\telse {sel += '0' + i.toString(); }\r\n\t\t\t\t\t\tsel += '</option>';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tsel += '</select>';\r\n\r\n\t\t\t\t\tobj.children('select').remove();\r\n\r\n\t\t\t\t\t$(sel).appendTo(obj).change(function (e) {\r\n\t\t\t\t\t\ttp_inst._onTimeChange();\r\n\t\t\t\t\t\ttp_inst._onSelectHandler();\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\treturn obj;\r\n\t\t\t\t},\r\n\t\t\t\toptions: function (tp_inst, obj, unit, opts, val) {\r\n\t\t\t\t\tvar o = {},\r\n\t\t\t\t\t\t$t = obj.children('select');\r\n\t\t\t\t\tif (typeof(opts) === 'string') {\r\n\t\t\t\t\t\tif (val === undefined) {\r\n\t\t\t\t\t\t\treturn $t.data(opts);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\to[opts] = val;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse { o = opts; }\r\n\t\t\t\t\treturn tp_inst.control.create(tp_inst, obj, $t.data('unit'), $t.val(), o.min || $t.data('min'), o.max || $t.data('max'), o.step || $t.data('step'));\r\n\t\t\t\t},\r\n\t\t\t\tvalue: function (tp_inst, obj, unit, val) {\r\n\t\t\t\t\tvar $t = obj.children('select');\r\n\t\t\t\t\tif (val !== undefined) {\r\n\t\t\t\t\t\treturn $t.val(val);\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn $t.val();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} // end _controls\r\n\r\n\t});\r\n\r\n\t$.fn.extend({\r\n\t\t/*\r\n\t\t* shorthand just to use timepicker.\r\n\t\t*/\r\n\t\ttimepicker: function (o) {\r\n\t\t\to = o || {};\r\n\t\t\tvar tmp_args = Array.prototype.slice.call(arguments);\r\n\r\n\t\t\tif (typeof o === 'object') {\r\n\t\t\t\ttmp_args[0] = $.extend(o, {\r\n\t\t\t\t\ttimeOnly: true\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn $(this).each(function () {\r\n\t\t\t\t$.fn.datetimepicker.apply($(this), tmp_args);\r\n\t\t\t});\r\n\t\t},\r\n\r\n\t\t/*\r\n\t\t* extend timepicker to datepicker\r\n\t\t*/\r\n\t\tdatetimepicker: function (o) {\r\n\t\t\to = o || {};\r\n\t\t\tvar tmp_args = arguments;\r\n\r\n\t\t\tif (typeof(o) === 'string') {\r\n\t\t\t\tif (o === 'getDate') {\r\n\t\t\t\t\treturn $.fn.datepicker.apply($(this[0]), tmp_args);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\t\tvar $t = $(this);\r\n\t\t\t\t\t\t$t.datepicker.apply($t, tmp_args);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tvar $t = $(this);\r\n\t\t\t\t\t$t.datepicker($.timepicker._newInst($t, o)._defaults);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/*\r\n\t* Public Utility to parse date and time\r\n\t*/\r\n\t$.datepicker.parseDateTime = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\r\n\t\tvar parseRes = parseDateTimeInternal(dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings);\r\n\t\tif (parseRes.timeObj) {\r\n\t\t\tvar t = parseRes.timeObj;\r\n\t\t\tparseRes.date.setHours(t.hour, t.minute, t.second, t.millisec);\r\n\t\t\tparseRes.date.setMicroseconds(t.microsec);\r\n\t\t}\r\n\r\n\t\treturn parseRes.date;\r\n\t};\r\n\r\n\t/*\r\n\t* Public utility to parse time\r\n\t*/\r\n\t$.datepicker.parseTime = function (timeFormat, timeString, options) {\r\n\t\tvar o = extendRemove(extendRemove({}, $.timepicker._defaults), options || {}),\r\n\t\t\tiso8601 = (timeFormat.replace(/\\'.*?\\'/g, '').indexOf('Z') !== -1);\r\n\r\n\t\t// Strict parse requires the timeString to match the timeFormat exactly\r\n\t\tvar strictParse = function (f, s, o) {\r\n\r\n\t\t\t// pattern for standard and localized AM/PM markers\r\n\t\t\tvar getPatternAmpm = function (amNames, pmNames) {\r\n\t\t\t\tvar markers = [];\r\n\t\t\t\tif (amNames) {\r\n\t\t\t\t\t$.merge(markers, amNames);\r\n\t\t\t\t}\r\n\t\t\t\tif (pmNames) {\r\n\t\t\t\t\t$.merge(markers, pmNames);\r\n\t\t\t\t}\r\n\t\t\t\tmarkers = $.map(markers, function (val) {\r\n\t\t\t\t\treturn val.replace(/[.*+?|()\\[\\]{}\\\\]/g, '\\\\$&');\r\n\t\t\t\t});\r\n\t\t\t\treturn '(' + markers.join('|') + ')?';\r\n\t\t\t};\r\n\r\n\t\t\t// figure out position of time elements.. cause js cant do named captures\r\n\t\t\tvar getFormatPositions = function (timeFormat) {\r\n\t\t\t\tvar finds = timeFormat.toLowerCase().match(/(h{1,2}|m{1,2}|s{1,2}|l{1}|c{1}|t{1,2}|z|'.*?')/g),\r\n\t\t\t\t\torders = {\r\n\t\t\t\t\t\th: -1,\r\n\t\t\t\t\t\tm: -1,\r\n\t\t\t\t\t\ts: -1,\r\n\t\t\t\t\t\tl: -1,\r\n\t\t\t\t\t\tc: -1,\r\n\t\t\t\t\t\tt: -1,\r\n\t\t\t\t\t\tz: -1\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\tif (finds) {\r\n\t\t\t\t\tfor (var i = 0; i < finds.length; i++) {\r\n\t\t\t\t\t\tif (orders[finds[i].toString().charAt(0)] === -1) {\r\n\t\t\t\t\t\t\torders[finds[i].toString().charAt(0)] = i + 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn orders;\r\n\t\t\t};\r\n\r\n\t\t\tvar regstr = '^' + f.toString()\r\n\t\t\t\t\t.replace(/([hH]{1,2}|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\r\n\t\t\t\t\t\t\tvar ml = match.length;\r\n\t\t\t\t\t\t\tswitch (match.charAt(0).toLowerCase()) {\r\n\t\t\t\t\t\t\tcase 'h':\r\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\r\n\t\t\t\t\t\t\tcase 'm':\r\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\r\n\t\t\t\t\t\t\tcase 's':\r\n\t\t\t\t\t\t\t\treturn ml === 1 ? '(\\\\d?\\\\d)' : '(\\\\d{' + ml + '})';\r\n\t\t\t\t\t\t\tcase 'l':\r\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\r\n\t\t\t\t\t\t\tcase 'c':\r\n\t\t\t\t\t\t\t\treturn '(\\\\d?\\\\d?\\\\d)';\r\n\t\t\t\t\t\t\tcase 'z':\r\n\t\t\t\t\t\t\t\treturn '(z|[-+]\\\\d\\\\d:?\\\\d\\\\d|\\\\S+)?';\r\n\t\t\t\t\t\t\tcase 't':\r\n\t\t\t\t\t\t\t\treturn getPatternAmpm(o.amNames, o.pmNames);\r\n\t\t\t\t\t\t\tdefault:    // literal escaped in quotes\r\n\t\t\t\t\t\t\t\treturn '(' + match.replace(/\\'/g, \"\").replace(/(\\.|\\$|\\^|\\\\|\\/|\\(|\\)|\\[|\\]|\\?|\\+|\\*)/g, function (m) { return \"\\\\\" + m; }) + ')?';\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t.replace(/\\s/g, '\\\\s?') +\r\n\t\t\t\t\to.timeSuffix + '$',\r\n\t\t\t\torder = getFormatPositions(f),\r\n\t\t\t\tampm = '',\r\n\t\t\t\ttreg;\r\n\r\n\t\t\ttreg = s.match(new RegExp(regstr, 'i'));\r\n\r\n\t\t\tvar resTime = {\r\n\t\t\t\thour: 0,\r\n\t\t\t\tminute: 0,\r\n\t\t\t\tsecond: 0,\r\n\t\t\t\tmillisec: 0,\r\n\t\t\t\tmicrosec: 0\r\n\t\t\t};\r\n\r\n\t\t\tif (treg) {\r\n\t\t\t\tif (order.t !== -1) {\r\n\t\t\t\t\tif (treg[order.t] === undefined || treg[order.t].length === 0) {\r\n\t\t\t\t\t\tampm = '';\r\n\t\t\t\t\t\tresTime.ampm = '';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tampm = $.inArray(treg[order.t].toUpperCase(), o.amNames) !== -1 ? 'AM' : 'PM';\r\n\t\t\t\t\t\tresTime.ampm = o[ampm === 'AM' ? 'amNames' : 'pmNames'][0];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (order.h !== -1) {\r\n\t\t\t\t\tif (ampm === 'AM' && treg[order.h] === '12') {\r\n\t\t\t\t\t\tresTime.hour = 0; // 12am = 0 hour\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif (ampm === 'PM' && treg[order.h] !== '12') {\r\n\t\t\t\t\t\t\tresTime.hour = parseInt(treg[order.h], 10) + 12; // 12pm = 12 hour, any other pm = hour + 12\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tresTime.hour = Number(treg[order.h]);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (order.m !== -1) {\r\n\t\t\t\t\tresTime.minute = Number(treg[order.m]);\r\n\t\t\t\t}\r\n\t\t\t\tif (order.s !== -1) {\r\n\t\t\t\t\tresTime.second = Number(treg[order.s]);\r\n\t\t\t\t}\r\n\t\t\t\tif (order.l !== -1) {\r\n\t\t\t\t\tresTime.millisec = Number(treg[order.l]);\r\n\t\t\t\t}\r\n\t\t\t\tif (order.c !== -1) {\r\n\t\t\t\t\tresTime.microsec = Number(treg[order.c]);\r\n\t\t\t\t}\r\n\t\t\t\tif (order.z !== -1 && treg[order.z] !== undefined) {\r\n\t\t\t\t\tresTime.timezone = $.timepicker.timezoneOffsetNumber(treg[order.z]);\r\n\t\t\t\t}\r\n\r\n\r\n\t\t\t\treturn resTime;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t};// end strictParse\r\n\r\n\t\t// First try JS Date, if that fails, use strictParse\r\n\t\tvar looseParse = function (f, s, o) {\r\n\t\t\ttry {\r\n\t\t\t\tvar d = new Date('2012-01-01 ' + s);\r\n\t\t\t\tif (isNaN(d.getTime())) {\r\n\t\t\t\t\td = new Date('2012-01-01T' + s);\r\n\t\t\t\t\tif (isNaN(d.getTime())) {\r\n\t\t\t\t\t\td = new Date('01/01/2012 ' + s);\r\n\t\t\t\t\t\tif (isNaN(d.getTime())) {\r\n\t\t\t\t\t\t\tthrow \"Unable to parse time with native Date: \" + s;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\thour: d.getHours(),\r\n\t\t\t\t\tminute: d.getMinutes(),\r\n\t\t\t\t\tsecond: d.getSeconds(),\r\n\t\t\t\t\tmillisec: d.getMilliseconds(),\r\n\t\t\t\t\tmicrosec: d.getMicroseconds(),\r\n\t\t\t\t\ttimezone: d.getTimezoneOffset() * -1\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\tcatch (err) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\treturn strictParse(f, s, o);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (err2) {\r\n\t\t\t\t\t$.timepicker.log(\"Unable to parse \\ntimeString: \" + s + \"\\ntimeFormat: \" + f);\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}; // end looseParse\r\n\t\t\r\n\t\tif (typeof o.parse === \"function\") {\r\n\t\t\treturn o.parse(timeFormat, timeString, o);\r\n\t\t}\r\n\t\tif (o.parse === 'loose') {\r\n\t\t\treturn looseParse(timeFormat, timeString, o);\r\n\t\t}\r\n\t\treturn strictParse(timeFormat, timeString, o);\r\n\t};\r\n\r\n\t/**\r\n\t * Public utility to format the time\r\n\t * @param {string} format format of the time\r\n\t * @param {Object} time Object not a Date for timezones\r\n\t * @param {Object} [options] essentially the regional[].. amNames, pmNames, ampm\r\n\t * @returns {string} the formatted time\r\n\t */\r\n\t$.datepicker.formatTime = function (format, time, options) {\r\n\t\toptions = options || {};\r\n\t\toptions = $.extend({}, $.timepicker._defaults, options);\r\n\t\ttime = $.extend({\r\n\t\t\thour: 0,\r\n\t\t\tminute: 0,\r\n\t\t\tsecond: 0,\r\n\t\t\tmillisec: 0,\r\n\t\t\tmicrosec: 0,\r\n\t\t\ttimezone: null\r\n\t\t}, time);\r\n\r\n\t\tvar tmptime = format,\r\n\t\t\tampmName = options.amNames[0],\r\n\t\t\thour = parseInt(time.hour, 10);\r\n\r\n\t\tif (hour > 11) {\r\n\t\t\tampmName = options.pmNames[0];\r\n\t\t}\r\n\r\n\t\ttmptime = tmptime.replace(/(?:HH?|hh?|mm?|ss?|[tT]{1,2}|[zZ]|[lc]|'.*?')/g, function (match) {\r\n\t\t\tswitch (match) {\r\n\t\t\tcase 'HH':\r\n\t\t\t\treturn ('0' + hour).slice(-2);\r\n\t\t\tcase 'H':\r\n\t\t\t\treturn hour;\r\n\t\t\tcase 'hh':\r\n\t\t\t\treturn ('0' + convert24to12(hour)).slice(-2);\r\n\t\t\tcase 'h':\r\n\t\t\t\treturn convert24to12(hour);\r\n\t\t\tcase 'mm':\r\n\t\t\t\treturn ('0' + time.minute).slice(-2);\r\n\t\t\tcase 'm':\r\n\t\t\t\treturn time.minute;\r\n\t\t\tcase 'ss':\r\n\t\t\t\treturn ('0' + time.second).slice(-2);\r\n\t\t\tcase 's':\r\n\t\t\t\treturn time.second;\r\n\t\t\tcase 'l':\r\n\t\t\t\treturn ('00' + time.millisec).slice(-3);\r\n\t\t\tcase 'c':\r\n\t\t\t\treturn ('00' + time.microsec).slice(-3);\r\n\t\t\tcase 'z':\r\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, false);\r\n\t\t\tcase 'Z':\r\n\t\t\t\treturn $.timepicker.timezoneOffsetString(time.timezone === null ? options.timezone : time.timezone, true);\r\n\t\t\tcase 'T':\r\n\t\t\t\treturn ampmName.charAt(0).toUpperCase();\r\n\t\t\tcase 'TT':\r\n\t\t\t\treturn ampmName.toUpperCase();\r\n\t\t\tcase 't':\r\n\t\t\t\treturn ampmName.charAt(0).toLowerCase();\r\n\t\t\tcase 'tt':\r\n\t\t\t\treturn ampmName.toLowerCase();\r\n\t\t\tdefault:\r\n\t\t\t\treturn match.replace(/'/g, \"\");\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn tmptime;\r\n\t};\r\n\r\n\t/*\r\n\t* the bad hack :/ override datepicker so it doesn't close on select\r\n\t// inspired: http://stackoverflow.com/questions/1252512/jquery-datepicker-prevent-closing-picker-when-clicking-a-date/1762378#1762378\r\n\t*/\r\n\t$.datepicker._base_selectDate = $.datepicker._selectDate;\r\n\t$.datepicker._selectDate = function (id, dateStr) {\r\n\t\tvar inst = this._getInst($(id)[0]),\r\n\t\t\ttp_inst = this._get(inst, 'timepicker');\r\n\r\n\t\tif (tp_inst) {\r\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\r\n\t\t\tinst.inline = inst.stay_open = true;\r\n\t\t\t//This way the onSelect handler called from calendarpicker get the full dateTime\r\n\t\t\tthis._base_selectDate(id, dateStr);\r\n\t\t\tinst.inline = inst.stay_open = false;\r\n\t\t\tthis._notifyChange(inst);\r\n\t\t\tthis._updateDatepicker(inst);\r\n\t\t} else {\r\n\t\t\tthis._base_selectDate(id, dateStr);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* second bad hack :/ override datepicker so it triggers an event when changing the input field\r\n\t* and does not redraw the datepicker on every selectDate event\r\n\t*/\r\n\t$.datepicker._base_updateDatepicker = $.datepicker._updateDatepicker;\r\n\t$.datepicker._updateDatepicker = function (inst) {\r\n\r\n\t\t// don't popup the datepicker if there is another instance already opened\r\n\t\tvar input = inst.input[0];\r\n\t\tif ($.datepicker._curInst && $.datepicker._curInst !== inst && $.datepicker._datepickerShowing && $.datepicker._lastInput !== input) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (typeof(inst.stay_open) !== 'boolean' || inst.stay_open === false) {\r\n\r\n\t\t\tthis._base_updateDatepicker(inst);\r\n\r\n\t\t\t// Reload the time control when changing something in the input text field.\r\n\t\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\t\tif (tp_inst) {\r\n\t\t\t\ttp_inst._addTimePicker(inst);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* third bad hack :/ override datepicker so it allows spaces and colon in the input field\r\n\t*/\r\n\t$.datepicker._base_doKeyPress = $.datepicker._doKeyPress;\r\n\t$.datepicker._doKeyPress = function (event) {\r\n\t\tvar inst = $.datepicker._getInst(event.target),\r\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\r\n\r\n\t\tif (tp_inst) {\r\n\t\t\tif ($.datepicker._get(inst, 'constrainInput')) {\r\n\t\t\t\tvar ampm = tp_inst.support.ampm,\r\n\t\t\t\t\ttz = tp_inst._defaults.showTimezone !== null ? tp_inst._defaults.showTimezone : tp_inst.support.timezone,\r\n\t\t\t\t\tdateChars = $.datepicker._possibleChars($.datepicker._get(inst, 'dateFormat')),\r\n\t\t\t\t\tdatetimeChars = tp_inst._defaults.timeFormat.toString()\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/[hms]/g, '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/TT/g, ampm ? 'APM' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/Tt/g, ampm ? 'AaPpMm' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tT/g, ampm ? 'AaPpMm' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/T/g, ampm ? 'AP' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/tt/g, ampm ? 'apm' : '')\r\n\t\t\t\t\t\t\t\t\t\t\t.replace(/t/g, ampm ? 'ap' : '') + \r\n\t\t\t\t\t\t\t\t\t\t\t\" \" + tp_inst._defaults.separator + \r\n\t\t\t\t\t\t\t\t\t\t\ttp_inst._defaults.timeSuffix + \r\n\t\t\t\t\t\t\t\t\t\t\t(tz ? tp_inst._defaults.timezoneList.join('') : '') + \r\n\t\t\t\t\t\t\t\t\t\t\t(tp_inst._defaults.amNames.join('')) + (tp_inst._defaults.pmNames.join('')) + \r\n\t\t\t\t\t\t\t\t\t\t\tdateChars,\r\n\t\t\t\t\tchr = String.fromCharCode(event.charCode === undefined ? event.keyCode : event.charCode);\r\n\t\t\t\treturn event.ctrlKey || (chr < ' ' || !dateChars || datetimeChars.indexOf(chr) > -1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn $.datepicker._base_doKeyPress(event);\r\n\t};\r\n\r\n\t/*\r\n\t* Fourth bad hack :/ override _updateAlternate function used in inline mode to init altField\r\n\t* Update any alternate field to synchronise with the main field.\r\n\t*/\r\n\t$.datepicker._base_updateAlternate = $.datepicker._updateAlternate;\r\n\t$.datepicker._updateAlternate = function (inst) {\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tif (tp_inst) {\r\n\t\t\tvar altField = tp_inst._defaults.altField;\r\n\t\t\tif (altField) { // update alternate field too\r\n\t\t\t\tvar altFormat = tp_inst._defaults.altFormat || tp_inst._defaults.dateFormat,\r\n\t\t\t\t\tdate = this._getDate(inst),\r\n\t\t\t\t\tformatCfg = $.datepicker._getFormatConfig(inst),\r\n\t\t\t\t\taltFormattedDateTime = '', \r\n\t\t\t\t\taltSeparator = tp_inst._defaults.altSeparator ? tp_inst._defaults.altSeparator : tp_inst._defaults.separator, \r\n\t\t\t\t\taltTimeSuffix = tp_inst._defaults.altTimeSuffix ? tp_inst._defaults.altTimeSuffix : tp_inst._defaults.timeSuffix,\r\n\t\t\t\t\taltTimeFormat = tp_inst._defaults.altTimeFormat !== null ? tp_inst._defaults.altTimeFormat : tp_inst._defaults.timeFormat;\r\n\t\t\t\t\r\n\t\t\t\taltFormattedDateTime += $.datepicker.formatTime(altTimeFormat, tp_inst, tp_inst._defaults) + altTimeSuffix;\r\n\t\t\t\tif (!tp_inst._defaults.timeOnly && !tp_inst._defaults.altFieldTimeOnly && date !== null) {\r\n\t\t\t\t\tif (tp_inst._defaults.altFormat) {\r\n\t\t\t\t\t\taltFormattedDateTime = $.datepicker.formatDate(tp_inst._defaults.altFormat, date, formatCfg) + altSeparator + altFormattedDateTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse {\r\n\t\t\t\t\t\taltFormattedDateTime = tp_inst.formattedDate + altSeparator + altFormattedDateTime;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t$(altField).val(altFormattedDateTime);\r\n\t\t\t}\r\n\t\t}\r\n\t\telse {\r\n\t\t\t$.datepicker._base_updateAlternate(inst);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* Override key up event to sync manual input changes.\r\n\t*/\r\n\t$.datepicker._base_doKeyUp = $.datepicker._doKeyUp;\r\n\t$.datepicker._doKeyUp = function (event) {\r\n\t\tvar inst = $.datepicker._getInst(event.target),\r\n\t\t\ttp_inst = $.datepicker._get(inst, 'timepicker');\r\n\r\n\t\tif (tp_inst) {\r\n\t\t\tif (tp_inst._defaults.timeOnly && (inst.input.val() !== inst.lastVal)) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t$.datepicker._updateDatepicker(inst);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\t$.timepicker.log(err);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn $.datepicker._base_doKeyUp(event);\r\n\t};\r\n\r\n\t/*\r\n\t* override \"Today\" button to also grab the time.\r\n\t*/\r\n\t$.datepicker._base_gotoToday = $.datepicker._gotoToday;\r\n\t$.datepicker._gotoToday = function (id) {\r\n\t\tvar inst = this._getInst($(id)[0]),\r\n\t\t\t$dp = inst.dpDiv;\r\n\t\tthis._base_gotoToday(id);\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tselectLocalTimezone(tp_inst);\r\n\t\tvar now = new Date();\r\n\t\tthis._setTime(inst, now);\r\n\t\t$('.ui-datepicker-today', $dp).click();\r\n\t};\r\n\r\n\t/*\r\n\t* Disable & enable the Time in the datetimepicker\r\n\t*/\r\n\t$.datepicker._disableTimepickerDatepicker = function (target) {\r\n\t\tvar inst = this._getInst(target);\r\n\t\tif (!inst) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\r\n\t\tif (tp_inst) {\r\n\t\t\tinst.settings.showTimepicker = false;\r\n\t\t\ttp_inst._defaults.showTimepicker = false;\r\n\t\t\ttp_inst._updateDateTime(inst);\r\n\t\t}\r\n\t};\r\n\r\n\t$.datepicker._enableTimepickerDatepicker = function (target) {\r\n\t\tvar inst = this._getInst(target);\r\n\t\tif (!inst) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\t$(target).datepicker('getDate'); // Init selected[Year|Month|Day]\r\n\t\tif (tp_inst) {\r\n\t\t\tinst.settings.showTimepicker = true;\r\n\t\t\ttp_inst._defaults.showTimepicker = true;\r\n\t\t\ttp_inst._addTimePicker(inst); // Could be disabled on page load\r\n\t\t\ttp_inst._updateDateTime(inst);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* Create our own set time function\r\n\t*/\r\n\t$.datepicker._setTime = function (inst, date) {\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tif (tp_inst) {\r\n\t\t\tvar defaults = tp_inst._defaults;\r\n\r\n\t\t\t// calling _setTime with no date sets time to defaults\r\n\t\t\ttp_inst.hour = date ? date.getHours() : defaults.hour;\r\n\t\t\ttp_inst.minute = date ? date.getMinutes() : defaults.minute;\r\n\t\t\ttp_inst.second = date ? date.getSeconds() : defaults.second;\r\n\t\t\ttp_inst.millisec = date ? date.getMilliseconds() : defaults.millisec;\r\n\t\t\ttp_inst.microsec = date ? date.getMicroseconds() : defaults.microsec;\r\n\r\n\t\t\t//check if within min/max times.. \r\n\t\t\ttp_inst._limitMinMaxDateTime(inst, true);\r\n\r\n\t\t\ttp_inst._onTimeChange();\r\n\t\t\ttp_inst._updateDateTime(inst);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* Create new public method to set only time, callable as $().datepicker('setTime', date)\r\n\t*/\r\n\t$.datepicker._setTimeDatepicker = function (target, date, withDate) {\r\n\t\tvar inst = this._getInst(target);\r\n\t\tif (!inst) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\r\n\t\tif (tp_inst) {\r\n\t\t\tthis._setDateFromField(inst);\r\n\t\t\tvar tp_date;\r\n\t\t\tif (date) {\r\n\t\t\t\tif (typeof date === \"string\") {\r\n\t\t\t\t\ttp_inst._parseTime(date, withDate);\r\n\t\t\t\t\ttp_date = new Date();\r\n\t\t\t\t\ttp_date.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\r\n\t\t\t\t\ttp_date.setMicroseconds(tp_inst.microsec);\r\n\t\t\t\t} else {\r\n\t\t\t\t\ttp_date = new Date(date.getTime());\r\n\t\t\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\r\n\t\t\t\t}\r\n\t\t\t\tif (tp_date.toString() === 'Invalid Date') {\r\n\t\t\t\t\ttp_date = undefined;\r\n\t\t\t\t}\r\n\t\t\t\tthis._setTime(inst, tp_date);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t/*\r\n\t* override setDate() to allow setting time too within Date object\r\n\t*/\r\n\t$.datepicker._base_setDateDatepicker = $.datepicker._setDateDatepicker;\r\n\t$.datepicker._setDateDatepicker = function (target, date) {\r\n\t\tvar inst = this._getInst(target);\r\n\t\tif (!inst) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (typeof(date) === 'string') {\r\n\t\t\tdate = new Date(date);\r\n\t\t\tif (!date.getTime()) {\r\n\t\t\t\t$.timepicker.log(\"Error creating Date object from string.\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tvar tp_date;\r\n\t\tif (date instanceof Date) {\r\n\t\t\ttp_date = new Date(date.getTime());\r\n\t\t\ttp_date.setMicroseconds(date.getMicroseconds());\r\n\t\t} else {\r\n\t\t\ttp_date = date;\r\n\t\t}\r\n\t\t\r\n\t\t// This is important if you are using the timezone option, javascript's Date \r\n\t\t// object will only return the timezone offset for the current locale, so we \r\n\t\t// adjust it accordingly.  If not using timezone option this won't matter..\r\n\t\t// If a timezone is different in tp, keep the timezone as is\r\n\t\tif (tp_inst && tp_date) {\r\n\t\t\t// look out for DST if tz wasn't specified\r\n\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\r\n\t\t\t\ttp_inst.timezone = tp_date.getTimezoneOffset() * -1;\r\n\t\t\t}\r\n\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\r\n\t\t\ttp_date = $.timepicker.timezoneAdjust(tp_date, tp_inst.timezone);\r\n\t\t}\r\n\r\n\t\tthis._updateDatepicker(inst);\r\n\t\tthis._base_setDateDatepicker.apply(this, arguments);\r\n\t\tthis._setTimeDatepicker(target, tp_date, true);\r\n\t};\r\n\r\n\t/*\r\n\t* override getDate() to allow getting time too within Date object\r\n\t*/\r\n\t$.datepicker._base_getDateDatepicker = $.datepicker._getDateDatepicker;\r\n\t$.datepicker._getDateDatepicker = function (target, noDefault) {\r\n\t\tvar inst = this._getInst(target);\r\n\t\tif (!inst) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\r\n\t\tif (tp_inst) {\r\n\t\t\t// if it hasn't yet been defined, grab from field\r\n\t\t\tif (inst.lastVal === undefined) {\r\n\t\t\t\tthis._setDateFromField(inst, noDefault);\r\n\t\t\t}\r\n\r\n\t\t\tvar date = this._getDate(inst);\r\n\t\t\tif (date && tp_inst._parseTime($(target).val(), tp_inst.timeOnly)) {\r\n\t\t\t\tdate.setHours(tp_inst.hour, tp_inst.minute, tp_inst.second, tp_inst.millisec);\r\n\t\t\t\tdate.setMicroseconds(tp_inst.microsec);\r\n\r\n\t\t\t\t// This is important if you are using the timezone option, javascript's Date \r\n\t\t\t\t// object will only return the timezone offset for the current locale, so we \r\n\t\t\t\t// adjust it accordingly.  If not using timezone option this won't matter..\r\n\t\t\t\tif (tp_inst.timezone != null) {\r\n\t\t\t\t\t// look out for DST if tz wasn't specified\r\n\t\t\t\t\tif (!tp_inst.support.timezone && tp_inst._defaults.timezone === null) {\r\n\t\t\t\t\t\ttp_inst.timezone = date.getTimezoneOffset() * -1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdate = $.timepicker.timezoneAdjust(date, tp_inst.timezone);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn date;\r\n\t\t}\r\n\t\treturn this._base_getDateDatepicker(target, noDefault);\r\n\t};\r\n\r\n\t/*\r\n\t* override parseDate() because UI 1.8.14 throws an error about \"Extra characters\"\r\n\t* An option in datapicker to ignore extra format characters would be nicer.\r\n\t*/\r\n\t$.datepicker._base_parseDate = $.datepicker.parseDate;\r\n\t$.datepicker.parseDate = function (format, value, settings) {\r\n\t\tvar date;\r\n\t\ttry {\r\n\t\t\tdate = this._base_parseDate(format, value, settings);\r\n\t\t} catch (err) {\r\n\t\t\t// Hack!  The error message ends with a colon, a space, and\r\n\t\t\t// the \"extra\" characters.  We rely on that instead of\r\n\t\t\t// attempting to perfectly reproduce the parsing algorithm.\r\n\t\t\tif (err.indexOf(\":\") >= 0) {\r\n\t\t\t\tdate = this._base_parseDate(format, value.substring(0, value.length - (err.length - err.indexOf(':') - 2)), settings);\r\n\t\t\t\t$.timepicker.log(\"Error parsing the date string: \" + err + \"\\ndate string = \" + value + \"\\ndate format = \" + format);\r\n\t\t\t} else {\r\n\t\t\t\tthrow err;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn date;\r\n\t};\r\n\r\n\t/*\r\n\t* override formatDate to set date with time to the input\r\n\t*/\r\n\t$.datepicker._base_formatDate = $.datepicker._formatDate;\r\n\t$.datepicker._formatDate = function (inst, day, month, year) {\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tif (tp_inst) {\r\n\t\t\ttp_inst._updateDateTime(inst);\r\n\t\t\treturn tp_inst.$input.val();\r\n\t\t}\r\n\t\treturn this._base_formatDate(inst);\r\n\t};\r\n\r\n\t/*\r\n\t* override options setter to add time to maxDate(Time) and minDate(Time). MaxDate\r\n\t*/\r\n\t$.datepicker._base_optionDatepicker = $.datepicker._optionDatepicker;\r\n\t$.datepicker._optionDatepicker = function (target, name, value) {\r\n\t\tvar inst = this._getInst(target),\r\n\t\t\tname_clone;\r\n\t\tif (!inst) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\r\n\t\tvar tp_inst = this._get(inst, 'timepicker');\r\n\t\tif (tp_inst) {\r\n\t\t\tvar min = null,\r\n\t\t\t\tmax = null,\r\n\t\t\t\tonselect = null,\r\n\t\t\t\toverrides = tp_inst._defaults.evnts,\r\n\t\t\t\tfns = {},\r\n\t\t\t\tprop;\r\n\t\t\tif (typeof name === 'string') { // if min/max was set with the string\r\n\t\t\t\tif (name === 'minDate' || name === 'minDateTime') {\r\n\t\t\t\t\tmin = value;\r\n\t\t\t\t} else if (name === 'maxDate' || name === 'maxDateTime') {\r\n\t\t\t\t\tmax = value;\r\n\t\t\t\t} else if (name === 'onSelect') {\r\n\t\t\t\t\tonselect = value;\r\n\t\t\t\t} else if (overrides.hasOwnProperty(name)) {\r\n\t\t\t\t\tif (typeof (value) === 'undefined') {\r\n\t\t\t\t\t\treturn overrides[name];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tfns[name] = value;\r\n\t\t\t\t\tname_clone = {}; //empty results in exiting function after overrides updated\r\n\t\t\t\t}\r\n\t\t\t} else if (typeof name === 'object') { //if min/max was set with the JSON\r\n\t\t\t\tif (name.minDate) {\r\n\t\t\t\t\tmin = name.minDate;\r\n\t\t\t\t} else if (name.minDateTime) {\r\n\t\t\t\t\tmin = name.minDateTime;\r\n\t\t\t\t} else if (name.maxDate) {\r\n\t\t\t\t\tmax = name.maxDate;\r\n\t\t\t\t} else if (name.maxDateTime) {\r\n\t\t\t\t\tmax = name.maxDateTime;\r\n\t\t\t\t}\r\n\t\t\t\tfor (prop in overrides) {\r\n\t\t\t\t\tif (overrides.hasOwnProperty(prop) && name[prop]) {\r\n\t\t\t\t\t\tfns[prop] = name[prop];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (prop in fns) {\r\n\t\t\t\tif (fns.hasOwnProperty(prop)) {\r\n\t\t\t\t\toverrides[prop] = fns[prop];\r\n\t\t\t\t\tif (!name_clone) { name_clone = $.extend({}, name); }\r\n\t\t\t\t\tdelete name_clone[prop];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (name_clone && isEmptyObject(name_clone)) { return; }\r\n\t\t\tif (min) { //if min was set\r\n\t\t\t\tif (min === 0) {\r\n\t\t\t\t\tmin = new Date();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmin = new Date(min);\r\n\t\t\t\t}\r\n\t\t\t\ttp_inst._defaults.minDate = min;\r\n\t\t\t\ttp_inst._defaults.minDateTime = min;\r\n\t\t\t} else if (max) { //if max was set\r\n\t\t\t\tif (max === 0) {\r\n\t\t\t\t\tmax = new Date();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tmax = new Date(max);\r\n\t\t\t\t}\r\n\t\t\t\ttp_inst._defaults.maxDate = max;\r\n\t\t\t\ttp_inst._defaults.maxDateTime = max;\r\n\t\t\t} else if (onselect) {\r\n\t\t\t\ttp_inst._defaults.onSelect = onselect;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (value === undefined) {\r\n\t\t\treturn this._base_optionDatepicker.call($.datepicker, target, name);\r\n\t\t}\r\n\t\treturn this._base_optionDatepicker.call($.datepicker, target, name_clone || name, value);\r\n\t};\r\n\t\r\n\t/*\r\n\t* jQuery isEmptyObject does not check hasOwnProperty - if someone has added to the object prototype,\r\n\t* it will return false for all objects\r\n\t*/\r\n\tvar isEmptyObject = function (obj) {\r\n\t\tvar prop;\r\n\t\tfor (prop in obj) {\r\n\t\t\tif (obj.hasOwnProperty(prop)) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\t/*\r\n\t* jQuery extend now ignores nulls!\r\n\t*/\r\n\tvar extendRemove = function (target, props) {\r\n\t\t$.extend(target, props);\r\n\t\tfor (var name in props) {\r\n\t\t\tif (props[name] === null || props[name] === undefined) {\r\n\t\t\t\ttarget[name] = props[name];\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t};\r\n\r\n\t/*\r\n\t* Determine by the time format which units are supported\r\n\t* Returns an object of booleans for each unit\r\n\t*/\r\n\tvar detectSupport = function (timeFormat) {\r\n\t\tvar tf = timeFormat.replace(/'.*?'/g, '').toLowerCase(), // removes literals\r\n\t\t\tisIn = function (f, t) { // does the format contain the token?\r\n\t\t\t\t\treturn f.indexOf(t) !== -1 ? true : false;\r\n\t\t\t\t};\r\n\t\treturn {\r\n\t\t\t\thour: isIn(tf, 'h'),\r\n\t\t\t\tminute: isIn(tf, 'm'),\r\n\t\t\t\tsecond: isIn(tf, 's'),\r\n\t\t\t\tmillisec: isIn(tf, 'l'),\r\n\t\t\t\tmicrosec: isIn(tf, 'c'),\r\n\t\t\t\ttimezone: isIn(tf, 'z'),\r\n\t\t\t\tampm: isIn(tf, 't') && isIn(timeFormat, 'h'),\r\n\t\t\t\tiso8601: isIn(timeFormat, 'Z')\r\n\t\t\t};\r\n\t};\r\n\r\n\t/*\r\n\t* Converts 24 hour format into 12 hour\r\n\t* Returns 12 hour without leading 0\r\n\t*/\r\n\tvar convert24to12 = function (hour) {\r\n\t\thour %= 12;\r\n\r\n\t\tif (hour === 0) {\r\n\t\t\thour = 12;\r\n\t\t}\r\n\r\n\t\treturn String(hour);\r\n\t};\r\n\r\n\tvar computeEffectiveSetting = function (settings, property) {\r\n\t\treturn settings && settings[property] ? settings[property] : $.timepicker._defaults[property];\r\n\t};\r\n\r\n\t/*\r\n\t* Splits datetime string into date and time substrings.\r\n\t* Throws exception when date can't be parsed\r\n\t* Returns {dateString: dateString, timeString: timeString}\r\n\t*/\r\n\tvar splitDateTime = function (dateTimeString, timeSettings) {\r\n\t\t// The idea is to get the number separator occurrences in datetime and the time format requested (since time has\r\n\t\t// fewer unknowns, mostly numbers and am/pm). We will use the time pattern to split.\r\n\t\tvar separator = computeEffectiveSetting(timeSettings, 'separator'),\r\n\t\t\tformat = computeEffectiveSetting(timeSettings, 'timeFormat'),\r\n\t\t\ttimeParts = format.split(separator), // how many occurrences of separator may be in our format?\r\n\t\t\ttimePartsLen = timeParts.length,\r\n\t\t\tallParts = dateTimeString.split(separator),\r\n\t\t\tallPartsLen = allParts.length;\r\n\r\n\t\tif (allPartsLen > 1) {\r\n\t\t\treturn {\r\n\t\t\t\tdateString: allParts.splice(0, allPartsLen - timePartsLen).join(separator),\r\n\t\t\t\ttimeString: allParts.splice(0, timePartsLen).join(separator)\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tdateString: dateTimeString,\r\n\t\t\ttimeString: ''\r\n\t\t};\r\n\t};\r\n\r\n\t/*\r\n\t* Internal function to parse datetime interval\r\n\t* Returns: {date: Date, timeObj: Object}, where\r\n\t*   date - parsed date without time (type Date)\r\n\t*   timeObj = {hour: , minute: , second: , millisec: , microsec: } - parsed time. Optional\r\n\t*/\r\n\tvar parseDateTimeInternal = function (dateFormat, timeFormat, dateTimeString, dateSettings, timeSettings) {\r\n\t\tvar date,\r\n\t\t\tparts,\r\n\t\t\tparsedTime;\r\n\r\n\t\tparts = splitDateTime(dateTimeString, timeSettings);\r\n\t\tdate = $.datepicker._base_parseDate(dateFormat, parts.dateString, dateSettings);\r\n\r\n\t\tif (parts.timeString === '') {\r\n\t\t\treturn {\r\n\t\t\t\tdate: date\r\n\t\t\t};\r\n\t\t}\r\n\r\n\t\tparsedTime = $.datepicker.parseTime(timeFormat, parts.timeString, timeSettings);\r\n\r\n\t\tif (!parsedTime) {\r\n\t\t\tthrow 'Wrong time format';\r\n\t\t}\r\n\r\n\t\treturn {\r\n\t\t\tdate: date,\r\n\t\t\ttimeObj: parsedTime\r\n\t\t};\r\n\t};\r\n\r\n\t/*\r\n\t* Internal function to set timezone_select to the local timezone\r\n\t*/\r\n\tvar selectLocalTimezone = function (tp_inst, date) {\r\n\t\tif (tp_inst && tp_inst.timezone_select) {\r\n\t\t\tvar now = date || new Date();\r\n\t\t\ttp_inst.timezone_select.val(-now.getTimezoneOffset());\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t* Create a Singleton Instance\r\n\t*/\r\n\t$.timepicker = new Timepicker();\r\n\r\n\t/**\r\n\t * Get the timezone offset as string from a date object (eg '+0530' for UTC+5.5)\r\n\t * @param {number} tzMinutes if not a number, less than -720 (-1200), or greater than 840 (+1400) this value is returned\r\n\t * @param {boolean} iso8601 if true formats in accordance to iso8601 \"+12:45\"\r\n\t * @return {string}\r\n\t */\r\n\t$.timepicker.timezoneOffsetString = function (tzMinutes, iso8601) {\r\n\t\tif (isNaN(tzMinutes) || tzMinutes > 840 || tzMinutes < -720) {\r\n\t\t\treturn tzMinutes;\r\n\t\t}\r\n\r\n\t\tvar off = tzMinutes,\r\n\t\t\tminutes = off % 60,\r\n\t\t\thours = (off - minutes) / 60,\r\n\t\t\tiso = iso8601 ? ':' : '',\r\n\t\t\ttz = (off >= 0 ? '+' : '-') + ('0' + Math.abs(hours)).slice(-2) + iso + ('0' + Math.abs(minutes)).slice(-2);\r\n\t\t\r\n\t\tif (tz === '+00:00') {\r\n\t\t\treturn 'Z';\r\n\t\t}\r\n\t\treturn tz;\r\n\t};\r\n\r\n\t/**\r\n\t * Get the number in minutes that represents a timezone string\r\n\t * @param  {string} tzString formatted like \"+0500\", \"-1245\", \"Z\"\r\n\t * @return {number} the offset minutes or the original string if it doesn't match expectations\r\n\t */\r\n\t$.timepicker.timezoneOffsetNumber = function (tzString) {\r\n\t\tvar normalized = tzString.toString().replace(':', ''); // excuse any iso8601, end up with \"+1245\"\r\n\r\n\t\tif (normalized.toUpperCase() === 'Z') { // if iso8601 with Z, its 0 minute offset\r\n\t\t\treturn 0;\r\n\t\t}\r\n\r\n\t\tif (!/^(\\-|\\+)\\d{4}$/.test(normalized)) { // possibly a user defined tz, so just give it back\r\n\t\t\treturn tzString;\r\n\t\t}\r\n\r\n\t\treturn ((normalized.substr(0, 1) === '-' ? -1 : 1) * // plus or minus\r\n\t\t\t\t\t((parseInt(normalized.substr(1, 2), 10) * 60) + // hours (converted to minutes)\r\n\t\t\t\t\tparseInt(normalized.substr(3, 2), 10))); // minutes\r\n\t};\r\n\r\n\t/**\r\n\t * No way to set timezone in js Date, so we must adjust the minutes to compensate. (think setDate, getDate)\r\n\t * @param  {Date} date\r\n\t * @param  {string} toTimezone formatted like \"+0500\", \"-1245\"\r\n\t * @return {Date}\r\n\t */\r\n\t$.timepicker.timezoneAdjust = function (date, toTimezone) {\r\n\t\tvar toTz = $.timepicker.timezoneOffsetNumber(toTimezone);\r\n\t\tif (!isNaN(toTz)) {\r\n\t\t\tdate.setMinutes(date.getMinutes() + -date.getTimezoneOffset() - toTz);\r\n\t\t}\r\n\t\treturn date;\r\n\t};\r\n\r\n\t/**\r\n\t * Calls `timepicker()` on the `startTime` and `endTime` elements, and configures them to\r\n\t * enforce date range limits.\r\n\t * n.b. The input value must be correctly formatted (reformatting is not supported)\r\n\t * @param  {Element} startTime\r\n\t * @param  {Element} endTime\r\n\t * @param  {Object} options Options for the timepicker() call\r\n\t * @return {jQuery}\r\n\t */\r\n\t$.timepicker.timeRange = function (startTime, endTime, options) {\r\n\t\treturn $.timepicker.handleRange('timepicker', startTime, endTime, options);\r\n\t};\r\n\r\n\t/**\r\n\t * Calls `datetimepicker` on the `startTime` and `endTime` elements, and configures them to\r\n\t * enforce date range limits.\r\n\t * @param  {Element} startTime\r\n\t * @param  {Element} endTime\r\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n\t * @param  {string} method Can be used to specify the type of picker to be added\r\n\t * @return {jQuery}\r\n\t */\r\n\t$.timepicker.datetimeRange = function (startTime, endTime, options) {\r\n\t\t$.timepicker.handleRange('datetimepicker', startTime, endTime, options);\r\n\t};\r\n\r\n\t/**\r\n\t * Calls `datepicker` on the `startTime` and `endTime` elements, and configures them to\r\n\t * enforce date range limits.\r\n\t * @param  {Element} startTime\r\n\t * @param  {Element} endTime\r\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n\t * @return {jQuery}\r\n\t */\r\n\t$.timepicker.dateRange = function (startTime, endTime, options) {\r\n\t\t$.timepicker.handleRange('datepicker', startTime, endTime, options);\r\n\t};\r\n\r\n\t/**\r\n\t * Calls `method` on the `startTime` and `endTime` elements, and configures them to\r\n\t * enforce date range limits.\r\n\t * @param  {string} method Can be used to specify the type of picker to be added\r\n\t * @param  {Element} startTime\r\n\t * @param  {Element} endTime\r\n\t * @param  {Object} options Options for the `timepicker()` call. Also supports `reformat`,\r\n\t *   a boolean value that can be used to reformat the input values to the `dateFormat`.\r\n\t * @return {jQuery}\r\n\t */\r\n\t$.timepicker.handleRange = function (method, startTime, endTime, options) {\r\n\t\toptions = $.extend({}, {\r\n\t\t\tminInterval: 0, // min allowed interval in milliseconds\r\n\t\t\tmaxInterval: 0, // max allowed interval in milliseconds\r\n\t\t\tstart: {},      // options for start picker\r\n\t\t\tend: {}         // options for end picker\r\n\t\t}, options);\r\n\r\n\t\tfunction checkDates(changed, other) {\r\n\t\t\tvar startdt = startTime[method]('getDate'),\r\n\t\t\t\tenddt = endTime[method]('getDate'),\r\n\t\t\t\tchangeddt = changed[method]('getDate');\r\n\r\n\t\t\tif (startdt !== null) {\r\n\t\t\t\tvar minDate = new Date(startdt.getTime()),\r\n\t\t\t\t\tmaxDate = new Date(startdt.getTime());\r\n\r\n\t\t\t\tminDate.setMilliseconds(minDate.getMilliseconds() + options.minInterval);\r\n\t\t\t\tmaxDate.setMilliseconds(maxDate.getMilliseconds() + options.maxInterval);\r\n\r\n\t\t\t\tif (options.minInterval > 0 && minDate > enddt) { // minInterval check\r\n\t\t\t\t\tendTime[method]('setDate', minDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if (options.maxInterval > 0 && maxDate < enddt) { // max interval check\r\n\t\t\t\t\tendTime[method]('setDate', maxDate);\r\n\t\t\t\t}\r\n\t\t\t\telse if (startdt > enddt) {\r\n\t\t\t\t\tother[method]('setDate', changeddt);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tfunction selected(changed, other, option) {\r\n\t\t\tif (!changed.val()) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar date = changed[method].call(changed, 'getDate');\r\n\t\t\tif (date !== null && options.minInterval > 0) {\r\n\t\t\t\tif (option === 'minDate') {\r\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() + options.minInterval);\r\n\t\t\t\t}\r\n\t\t\t\tif (option === 'maxDate') {\r\n\t\t\t\t\tdate.setMilliseconds(date.getMilliseconds() - options.minInterval);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (date.getTime) {\r\n\t\t\t\tother[method].call(other, 'option', option, date);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$.fn[method].call(startTime, $.extend({\r\n\t\t\tonClose: function (dateText, inst) {\r\n\t\t\t\tcheckDates($(this), endTime);\r\n\t\t\t},\r\n\t\t\tonSelect: function (selectedDateTime) {\r\n\t\t\t\tselected($(this), endTime, 'minDate');\r\n\t\t\t}\r\n\t\t}, options, options.start));\r\n\t\t$.fn[method].call(endTime, $.extend({\r\n\t\t\tonClose: function (dateText, inst) {\r\n\t\t\t\tcheckDates($(this), startTime);\r\n\t\t\t},\r\n\t\t\tonSelect: function (selectedDateTime) {\r\n\t\t\t\tselected($(this), startTime, 'maxDate');\r\n\t\t\t}\r\n\t\t}, options, options.end));\r\n\r\n\t\tcheckDates(startTime, endTime);\r\n\t\tselected(startTime, endTime, 'minDate');\r\n\t\tselected(endTime, startTime, 'maxDate');\r\n\t\treturn $([startTime.get(0), endTime.get(0)]);\r\n\t};\r\n\r\n\t/**\r\n\t * Log error or data to the console during error or debugging\r\n\t * @param  {Object} err pass any type object to log to the console during error or debugging\r\n\t * @return {void}\r\n\t */\r\n\t$.timepicker.log = function (err) {\r\n\t\tif (window.console) {\r\n\t\t\twindow.console.log(err);\r\n\t\t}\r\n\t};\r\n\r\n\t/*\r\n\t * Add util object to allow access to private methods for testability.\r\n\t */\r\n\t$.timepicker._util = {\r\n\t\t_extendRemove: extendRemove,\r\n\t\t_isEmptyObject: isEmptyObject,\r\n\t\t_convert24to12: convert24to12,\r\n\t\t_detectSupport: detectSupport,\r\n\t\t_selectLocalTimezone: selectLocalTimezone,\r\n\t\t_computeEffectiveSetting: computeEffectiveSetting,\r\n\t\t_splitDateTime: splitDateTime,\r\n\t\t_parseDateTimeInternal: parseDateTimeInternal\r\n\t};\r\n\r\n\t/*\r\n\t* Microsecond support\r\n\t*/\r\n\tif (!Date.prototype.getMicroseconds) {\r\n\t\tDate.prototype.microseconds = 0;\r\n\t\tDate.prototype.getMicroseconds = function () { return this.microseconds; };\r\n\t\tDate.prototype.setMicroseconds = function (m) {\r\n\t\t\tthis.setMilliseconds(this.getMilliseconds() + Math.floor(m / 1000));\r\n\t\t\tthis.microseconds = m % 1000;\r\n\t\t\treturn this;\r\n\t\t};\r\n\t}\r\n\r\n\t/*\r\n\t* Keep up with the version\r\n\t*/\r\n\t$.timepicker.version = \"1.4.3\";\r\n\r\n}));","jquery/jquery.cookie.js":"/*jshint eqnull:true */\r\n/*!\r\n * jQuery Cookie Plugin v1.1\r\n * https://github.com/carhartl/jquery-cookie\r\n *\r\n * Copyright 2011, Klaus Hartl\r\n * Dual licensed under the MIT or GPL Version 2 licenses.\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.opensource.org/licenses/GPL-2.0\r\n */\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\"jquery\"], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n\r\n    var pluses = /\\+/g;\r\n    function raw(s) {\r\n        return s;\r\n    }\r\n    function decoded(s) {\r\n        return decodeURIComponent(s.replace(pluses, ' '));\r\n    }\r\n\r\n    $.cookie = function(key, value, options) {\r\n\r\n        // key and at least value given, set cookie...\r\n        if (arguments.length > 1 && (!/Object/.test(Object.prototype.toString.call(value)) || value == null)) {\r\n            options = $.extend({}, $.cookie.defaults, options);\r\n\r\n            if (value == null) {\r\n                options.expires = -1;\r\n            }\r\n\r\n            if (typeof options.expires === 'number') {\r\n                var days = options.expires, t = options.expires = new Date();\r\n                t.setDate(t.getDate() + days);\r\n            }\r\n\r\n            value = String(value);\r\n\r\n            return (document.cookie = [\r\n                encodeURIComponent(key), '=', options.raw ? value : encodeURIComponent(value),\r\n                options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE\r\n                options.path    ? '; path=' + options.path : '',\r\n                options.domain  ? '; domain=' + options.domain : '',\r\n                options.secure  ? '; secure' : ''\r\n            ].join(''));\r\n        }\r\n\r\n        // key and possibly options given, get cookie...\r\n        options = value || $.cookie.defaults || {};\r\n        var decode = options.raw ? raw : decoded;\r\n        var cookies = document.cookie.split('; ');\r\n        for (var i = 0, parts; (parts = cookies[i] && cookies[i].split('=')); i++) {\r\n            if (decode(parts.shift()) === key) {\r\n                return decode(parts.join('='));\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    $.cookie.defaults = {};\r\n\r\n}));\r\n","jquery/jquery.metadata.js":"/*\r\n * Metadata - jQuery plugin for parsing metadata from elements\r\n *\r\n * Copyright (c) 2006 John Resig, Yehuda Katz, J\u00c3\u00af\u00c2\u00bf\u00c2\u00bd\u00c3\u0083\u00c2\u00b6rn Zaefferer, Paul McLanahan\r\n *\r\n * Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n *\r\n * Revision: $Id: jquery.metadata.js 3640 2007-10-11 18:34:38Z pmclanahan $\r\n *\r\n */\r\n\r\n/**\r\n * Sets the type of metadata to use. Metadata is encoded in JSON, and each property\r\n * in the JSON will become a property of the element itself.\r\n *\r\n * There are four supported types of metadata storage:\r\n *\r\n *   attr:  Inside an attribute. The name parameter indicates *which* attribute.\r\n *\r\n *   class: Inside the class attribute, wrapped in curly braces: { }\r\n *\r\n *   elem:  Inside a child element (e.g. a script tag). The\r\n *          name parameter indicates *which* element.\r\n *   html5: Values are stored in data-* attributes.\r\n *\r\n * The metadata for an element is loaded the first time the element is accessed via jQuery.\r\n *\r\n * As a result, you can define the metadata type, use $(expr) to load the metadata into the elements\r\n * matched by expr, then redefine the metadata type and run another $(expr) for other elements.\r\n *\r\n * @name $.metadata.setType\r\n *\r\n * @example <p id=\"one\" class=\"some_class {item_id: 1, item_label: 'Label'}\">This is a p</p>\r\n * @before $.metadata.setType(\"class\")\r\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\r\n * @desc Reads metadata from the class attribute\r\n *\r\n * @example <p id=\"one\" class=\"some_class\" data=\"{item_id: 1, item_label: 'Label'}\">This is a p</p>\r\n * @before $.metadata.setType(\"attr\", \"data\")\r\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\r\n * @desc Reads metadata from a \"data\" attribute\r\n *\r\n * @example <p id=\"one\" class=\"some_class\"><script>{item_id: 1, item_label: 'Label'}</script>This is a p</p>\r\n * @before $.metadata.setType(\"elem\", \"script\")\r\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\r\n * @desc Reads metadata from a nested script element\r\n *\r\n * @example <p id=\"one\" class=\"some_class\" data-item_id=\"1\" data-item_label=\"Label\">This is a p</p>\r\n * @before $.metadata.setType(\"html5\")\r\n * @after $(\"#one\").metadata().item_id == 1; $(\"#one\").metadata().item_label == \"Label\"\r\n * @desc Reads metadata from a series of data-* attributes\r\n *\r\n * @param String type The encoding type\r\n * @param String name The name of the attribute to be used to get metadata (optional)\r\n * @cat Plugins/Metadata\r\n * @descr Sets the type of encoding to be used when loading metadata for the first time\r\n * @type undefined\r\n * @see metadata()\r\n */\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\"jquery\"], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n\r\n\r\n    $.extend({\r\n        metadata : {\r\n            defaults : {\r\n                type: 'class',\r\n                name: 'metadata',\r\n                cre: /({.*})/,\r\n                single: 'metadata',\r\n                meta:'validate'\r\n            },\r\n            setType: function( type, name ){\r\n                this.defaults.type = type;\r\n                this.defaults.name = name;\r\n            },\r\n            get: function( elem, opts ){\r\n                var settings = $.extend({},this.defaults,opts);\r\n                // check for empty string in single property\r\n                if (!settings.single.length) {\r\n                    settings.single = 'metadata';\r\n                }\r\n                if (!settings.meta.length) {\r\n                    settings.meta = 'validate';\r\n                }\r\n\r\n                var data = $.data(elem, settings.single);\r\n                // returned cached data if it already exists\r\n                if ( data ) return data;\r\n\r\n                data = \"{}\";\r\n\r\n                var getData = function(data) {\r\n                    if(typeof data != \"string\") return data;\r\n\r\n                    if( data.indexOf('{') < 0 ) {\r\n                        data = eval(\"(\" + data + \")\");\r\n                    }\r\n                }\r\n\r\n                var getObject = function(data) {\r\n                    if(typeof data != \"string\") return data;\r\n\r\n                    data = eval(\"(\" + data + \")\");\r\n                    return data;\r\n                }\r\n\r\n                if ( settings.type == \"html5\" ) {\r\n                    var object = {};\r\n                    $( elem.attributes ).each(function() {\r\n                        var name = this.nodeName;\r\n                        if (name.indexOf('data-' + settings.meta) === 0) {\r\n                            name = name.replace(/^data-/, '');\r\n                        }\r\n                        else {\r\n                            return true;\r\n                        }\r\n                        object[name] = getObject(this.value);\r\n                    });\r\n                } else {\r\n                    if ( settings.type == \"class\" ) {\r\n                        var m = settings.cre.exec( elem.className );\r\n                        if ( m )\r\n                            data = m[1];\r\n                    } else if ( settings.type == \"elem\" ) {\r\n                        if( !elem.getElementsByTagName ) return;\r\n                        var e = elem.getElementsByTagName(settings.name);\r\n                        if ( e.length )\r\n                            data = $.trim(e[0].innerHTML);\r\n                    } else if ( elem.getAttribute != undefined ) {\r\n                        var attr = elem.getAttribute( settings.name );\r\n                        if ( attr )\r\n                            data = attr;\r\n                    }\r\n                    object = getObject(data.indexOf(\"{\") < 0 ? \"{\" + data + \"}\" : data);\r\n                }\r\n\r\n                $.data( elem, settings.single, object );\r\n                return object;\r\n            }\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Returns the metadata object for the first member of the jQuery object.\r\n     *\r\n     * @name metadata\r\n     * @descr Returns element's metadata object\r\n     * @param Object opts An object contianing settings to override the defaults\r\n     * @type jQuery\r\n     * @cat Plugins/Metadata\r\n     */\r\n    $.fn.metadata = function( opts ){\r\n        return $.metadata.get( this[0], opts );\r\n    };\r\n\r\n}));","jquery/jquery.mobile.custom.js":"/*\r\n* jQuery Mobile v1.4.3\r\n* http://jquerymobile.com\r\n*\r\n* Copyright 2010, 2014 jQuery Foundation, Inc. and other contributors\r\n* Released under the MIT license.\r\n* http://jquery.org/license\r\n*\r\n*/\r\n\r\n(function ( root, doc, factory ) {\r\n\tif ( typeof define === \"function\" && define.amd ) {\r\n\t\t// AMD. Register as an anonymous module.\r\n\t\tdefine( [ \"jquery\" ], function ( $ ) {\r\n\t\t\tfactory( $, root, doc );\r\n\t\t\treturn $.mobile;\r\n\t\t});\r\n\t} else {\r\n\t\t// Browser globals\r\n\t\tfactory( root.jQuery, root, doc );\r\n\t}\r\n}( this, document, function ( jQuery, window, document, undefined ) {// This plugin is an experiment for abstracting away the touch and mouse\r\n// events so that developers don't have to worry about which method of input\r\n// the device their document is loaded on supports.\r\n//\r\n// The idea here is to allow the developer to register listeners for the\r\n// basic mouse events, such as mousedown, mousemove, mouseup, and click,\r\n// and the plugin will take care of registering the correct listeners\r\n// behind the scenes to invoke the listener at the fastest possible time\r\n// for that device, while still retaining the order of event firing in\r\n// the traditional mouse environment, should multiple handlers be registered\r\n// on the same element for different events.\r\n//\r\n// The current version exposes the following virtual events to jQuery bind methods:\r\n// \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\"\r\n\r\n(function( $, window, document, undefined ) {\r\n\r\nvar dataPropertyName = \"virtualMouseBindings\",\r\n\ttouchTargetPropertyName = \"virtualTouchID\",\r\n\tvirtualEventNames = \"vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel\".split( \" \" ),\r\n\ttouchEventProps = \"clientX clientY pageX pageY screenX screenY\".split( \" \" ),\r\n\tmouseHookProps = $.event.mouseHooks ? $.event.mouseHooks.props : [],\r\n\tmouseEventProps = $.event.props.concat( mouseHookProps ),\r\n\tactiveDocHandlers = {},\r\n\tresetTimerID = 0,\r\n\tstartX = 0,\r\n\tstartY = 0,\r\n\tdidScroll = false,\r\n\tclickBlockList = [],\r\n\tblockMouseTriggers = false,\r\n\tblockTouchTriggers = false,\r\n\teventCaptureSupported = \"addEventListener\" in document,\r\n\t$document = $( document ),\r\n\tnextTouchID = 1,\r\n\tlastTouchID = 0, threshold,\r\n\ti;\r\n\r\n$.vmouse = {\r\n\tmoveDistanceThreshold: 10,\r\n\tclickDistanceThreshold: 10,\r\n\tresetTimerDuration: 1500\r\n};\r\n\r\nfunction getNativeEvent( event ) {\r\n\r\n\twhile ( event && typeof event.originalEvent !== \"undefined\" ) {\r\n\t\tevent = event.originalEvent;\r\n\t}\r\n\treturn event;\r\n}\r\n\r\nfunction createVirtualEvent( event, eventType ) {\r\n\r\n\tvar t = event.type,\r\n\t\toe, props, ne, prop, ct, touch, i, j, len;\r\n\r\n\tevent = $.Event( event );\r\n\tevent.type = eventType;\r\n\r\n\toe = event.originalEvent;\r\n\tprops = $.event.props;\r\n\r\n\t// addresses separation of $.event.props in to $.event.mouseHook.props and Issue 3280\r\n\t// https://github.com/jquery/jquery-mobile/issues/3280\r\n\tif ( t.search( /^(mouse|click)/ ) > -1 ) {\r\n\t\tprops = mouseEventProps;\r\n\t}\r\n\r\n\t// copy original event properties over to the new event\r\n\t// this would happen if we could call $.event.fix instead of $.Event\r\n\t// but we don't have a way to force an event to be fixed multiple times\r\n\tif ( oe ) {\r\n\t\tfor ( i = props.length, prop; i; ) {\r\n\t\t\tprop = props[ --i ];\r\n\t\t\tevent[ prop ] = oe[ prop ];\r\n\t\t}\r\n\t}\r\n\r\n\t// make sure that if the mouse and click virtual events are generated\r\n\t// without a .which one is defined\r\n\tif ( t.search(/mouse(down|up)|click/) > -1 && !event.which ) {\r\n\t\tevent.which = 1;\r\n\t}\r\n\r\n\tif ( t.search(/^touch/) !== -1 ) {\r\n\t\tne = getNativeEvent( oe );\r\n\t\tt = ne.touches;\r\n\t\tct = ne.changedTouches;\r\n\t\ttouch = ( t && t.length ) ? t[0] : ( ( ct && ct.length ) ? ct[ 0 ] : undefined );\r\n\r\n\t\tif ( touch ) {\r\n\t\t\tfor ( j = 0, len = touchEventProps.length; j < len; j++) {\r\n\t\t\t\tprop = touchEventProps[ j ];\r\n\t\t\t\tevent[ prop ] = touch[ prop ];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn event;\r\n}\r\n\r\nfunction getVirtualBindingFlags( element ) {\r\n\r\n\tvar flags = {},\r\n\t\tb, k;\r\n\r\n\twhile ( element ) {\r\n\r\n\t\tb = $.data( element, dataPropertyName );\r\n\r\n\t\tfor (  k in b ) {\r\n\t\t\tif ( b[ k ] ) {\r\n\t\t\t\tflags[ k ] = flags.hasVirtualBinding = true;\r\n\t\t\t}\r\n\t\t}\r\n\t\telement = element.parentNode;\r\n\t}\r\n\treturn flags;\r\n}\r\n\r\nfunction getClosestElementWithVirtualBinding( element, eventType ) {\r\n\tvar b;\r\n\twhile ( element ) {\r\n\r\n\t\tb = $.data( element, dataPropertyName );\r\n\r\n\t\tif ( b && ( !eventType || b[ eventType ] ) ) {\r\n\t\t\treturn element;\r\n\t\t}\r\n\t\telement = element.parentNode;\r\n\t}\r\n\treturn null;\r\n}\r\n\r\nfunction enableTouchBindings() {\r\n\tblockTouchTriggers = false;\r\n}\r\n\r\nfunction disableTouchBindings() {\r\n\tblockTouchTriggers = true;\r\n}\r\n\r\nfunction enableMouseBindings() {\r\n\tlastTouchID = 0;\r\n\tclickBlockList.length = 0;\r\n\tblockMouseTriggers = false;\r\n\r\n\t// When mouse bindings are enabled, our\r\n\t// touch bindings are disabled.\r\n\tdisableTouchBindings();\r\n}\r\n\r\nfunction disableMouseBindings() {\r\n\t// When mouse bindings are disabled, our\r\n\t// touch bindings are enabled.\r\n\tenableTouchBindings();\r\n}\r\n\r\nfunction startResetTimer() {\r\n\tclearResetTimer();\r\n\tresetTimerID = setTimeout( function() {\r\n\t\tresetTimerID = 0;\r\n\t\tenableMouseBindings();\r\n\t}, $.vmouse.resetTimerDuration );\r\n}\r\n\r\nfunction clearResetTimer() {\r\n\tif ( resetTimerID ) {\r\n\t\tclearTimeout( resetTimerID );\r\n\t\tresetTimerID = 0;\r\n\t}\r\n}\r\n\r\nfunction triggerVirtualEvent( eventType, event, flags ) {\r\n\tvar ve;\r\n\r\n\tif ( ( flags && flags[ eventType ] ) ||\r\n\t\t\t\t( !flags && getClosestElementWithVirtualBinding( event.target, eventType ) ) ) {\r\n\r\n\t\tve = createVirtualEvent( event, eventType );\r\n\r\n\t\t$( event.target).trigger( ve );\r\n\t}\r\n\r\n\treturn ve;\r\n}\r\n\r\nfunction mouseEventCallback( event ) {\r\n\tvar touchID = $.data( event.target, touchTargetPropertyName ),\r\n\t\tve;\r\n\r\n\tif ( !blockMouseTriggers && ( !lastTouchID || lastTouchID !== touchID ) ) {\r\n\t\tve = triggerVirtualEvent( \"v\" + event.type, event );\r\n\t\tif ( ve ) {\r\n\t\t\tif ( ve.isDefaultPrevented() ) {\r\n\t\t\t\tevent.preventDefault();\r\n\t\t\t}\r\n\t\t\tif ( ve.isPropagationStopped() ) {\r\n\t\t\t\tevent.stopPropagation();\r\n\t\t\t}\r\n\t\t\tif ( ve.isImmediatePropagationStopped() ) {\r\n\t\t\t\tevent.stopImmediatePropagation();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleTouchStart( event ) {\r\n\r\n\tvar touches = getNativeEvent( event ).touches,\r\n\t\ttarget, flags, t;\r\n\r\n\tif ( touches && touches.length === 1 ) {\r\n\r\n\t\ttarget = event.target;\r\n\t\tflags = getVirtualBindingFlags( target );\r\n\r\n\t\tif ( flags.hasVirtualBinding ) {\r\n\r\n\t\t\tlastTouchID = nextTouchID++;\r\n\t\t\t$.data( target, touchTargetPropertyName, lastTouchID );\r\n\r\n\t\t\tclearResetTimer();\r\n\r\n\t\t\tdisableMouseBindings();\r\n\t\t\tdidScroll = false;\r\n\r\n\t\t\tt = getNativeEvent( event ).touches[ 0 ];\r\n\t\t\tstartX = t.pageX;\r\n\t\t\tstartY = t.pageY;\r\n\r\n\t\t\ttriggerVirtualEvent( \"vmouseover\", event, flags );\r\n\t\t\ttriggerVirtualEvent( \"vmousedown\", event, flags );\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction handleScroll( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif ( !didScroll ) {\r\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, getVirtualBindingFlags( event.target ) );\r\n\t}\r\n\r\n\tdidScroll = true;\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction handleTouchMove( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar t = getNativeEvent( event ).touches[ 0 ],\r\n\t\tdidCancel = didScroll,\r\n\t\tmoveThreshold = $.vmouse.moveDistanceThreshold,\r\n\t\tflags = getVirtualBindingFlags( event.target );\r\n\r\n\t\tdidScroll = didScroll ||\r\n\t\t\t( Math.abs( t.pageX - startX ) > moveThreshold ||\r\n\t\t\t\tMath.abs( t.pageY - startY ) > moveThreshold );\r\n\r\n\tif ( didScroll && !didCancel ) {\r\n\t\ttriggerVirtualEvent( \"vmousecancel\", event, flags );\r\n\t}\r\n\r\n\ttriggerVirtualEvent( \"vmousemove\", event, flags );\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction handleTouchEnd( event ) {\r\n\tif ( blockTouchTriggers ) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tdisableTouchBindings();\r\n\r\n\tvar flags = getVirtualBindingFlags( event.target ),\r\n\t\tve, t;\r\n\ttriggerVirtualEvent( \"vmouseup\", event, flags );\r\n\r\n\tif ( !didScroll ) {\r\n\t\tve = triggerVirtualEvent( \"vclick\", event, flags );\r\n\t\tif ( ve && ve.isDefaultPrevented() ) {\r\n\t\t\t// The target of the mouse events that follow the touchend\r\n\t\t\t// event don't necessarily match the target used during the\r\n\t\t\t// touch. This means we need to rely on coordinates for blocking\r\n\t\t\t// any click that is generated.\r\n\t\t\tt = getNativeEvent( event ).changedTouches[ 0 ];\r\n\t\t\tclickBlockList.push({\r\n\t\t\t\ttouchID: lastTouchID,\r\n\t\t\t\tx: t.clientX,\r\n\t\t\t\ty: t.clientY\r\n\t\t\t});\r\n\r\n\t\t\t// Prevent any mouse events that follow from triggering\r\n\t\t\t// virtual event notifications.\r\n\t\t\tblockMouseTriggers = true;\r\n\t\t}\r\n\t}\r\n\ttriggerVirtualEvent( \"vmouseout\", event, flags);\r\n\tdidScroll = false;\r\n\r\n\tstartResetTimer();\r\n}\r\n\r\nfunction hasVirtualBindings( ele ) {\r\n\tvar bindings = $.data( ele, dataPropertyName ),\r\n\t\tk;\r\n\r\n\tif ( bindings ) {\r\n\t\tfor ( k in bindings ) {\r\n\t\t\tif ( bindings[ k ] ) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction dummyMouseHandler() {}\r\n\r\nfunction getSpecialEventObject( eventType ) {\r\n\tvar realType = eventType.substr( 1 );\r\n\r\n\treturn {\r\n\t\tsetup: function(/* data, namespace */) {\r\n\t\t\t// If this is the first virtual mouse binding for this element,\r\n\t\t\t// add a bindings object to its data.\r\n\r\n\t\t\tif ( !hasVirtualBindings( this ) ) {\r\n\t\t\t\t$.data( this, dataPropertyName, {} );\r\n\t\t\t}\r\n\r\n\t\t\t// If setup is called, we know it is the first binding for this\r\n\t\t\t// eventType, so initialize the count for the eventType to zero.\r\n\t\t\tvar bindings = $.data( this, dataPropertyName );\r\n\t\t\tbindings[ eventType ] = true;\r\n\r\n\t\t\t// If this is the first virtual mouse event for this type,\r\n\t\t\t// register a global handler on the document.\r\n\r\n\t\t\tactiveDocHandlers[ eventType ] = ( activeDocHandlers[ eventType ] || 0 ) + 1;\r\n\r\n\t\t\tif ( activeDocHandlers[ eventType ] === 1 ) {\r\n\t\t\t\t$document.bind( realType, mouseEventCallback );\r\n\t\t\t}\r\n\r\n\t\t\t// Some browsers, like Opera Mini, won't dispatch mouse/click events\r\n\t\t\t// for elements unless they actually have handlers registered on them.\r\n\t\t\t// To get around this, we register dummy handlers on the elements.\r\n\r\n\t\t\t$( this ).bind( realType, dummyMouseHandler );\r\n\r\n\t\t\t// For now, if event capture is not supported, we rely on mouse handlers.\r\n\t\t\tif ( eventCaptureSupported ) {\r\n\t\t\t\t// If this is the first virtual mouse binding for the document,\r\n\t\t\t\t// register our touchstart handler on the document.\r\n\r\n\t\t\t\tactiveDocHandlers[ \"touchstart\" ] = ( activeDocHandlers[ \"touchstart\" ] || 0) + 1;\r\n\r\n\t\t\t\tif ( activeDocHandlers[ \"touchstart\" ] === 1 ) {\r\n\t\t\t\t\t$document.bind( \"touchstart\", handleTouchStart )\r\n\t\t\t\t\t\t.bind( \"touchend\", handleTouchEnd )\r\n\r\n\t\t\t\t\t\t// On touch platforms, touching the screen and then dragging your finger\r\n\t\t\t\t\t\t// causes the window content to scroll after some distance threshold is\r\n\t\t\t\t\t\t// exceeded. On these platforms, a scroll prevents a click event from being\r\n\t\t\t\t\t\t// dispatched, and on some platforms, even the touchend is suppressed. To\r\n\t\t\t\t\t\t// mimic the suppression of the click event, we need to watch for a scroll\r\n\t\t\t\t\t\t// event. Unfortunately, some platforms like iOS don't dispatch scroll\r\n\t\t\t\t\t\t// events until *AFTER* the user lifts their finger (touchend). This means\r\n\t\t\t\t\t\t// we need to watch both scroll and touchmove events to figure out whether\r\n\t\t\t\t\t\t// or not a scroll happenens before the touchend event is fired.\r\n\r\n\t\t\t\t\t\t.bind( \"touchmove\", handleTouchMove )\r\n\t\t\t\t\t\t.bind( \"scroll\", handleScroll );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tteardown: function(/* data, namespace */) {\r\n\t\t\t// If this is the last virtual binding for this eventType,\r\n\t\t\t// remove its global handler from the document.\r\n\r\n\t\t\t--activeDocHandlers[ eventType ];\r\n\r\n\t\t\tif ( !activeDocHandlers[ eventType ] ) {\r\n\t\t\t\t$document.unbind( realType, mouseEventCallback );\r\n\t\t\t}\r\n\r\n\t\t\tif ( eventCaptureSupported ) {\r\n\t\t\t\t// If this is the last virtual mouse binding in existence,\r\n\t\t\t\t// remove our document touchstart listener.\r\n\r\n\t\t\t\t--activeDocHandlers[ \"touchstart\" ];\r\n\r\n\t\t\t\tif ( !activeDocHandlers[ \"touchstart\" ] ) {\r\n\t\t\t\t\t$document.unbind( \"touchstart\", handleTouchStart )\r\n\t\t\t\t\t\t.unbind( \"touchmove\", handleTouchMove )\r\n\t\t\t\t\t\t.unbind( \"touchend\", handleTouchEnd )\r\n\t\t\t\t\t\t.unbind( \"scroll\", handleScroll );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tvar $this = $( this ),\r\n\t\t\t\tbindings = $.data( this, dataPropertyName );\r\n\r\n\t\t\t// teardown may be called when an element was\r\n\t\t\t// removed from the DOM. If this is the case,\r\n\t\t\t// jQuery core may have already stripped the element\r\n\t\t\t// of any data bindings so we need to check it before\r\n\t\t\t// using it.\r\n\t\t\tif ( bindings ) {\r\n\t\t\t\tbindings[ eventType ] = false;\r\n\t\t\t}\r\n\r\n\t\t\t// Unregister the dummy event handler.\r\n\r\n\t\t\t$this.unbind( realType, dummyMouseHandler );\r\n\r\n\t\t\t// If this is the last virtual mouse binding on the\r\n\t\t\t// element, remove the binding data from the element.\r\n\r\n\t\t\tif ( !hasVirtualBindings( this ) ) {\r\n\t\t\t\t$this.removeData( dataPropertyName );\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\n// Expose our custom events to the jQuery bind/unbind mechanism.\r\n\r\nfor ( i = 0; i < virtualEventNames.length; i++ ) {\r\n\t$.event.special[ virtualEventNames[ i ] ] = getSpecialEventObject( virtualEventNames[ i ] );\r\n}\r\n\r\n// Add a capture click handler to block clicks.\r\n// Note that we require event capture support for this so if the device\r\n// doesn't support it, we punt for now and rely solely on mouse events.\r\nif ( eventCaptureSupported ) {\r\n\tdocument.addEventListener( \"click\", function( e ) {\r\n\t\tvar cnt = clickBlockList.length,\r\n\t\t\ttarget = e.target,\r\n\t\t\tx, y, ele, i, o, touchID;\r\n\r\n\t\tif ( cnt ) {\r\n\t\t\tx = e.clientX;\r\n\t\t\ty = e.clientY;\r\n\t\t\tthreshold = $.vmouse.clickDistanceThreshold;\r\n\r\n\t\t\t// The idea here is to run through the clickBlockList to see if\r\n\t\t\t// the current click event is in the proximity of one of our\r\n\t\t\t// vclick events that had preventDefault() called on it. If we find\r\n\t\t\t// one, then we block the click.\r\n\t\t\t//\r\n\t\t\t// Why do we have to rely on proximity?\r\n\t\t\t//\r\n\t\t\t// Because the target of the touch event that triggered the vclick\r\n\t\t\t// can be different from the target of the click event synthesized\r\n\t\t\t// by the browser. The target of a mouse/click event that is synthesized\r\n\t\t\t// from a touch event seems to be implementation specific. For example,\r\n\t\t\t// some browsers will fire mouse/click events for a link that is near\r\n\t\t\t// a touch event, even though the target of the touchstart/touchend event\r\n\t\t\t// says the user touched outside the link. Also, it seems that with most\r\n\t\t\t// browsers, the target of the mouse/click event is not calculated until the\r\n\t\t\t// time it is dispatched, so if you replace an element that you touched\r\n\t\t\t// with another element, the target of the mouse/click will be the new\r\n\t\t\t// element underneath that point.\r\n\t\t\t//\r\n\t\t\t// Aside from proximity, we also check to see if the target and any\r\n\t\t\t// of its ancestors were the ones that blocked a click. This is necessary\r\n\t\t\t// because of the strange mouse/click target calculation done in the\r\n\t\t\t// Android 2.1 browser, where if you click on an element, and there is a\r\n\t\t\t// mouse/click handler on one of its ancestors, the target will be the\r\n\t\t\t// innermost child of the touched element, even if that child is no where\r\n\t\t\t// near the point of touch.\r\n\r\n\t\t\tele = target;\r\n\r\n\t\t\twhile ( ele ) {\r\n\t\t\t\tfor ( i = 0; i < cnt; i++ ) {\r\n\t\t\t\t\to = clickBlockList[ i ];\r\n\t\t\t\t\ttouchID = 0;\r\n\r\n\t\t\t\t\tif ( ( ele === target && Math.abs( o.x - x ) < threshold && Math.abs( o.y - y ) < threshold ) ||\r\n\t\t\t\t\t\t\t\t$.data( ele, touchTargetPropertyName ) === o.touchID ) {\r\n\t\t\t\t\t\t// XXX: We may want to consider removing matches from the block list\r\n\t\t\t\t\t\t//      instead of waiting for the reset timer to fire.\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tele = ele.parentNode;\r\n\t\t\t}\r\n\t\t}\r\n\t}, true);\r\n}\r\n})( jQuery, window, document );\r\n\r\n(function( $ ) {\r\n\t$.mobile = {};\r\n}( jQuery ));\r\n\r\n\t(function( $, undefined ) {\r\n\t\tvar support = {\r\n\t\t\ttouch: \"ontouchend\" in document\r\n\t\t};\r\n\r\n\t\t$.mobile.support = $.mobile.support || {};\r\n\t\t$.extend( $.support, support );\r\n\t\t$.extend( $.mobile.support, support );\r\n\t}( jQuery ));\r\n\r\n\r\n(function( $, window, undefined ) {\r\n\tvar $document = $( document ),\r\n\t\tsupportTouch = $.mobile.support.touch,\r\n\t\tscrollEvent = \"touchmove scroll\",\r\n\t\ttouchStartEvent = supportTouch ? \"touchstart\" : \"mousedown\",\r\n\t\ttouchStopEvent = supportTouch ? \"touchend\" : \"mouseup\",\r\n\t\ttouchMoveEvent = supportTouch ? \"touchmove\" : \"mousemove\";\r\n\r\n\t// setup new event shortcuts\r\n\t$.each( ( \"touchstart touchmove touchend \" +\r\n\t\t\"tap taphold \" +\r\n\t\t\"swipe swipeleft swiperight \" +\r\n\t\t\"scrollstart scrollstop\" ).split( \" \" ), function( i, name ) {\r\n\r\n\t\t$.fn[ name ] = function( fn ) {\r\n\t\t\treturn fn ? this.bind( name, fn ) : this.trigger( name );\r\n\t\t};\r\n\r\n\t\t// jQuery < 1.8\r\n\t\tif ( $.attrFn ) {\r\n\t\t\t$.attrFn[ name ] = true;\r\n\t\t}\r\n\t});\r\n\r\n\tfunction triggerCustomEvent( obj, eventType, event, bubble ) {\r\n\t\tvar originalType = event.type;\r\n\t\tevent.type = eventType;\r\n\t\tif ( bubble ) {\r\n\t\t\t$.event.trigger( event, undefined, obj );\r\n\t\t} else {\r\n\t\t\t$.event.dispatch.call( obj, event );\r\n\t\t}\r\n\t\tevent.type = originalType;\r\n\t}\r\n\r\n\t// also handles scrollstop\r\n\t$.event.special.scrollstart = {\r\n\r\n\t\tenabled: true,\r\n\t\tsetup: function() {\r\n\r\n\t\t\tvar thisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tscrolling,\r\n\t\t\t\ttimer;\r\n\r\n\t\t\tfunction trigger( event, state ) {\r\n\t\t\t\tscrolling = state;\r\n\t\t\t\ttriggerCustomEvent( thisObject, scrolling ? \"scrollstart\" : \"scrollstop\", event );\r\n\t\t\t}\r\n\r\n\t\t\t// iPhone triggers scroll after a small delay; use touchmove instead\r\n\t\t\t$this.bind( scrollEvent, function( event ) {\r\n\r\n\t\t\t\tif ( !$.event.special.scrollstart.enabled ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif ( !scrolling ) {\r\n\t\t\t\t\ttrigger( event, true );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tclearTimeout( timer );\r\n\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\ttrigger( event, false );\r\n\t\t\t\t}, 50 );\r\n\t\t\t});\r\n\t\t},\r\n\t\tteardown: function() {\r\n\t\t\t$( this ).unbind( scrollEvent );\r\n\t\t}\r\n\t};\r\n\r\n\t// also handles taphold\r\n\t$.event.special.tap = {\r\n\t\ttapholdThreshold: 750,\r\n\t\temitTapOnTaphold: true,\r\n\t\tsetup: function() {\r\n\t\t\tvar thisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tisTaphold = false;\r\n\r\n\t\t\t$this.bind( \"vmousedown\", function( event ) {\r\n\t\t\t\tisTaphold = false;\r\n\t\t\t\tif ( event.which && event.which !== 1 ) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar origTarget = event.target,\r\n\t\t\t\t\ttimer;\r\n\r\n\t\t\t\tfunction clearTapTimer() {\r\n\t\t\t\t\tclearTimeout( timer );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction clearTapHandlers() {\r\n\t\t\t\t\tclearTapTimer();\r\n\r\n\t\t\t\t\t$this.unbind( \"vclick\", clickHandler )\r\n\t\t\t\t\t\t.unbind( \"vmouseup\", clearTapTimer );\r\n\t\t\t\t\t$document.unbind( \"vmousecancel\", clearTapHandlers );\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction clickHandler( event ) {\r\n\t\t\t\t\tclearTapHandlers();\r\n\r\n\t\t\t\t\t// ONLY trigger a 'tap' event if the start target is\r\n\t\t\t\t\t// the same as the stop target.\r\n\t\t\t\t\tif ( !isTaphold && origTarget === event.target ) {\r\n\t\t\t\t\t\ttriggerCustomEvent( thisObject, \"tap\", event );\r\n\t\t\t\t\t} else if ( isTaphold ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$this.bind( \"vmouseup\", clearTapTimer )\r\n\t\t\t\t\t.bind( \"vclick\", clickHandler );\r\n\t\t\t\t$document.bind( \"vmousecancel\", clearTapHandlers );\r\n\r\n\t\t\t\ttimer = setTimeout( function() {\r\n\t\t\t\t\tif ( !$.event.special.tap.emitTapOnTaphold ) {\r\n\t\t\t\t\t\tisTaphold = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\ttriggerCustomEvent( thisObject, \"taphold\", $.Event( \"taphold\", { target: origTarget } ) );\r\n\t\t\t\t}, $.event.special.tap.tapholdThreshold );\r\n\t\t\t});\r\n\t\t},\r\n\t\tteardown: function() {\r\n\t\t\t$( this ).unbind( \"vmousedown\" ).unbind( \"vclick\" ).unbind( \"vmouseup\" );\r\n\t\t\t$document.unbind( \"vmousecancel\" );\r\n\t\t}\r\n\t};\r\n\r\n\t// Also handles swipeleft, swiperight\r\n\t$.event.special.swipe = {\r\n\r\n\t\t// More than this horizontal displacement, and we will suppress scrolling.\r\n\t\tscrollSupressionThreshold: 30,\r\n\r\n\t\t// More time than this, and it isn't a swipe.\r\n\t\tdurationThreshold: 1000,\r\n\r\n\t\t// Swipe horizontal displacement must be more than this.\r\n\t\thorizontalDistanceThreshold: 30,\r\n\r\n\t\t// Swipe vertical displacement must be less than this.\r\n\t\tverticalDistanceThreshold: 30,\r\n\r\n\t\tgetLocation: function ( event ) {\r\n\t\t\tvar winPageX = window.pageXOffset,\r\n\t\t\t\twinPageY = window.pageYOffset,\r\n\t\t\t\tx = event.clientX,\r\n\t\t\t\ty = event.clientY;\r\n\r\n\t\t\tif ( event.pageY === 0 && Math.floor( y ) > Math.floor( event.pageY ) ||\r\n\t\t\t\tevent.pageX === 0 && Math.floor( x ) > Math.floor( event.pageX ) ) {\r\n\r\n\t\t\t\t// iOS4 clientX/clientY have the value that should have been\r\n\t\t\t\t// in pageX/pageY. While pageX/page/ have the value 0\r\n\t\t\t\tx = x - winPageX;\r\n\t\t\t\ty = y - winPageY;\r\n\t\t\t} else if ( y < ( event.pageY - winPageY) || x < ( event.pageX - winPageX ) ) {\r\n\r\n\t\t\t\t// Some Android browsers have totally bogus values for clientX/Y\r\n\t\t\t\t// when scrolling/zooming a page. Detectable since clientX/clientY\r\n\t\t\t\t// should never be smaller than pageX/pageY minus page scroll\r\n\t\t\t\tx = event.pageX - winPageX;\r\n\t\t\t\ty = event.pageY - winPageY;\r\n\t\t\t}\r\n\r\n\t\t\treturn {\r\n\t\t\t\tx: x,\r\n\t\t\t\ty: y\r\n\t\t\t};\r\n\t\t},\r\n\r\n\t\tstart: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ],\r\n\t\t\t\t\t\torigin: $( event.target )\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\tstop: function( event ) {\r\n\t\t\tvar data = event.originalEvent.touches ?\r\n\t\t\t\t\tevent.originalEvent.touches[ 0 ] : event,\r\n\t\t\t\tlocation = $.event.special.swipe.getLocation( data );\r\n\t\t\treturn {\r\n\t\t\t\t\t\ttime: ( new Date() ).getTime(),\r\n\t\t\t\t\t\tcoords: [ location.x, location.y ]\r\n\t\t\t\t\t};\r\n\t\t},\r\n\r\n\t\thandleSwipe: function( start, stop, thisObject, origTarget ) {\r\n\t\t\tif ( stop.time - start.time < $.event.special.swipe.durationThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.horizontalDistanceThreshold &&\r\n\t\t\t\tMath.abs( start.coords[ 1 ] - stop.coords[ 1 ] ) < $.event.special.swipe.verticalDistanceThreshold ) {\r\n\t\t\t\tvar direction = start.coords[0] > stop.coords[ 0 ] ? \"swipeleft\" : \"swiperight\";\r\n\r\n\t\t\t\ttriggerCustomEvent( thisObject, \"swipe\", $.Event( \"swipe\", { target: origTarget, swipestart: start, swipestop: stop }), true );\r\n\t\t\t\ttriggerCustomEvent( thisObject, direction,$.Event( direction, { target: origTarget, swipestart: start, swipestop: stop } ), true );\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\r\n\t\t},\r\n\r\n\t\t// This serves as a flag to ensure that at most one swipe event event is\r\n\t\t// in work at any given time\r\n\t\teventInProgress: false,\r\n\r\n\t\tsetup: function() {\r\n\t\t\tvar events,\r\n\t\t\t\tthisObject = this,\r\n\t\t\t\t$this = $( thisObject ),\r\n\t\t\t\tcontext = {};\r\n\r\n\t\t\t// Retrieve the events data for this element and add the swipe context\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( !events ) {\r\n\t\t\t\tevents = { length: 0 };\r\n\t\t\t\t$.data( this, \"mobile-events\", events );\r\n\t\t\t}\r\n\t\t\tevents.length++;\r\n\t\t\tevents.swipe = context;\r\n\r\n\t\t\tcontext.start = function( event ) {\r\n\r\n\t\t\t\t// Bail if we're already working on a swipe event\r\n\t\t\t\tif ( $.event.special.swipe.eventInProgress ) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t$.event.special.swipe.eventInProgress = true;\r\n\r\n\t\t\t\tvar stop,\r\n\t\t\t\t\tstart = $.event.special.swipe.start( event ),\r\n\t\t\t\t\torigTarget = event.target,\r\n\t\t\t\t\temitted = false;\r\n\r\n\t\t\t\tcontext.move = function( event ) {\r\n\t\t\t\t\tif ( !start ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tstop = $.event.special.swipe.stop( event );\r\n\t\t\t\t\tif ( !emitted ) {\r\n\t\t\t\t\t\temitted = $.event.special.swipe.handleSwipe( start, stop, thisObject, origTarget );\r\n\t\t\t\t\t\tif ( emitted ) {\r\n\r\n\t\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t// prevent scrolling\r\n\t\t\t\t\tif ( Math.abs( start.coords[ 0 ] - stop.coords[ 0 ] ) > $.event.special.swipe.scrollSupressionThreshold ) {\r\n\t\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\r\n\t\t\t\tcontext.stop = function() {\r\n\t\t\t\t\t\temitted = true;\r\n\r\n\t\t\t\t\t\t// Reset the context to make way for the next swipe event\r\n\t\t\t\t\t\t$.event.special.swipe.eventInProgress = false;\r\n\t\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t\t\tcontext.move = null;\r\n\t\t\t\t};\r\n\r\n\t\t\t\t$document.on( touchMoveEvent, context.move )\r\n\t\t\t\t\t.one( touchStopEvent, context.stop );\r\n\t\t\t};\r\n\t\t\t$this.on( touchStartEvent, context.start );\r\n\t\t},\r\n\r\n\t\tteardown: function() {\r\n\t\t\tvar events, context;\r\n\r\n\t\t\tevents = $.data( this, \"mobile-events\" );\r\n\t\t\tif ( events ) {\r\n\t\t\t\tcontext = events.swipe;\r\n\t\t\t\tdelete events.swipe;\r\n\t\t\t\tevents.length--;\r\n\t\t\t\tif ( events.length === 0 ) {\r\n\t\t\t\t\t$.removeData( this, \"mobile-events\" );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( context ) {\r\n\t\t\t\tif ( context.start ) {\r\n\t\t\t\t\t$( this ).off( touchStartEvent, context.start );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.move ) {\r\n\t\t\t\t\t$document.off( touchMoveEvent, context.move );\r\n\t\t\t\t}\r\n\t\t\t\tif ( context.stop ) {\r\n\t\t\t\t\t$document.off( touchStopEvent, context.stop );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\t$.each({\r\n\t\tscrollstop: \"scrollstart\",\r\n\t\ttaphold: \"tap\",\r\n\t\tswipeleft: \"swipe.left\",\r\n\t\tswiperight: \"swipe.right\"\r\n\t}, function( event, sourceEvent ) {\r\n\r\n\t\t$.event.special[ event ] = {\r\n\t\t\tsetup: function() {\r\n\t\t\t\t$( this ).bind( sourceEvent, $.noop );\r\n\t\t\t},\r\n\t\t\tteardown: function() {\r\n\t\t\t\t$( this ).unbind( sourceEvent );\r\n\t\t\t}\r\n\t\t};\r\n\t});\r\n\r\n})( jQuery, this );\r\n\r\n\r\n}));\r\n","jquery/jquery.storageapi.min.js":"/* jQuery Storage API Plugin 1.7.3 https://github.com/julien-maurel/jQuery-Storage-API */\r\n!function(e){\"function\"==typeof define&&define.amd?define([\"jquery\"],e):e(\"object\"==typeof exports?require(\"jquery\"):jQuery)}(function(e){function t(t){var r,i,n,o=arguments.length,s=window[t],a=arguments,u=a[1];if(2>o)throw Error(\"Minimum 2 arguments must be given\");if(e.isArray(u)){i={};for(var f in u){r=u[f];try{i[r]=JSON.parse(s.getItem(r))}catch(c){i[r]=s.getItem(r)}}return i}if(2!=o){try{i=JSON.parse(s.getItem(u))}catch(c){throw new ReferenceError(u+\" is not defined in this storage\")}for(var f=2;o-1>f;f++)if(i=i[a[f]],void 0===i)throw new ReferenceError([].slice.call(a,1,f+1).join(\".\")+\" is not defined in this storage\");if(e.isArray(a[f])){n=i,i={};for(var m in a[f])i[a[f][m]]=n[a[f][m]];return i}return i[a[f]]}try{return JSON.parse(s.getItem(u))}catch(c){return s.getItem(u)}}function r(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1],u=s[2],f={};if(2>n||!e.isPlainObject(a)&&3>n)throw Error(\"Minimum 3 arguments must be given or second parameter must be an object\");if(e.isPlainObject(a)){for(var c in a)r=a[c],e.isPlainObject(r)?o.setItem(c,JSON.stringify(r)):o.setItem(c,r);return a}if(3==n)return\"object\"==typeof u?o.setItem(a,JSON.stringify(u)):o.setItem(a,u),u;try{i=o.getItem(a),null!=i&&(f=JSON.parse(i))}catch(m){}i=f;for(var c=2;n-2>c;c++)r=s[c],i[r]&&e.isPlainObject(i[r])||(i[r]={}),i=i[r];return i[s[c]]=s[c+1],o.setItem(a,JSON.stringify(f)),f}function i(t){var r,i,n=arguments.length,o=window[t],s=arguments,a=s[1];if(2>n)throw Error(\"Minimum 2 arguments must be given\");if(e.isArray(a)){for(var u in a)o.removeItem(a[u]);return!0}if(2==n)return o.removeItem(a),!0;try{r=i=JSON.parse(o.getItem(a))}catch(f){throw new ReferenceError(a+\" is not defined in this storage\")}for(var u=2;n-1>u;u++)if(i=i[s[u]],void 0===i)throw new ReferenceError([].slice.call(s,1,u).join(\".\")+\" is not defined in this storage\");if(e.isArray(s[u]))for(var c in s[u])delete i[s[u][c]];else delete i[s[u]];return o.setItem(a,JSON.stringify(r)),!0}function n(t,r){var n=a(t);for(var o in n)i(t,n[o]);if(r)for(var o in e.namespaceStorages)u(o)}function o(r){var i=arguments.length,n=arguments,s=(window[r],n[1]);if(1==i)return 0==a(r).length;if(e.isArray(s)){for(var u=0;u<s.length;u++)if(!o(r,s[u]))return!1;return!0}try{var f=t.apply(this,arguments);e.isArray(n[i-1])||(f={totest:f});for(var u in f)if(!(e.isPlainObject(f[u])&&e.isEmptyObject(f[u])||e.isArray(f[u])&&!f[u].length)&&f[u])return!1;return!0}catch(c){return!0}}function s(r){var i=arguments.length,n=arguments,o=(window[r],n[1]);if(2>i)throw Error(\"Minimum 2 arguments must be given\");if(e.isArray(o)){for(var a=0;a<o.length;a++)if(!s(r,o[a]))return!1;return!0}try{var u=t.apply(this,arguments);e.isArray(n[i-1])||(u={totest:u});for(var a in u)if(void 0===u[a]||null===u[a])return!1;return!0}catch(f){return!1}}function a(r){var i=arguments.length,n=window[r],o=arguments,s=(o[1],[]),a={};if(a=i>1?t.apply(this,o):n,a._cookie)for(var u in e.cookie())\"\"!=u&&s.push(u.replace(a._prefix,\"\"));else for(var f in a)s.push(f);return s}function u(t){if(!t||\"string\"!=typeof t)throw Error(\"First parameter must be a string\");g?(window.localStorage.getItem(t)||window.localStorage.setItem(t,\"{}\"),window.sessionStorage.getItem(t)||window.sessionStorage.setItem(t,\"{}\")):(window.localCookieStorage.getItem(t)||window.localCookieStorage.setItem(t,\"{}\"),window.sessionCookieStorage.getItem(t)||window.sessionCookieStorage.setItem(t,\"{}\"));var r={localStorage:e.extend({},e.localStorage,{_ns:t}),sessionStorage:e.extend({},e.sessionStorage,{_ns:t})};return e.cookie&&(window.cookieStorage.getItem(t)||window.cookieStorage.setItem(t,\"{}\"),r.cookieStorage=e.extend({},e.cookieStorage,{_ns:t})),e.namespaceStorages[t]=r,r}function f(e){if(!window[e])return!1;var t=\"jsapi\";try{return window[e].setItem(t,t),window[e].removeItem(t),!0}catch(r){return!1}}var c=\"ls_\",m=\"ss_\",g=f(\"localStorage\"),h={_type:\"\",_ns:\"\",_callMethod:function(e,t){var r=[this._type],t=Array.prototype.slice.call(t),i=t[0];return this._ns&&r.push(this._ns),\"string\"==typeof i&&-1!==i.indexOf(\".\")&&(t.shift(),[].unshift.apply(t,i.split(\".\"))),[].push.apply(r,t),e.apply(this,r)},get:function(){return this._callMethod(t,arguments)},set:function(){var t=arguments.length,i=arguments,n=i[0];if(1>t||!e.isPlainObject(n)&&2>t)throw Error(\"Minimum 2 arguments must be given or first parameter must be an object\");if(e.isPlainObject(n)&&this._ns){for(var o in n)r(this._type,this._ns,o,n[o]);return n}var s=this._callMethod(r,i);return this._ns?s[n.split(\".\")[0]]:s},remove:function(){if(arguments.length<1)throw Error(\"Minimum 1 argument must be given\");return this._callMethod(i,arguments)},removeAll:function(e){return this._ns?(r(this._type,this._ns,{}),!0):n(this._type,e)},isEmpty:function(){return this._callMethod(o,arguments)},isSet:function(){if(arguments.length<1)throw Error(\"Minimum 1 argument must be given\");return this._callMethod(s,arguments)},keys:function(){return this._callMethod(a,arguments)}};if(e.cookie){window.name||(window.name=Math.floor(1e8*Math.random()));var l={_cookie:!0,_prefix:\"\",_expires:null,_path:null,_domain:null,setItem:function(t,r){e.cookie(this._prefix+t,r,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(t){return e.cookie(this._prefix+t)},removeItem:function(t){return e.removeCookie(this._prefix+t)},clear:function(){for(var t in e.cookie())\"\"!=t&&(!this._prefix&&-1===t.indexOf(c)&&-1===t.indexOf(m)||this._prefix&&0===t.indexOf(this._prefix))&&e.removeCookie(t)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}};g||(window.localCookieStorage=e.extend({},l,{_prefix:c,_expires:3650}),window.sessionCookieStorage=e.extend({},l,{_prefix:m+window.name+\"_\"})),window.cookieStorage=e.extend({},l),e.cookieStorage=e.extend({},h,{_type:\"cookieStorage\",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})}e.initNamespaceStorage=function(e){return u(e)},g?(e.localStorage=e.extend({},h,{_type:\"localStorage\"}),e.sessionStorage=e.extend({},h,{_type:\"sessionStorage\"})):(e.localStorage=e.extend({},h,{_type:\"localCookieStorage\"}),e.sessionStorage=e.extend({},h,{_type:\"sessionCookieStorage\"})),e.namespaceStorages={},e.removeAllStorages=function(t){e.localStorage.removeAll(t),e.sessionStorage.removeAll(t),e.cookieStorage&&e.cookieStorage.removeAll(t),t||(e.namespaceStorages={})}});","jquery/jquery.tabs.js":"/* ========================================================\r\n * bootstrap-tab.js v2.0.4\r\n * http://twitter.github.com/bootstrap/javascript.html#tabs\r\n * ========================================================\r\n * Copyright 2012 Twitter, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ======================================================== */\r\n\r\ndefine([\r\n  \"jquery\"\r\n], function(jQuery){\r\n\r\n\r\n!function ($) {\r\n\r\n  \"use strict\"; // jshint ;_;\r\n\r\n\r\n /* TAB CLASS DEFINITION\r\n  * ==================== */\r\n\r\n  var Tab = function ( element ) {\r\n    this.element = $(element)\r\n  };\r\n\r\n  Tab.prototype = {\r\n\r\n    constructor: Tab\r\n\r\n  , show: function () {\r\n      var $this = this.element\r\n        , $ul = $this.closest('ul:not(.dropdown-menu)')\r\n        , selector = $this.attr('data-target')\r\n        , previous\r\n        , $target\r\n        , e;\r\n\r\n      if (!selector) {\r\n        selector = $this.attr('href');\r\n        selector = selector && selector.replace(/.*(?=#[^\\s]*$)/, ''); //strip for ie7\r\n      }\r\n\r\n      if ( $this.parent('li').hasClass('active') ) return;\r\n\r\n      previous = $ul.find('.active a').last()[0];\r\n\r\n      e = $.Event('show', {\r\n        relatedTarget: previous\r\n      });\r\n\r\n      $this.trigger(e);\r\n\r\n      if (e.isDefaultPrevented()) return;\r\n\r\n      $target = $(selector);\r\n\r\n      this.activate($this.parent('li'), $ul);\r\n      this.activate($target, $target.parent(), function () {\r\n        $this.trigger({\r\n          type: 'shown'\r\n        , relatedTarget: previous\r\n        })\r\n      })\r\n    }\r\n\r\n  , activate: function ( element, container, callback) {\r\n      var $active = container.find('> .active')\r\n        , transition = callback\r\n            && $.support.transition\r\n            && $active.hasClass('fade');\r\n\r\n      function next() {\r\n        $active\r\n          .removeClass('active')\r\n          .find('> .dropdown-menu > .active')\r\n          .removeClass('active');\r\n\r\n        element.addClass('active');\r\n\r\n        if (transition) {\r\n          element[0].offsetWidth; // reflow for transition\r\n          element.addClass('in');\r\n        } else {\r\n          element.removeClass('fade')\r\n        }\r\n\r\n        if ( element.parent('.dropdown-menu') ) {\r\n          element.closest('li.dropdown').addClass('active')\r\n        }\r\n\r\n        callback && callback()\r\n      }\r\n\r\n      transition ?\r\n        $active.one($.support.transition.end, next) :\r\n        next();\r\n\r\n      $active.removeClass('in')\r\n    }\r\n  };\r\n\r\n\r\n /* TAB PLUGIN DEFINITION\r\n  * ===================== */\r\n\r\n  $.fn.tab = function ( option ) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n        , data = $this.data('tab');\r\n      if (!data) $this.data('tab', (data = new Tab(this)));\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  };\r\n\r\n  $.fn.tab.Constructor = Tab;\r\n\r\n\r\n /* TAB DATA-API\r\n  * ============ */\r\n\r\n  $(function () {\r\n    $('body').on('click.tab.data-api', '[data-toggle=\"tab\"], [data-toggle=\"pill\"]', function (e) {\r\n      e.preventDefault();\r\n      $(this).tab('show')\r\n    })\r\n  })\r\n\r\n}(jQuery);\r\n\r\n/* =============================================================\r\n * bootstrap-collapse.js v2.0.4\r\n * http://twitter.github.com/bootstrap/javascript.html#collapse\r\n * =============================================================\r\n * Copyright 2012 Twitter, Inc.\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ============================================================ */\r\n\r\n\r\n!function ($) {\r\n\r\n  \"use strict\"; // jshint ;_;\r\n\r\n\r\n /* COLLAPSE PUBLIC CLASS DEFINITION\r\n  * ================================ */\r\n\r\n  var Collapse = function (element, options) {\r\n    this.$element = $(element);\r\n    this.options = $.extend({}, $.fn.collapse.defaults, options);\r\n\r\n    if (this.options.parent) {\r\n      this.$parent = $(this.options.parent)\r\n    }\r\n\r\n    this.options.toggle && this.toggle()\r\n  };\r\n\r\n  Collapse.prototype = {\r\n\r\n    constructor: Collapse\r\n\r\n  , dimension: function () {\r\n      var hasWidth = this.$element.hasClass('width');\r\n      return hasWidth ? 'width' : 'height'\r\n    }\r\n\r\n  , show: function () {\r\n      var dimension\r\n        , scroll\r\n        , actives\r\n        , hasData;\r\n\r\n      if (this.transitioning) return;\r\n\r\n      dimension = this.dimension();\r\n      scroll = $.camelCase(['scroll', dimension].join('-'));\r\n      actives = this.$parent && this.$parent.find('> .accordion-group > .in');\r\n\r\n      if (actives && actives.length) {\r\n        hasData = actives.data('collapse');\r\n        if (hasData && hasData.transitioning) return;\r\n        actives.collapse('hide');\r\n        hasData || actives.data('collapse', null)\r\n      }\r\n\r\n      this.$element[dimension](0);\r\n      this.transition('addClass', $.Event('show'), 'shown');\r\n      this.$element[dimension](this.$element[0][scroll]);\r\n    }\r\n\r\n  , hide: function () {\r\n      var dimension;\r\n      if (this.transitioning) return;\r\n      dimension = this.dimension();\r\n      this.reset(this.$element[dimension]());\r\n      this.transition('removeClass', $.Event('hide'), 'hidden');\r\n      this.$element[dimension](0)\r\n    }\r\n\r\n  , reset: function (size) {\r\n      var dimension = this.dimension();\r\n\r\n      this.$element\r\n        .removeClass('collapse')\r\n        [dimension](size || 'auto')\r\n        [0].offsetWidth;\r\n\r\n      this.$element[size !== null ? 'addClass' : 'removeClass']('collapse');\r\n\r\n      return this\r\n    }\r\n\r\n  , transition: function (method, startEvent, completeEvent) {\r\n      var that = this\r\n        , complete = function () {\r\n            if (startEvent.type == 'show') that.reset();\r\n            that.transitioning = 0;\r\n            that.$element.trigger(completeEvent)\r\n          };\r\n\r\n      this.$element.trigger(startEvent);\r\n\r\n      if (startEvent.isDefaultPrevented()) return;\r\n\r\n      this.transitioning = 1;\r\n\r\n      this.$element[method]('in');\r\n\r\n      $.support.transition && this.$element.hasClass('collapse') ?\r\n        this.$element.one($.support.transition.end, complete) :\r\n        complete()\r\n    }\r\n\r\n  , toggle: function () {\r\n      this[this.$element.hasClass('in') ? 'hide' : 'show']();\r\n    }\r\n\r\n  };\r\n\r\n\r\n /* COLLAPSIBLE PLUGIN DEFINITION\r\n  * ============================== */\r\n\r\n  $.fn.collapse = function (option) {\r\n    return this.each(function () {\r\n      var $this = $(this)\r\n        , data = $this.data('collapse')\r\n        , options = typeof option == 'object' && option;\r\n      if (!data) $this.data('collapse', (data = new Collapse(this, options)));\r\n      if (typeof option == 'string') data[option]()\r\n    })\r\n  };\r\n\r\n  $.fn.collapse.defaults = {\r\n    toggle: true\r\n  };\r\n\r\n  $.fn.collapse.Constructor = Collapse;\r\n\r\n\r\n /* COLLAPSIBLE DATA-API\r\n  * ==================== */\r\n\r\n  $(function () {\r\n    $('body').on('click.collapse.data-api', '[data-toggle=collapse]', function ( e ) {\r\n      var $this = $(this), href\r\n        , target = $this.attr('data-target')\r\n          || e.preventDefault()\r\n          || (href = $this.attr('href')) && href.replace(/.*(?=#[^\\s]+$)/, '') //strip for ie7\r\n        , option = $(target).data('collapse') ? 'toggle' : $this.data();\r\n      $(target).collapse(option);\r\n        $(this).toggleClass('active');\r\n    })\r\n  })\r\n\r\n}(jQuery);\r\n\r\n});","jquery/jquery.validate.js":"/**\r\n * jQuery Validation Plugin @VERSION\r\n *\r\n * http://bassistance.de/jquery-plugins/jquery-plugin-validation/\r\n * http://docs.jquery.com/Plugins/Validation\r\n *\r\n * Copyright (c) 2012 J\u00c3\u00b6rn Zaefferer\r\n *\r\n * Dual licensed under the MIT and GPL licenses:\r\n *   http://www.opensource.org/licenses/mit-license.php\r\n *   http://www.gnu.org/licenses/gpl.html\r\n */\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            \"jquery\",\r\n            \"jquery/jquery.metadata\"\r\n        ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function (jQuery) {\r\n\r\n(function ($) {\r\n\r\n    $.extend($.fn, {\r\n        // http://docs.jquery.com/Plugins/Validation/validate\r\n        validate: function (options) {\r\n\r\n            // if nothing is selected, return nothing; can't chain anyway\r\n            if (!this.length) {\r\n                if (options && options.debug && window.console) {\r\n                    console.warn(\"nothing selected, can't validate, returning nothing\");\r\n                }\r\n                return;\r\n            }\r\n\r\n            // check if a validator for this form was already created\r\n            var validator = $.data(this[0], 'validator');\r\n            if (validator) {\r\n                return validator;\r\n            }\r\n\r\n            // Add novalidate tag if HTML5.\r\n            this.attr('novalidate', 'novalidate');\r\n\r\n            validator = new $.validator(options, this[0]);\r\n            $.data(this[0], 'validator', validator);\r\n\r\n            if (validator.settings.onsubmit) {\r\n\r\n                this.validateDelegate(\":submit\", \"click\", function (ev) {\r\n                    if (validator.settings.submitHandler) {\r\n                        validator.submitButton = ev.target;\r\n                    }\r\n                    // allow suppressing validation by adding a cancel class to the submit button\r\n                    if ($(ev.target).hasClass('cancel')) {\r\n                        validator.cancelSubmit = true;\r\n                    }\r\n                });\r\n\r\n                // validate the form on submit\r\n                this.submit(function (event) {\r\n                    if (validator.settings.debug) {\r\n                        // prevent form submit to be able to see console output\r\n                        event.preventDefault();\r\n                    }\r\n                    function handle() {\r\n                        var hidden;\r\n                        if (validator.settings.submitHandler) {\r\n                            if (validator.submitButton) {\r\n                                // insert a hidden input as a replacement for the missing submit button\r\n                                hidden = $(\"<input type='hidden'/>\").attr(\"name\", validator.submitButton.name).val(validator.submitButton.value).appendTo(validator.currentForm);\r\n                            }\r\n                            validator.settings.submitHandler.call(validator, validator.currentForm, event);\r\n                            if (validator.submitButton) {\r\n                                // and clean up afterwards; thanks to no-block-scope, hidden can be referenced\r\n                                hidden.remove();\r\n                            }\r\n                            return false;\r\n                        }\r\n                        return true;\r\n                    }\r\n\r\n                    // prevent submit for invalid forms or custom submit handlers\r\n                    if (validator.cancelSubmit) {\r\n                        validator.cancelSubmit = false;\r\n                        return handle();\r\n                    }\r\n                    if (validator.form()) {\r\n                        if (validator.pendingRequest) {\r\n                            validator.formSubmitted = true;\r\n                            return false;\r\n                        }\r\n                        return handle();\r\n                    } else {\r\n                        validator.focusInvalid();\r\n                        return false;\r\n                    }\r\n                });\r\n            }\r\n\r\n            return validator;\r\n        },\r\n        // http://docs.jquery.com/Plugins/Validation/valid\r\n        valid: function () {\r\n            if ($(this[0]).is('form')) {\r\n                return this.validate().form();\r\n            } else {\r\n                var valid = true;\r\n                var validator = $(this[0].form).validate();\r\n                this.each(function () {\r\n                    valid &= validator.element(this);\r\n                });\r\n                return valid;\r\n            }\r\n        },\r\n        // attributes: space seperated list of attributes to retrieve and remove\r\n        removeAttrs: function (attributes) {\r\n            var result = {},\r\n                $element = this;\r\n            $.each(attributes.split(/\\s/), function (index, value) {\r\n                result[value] = $element.attr(value);\r\n                $element.removeAttr(value);\r\n            });\r\n            return result;\r\n        },\r\n        // http://docs.jquery.com/Plugins/Validation/rules\r\n        rules: function (command, argument) {\r\n            var element = this[0];\r\n\r\n            if (command) {\r\n                var settings = $.data(element.form, 'validator').settings;\r\n                var staticRules = settings.rules;\r\n                var existingRules = $.validator.staticRules(element);\r\n                switch (command) {\r\n                    case \"add\":\r\n                        $.extend(existingRules, $.validator.normalizeRule(argument));\r\n                        staticRules[element.name] = existingRules;\r\n                        if (argument.messages) {\r\n                            settings.messages[element.name] = $.extend(settings.messages[element.name], argument.messages);\r\n                        }\r\n                        break;\r\n                    case \"remove\":\r\n                        if (!argument) {\r\n                            delete staticRules[element.name];\r\n                            return existingRules;\r\n                        }\r\n                        var filtered = {};\r\n                        $.each(argument.split(/\\s/), function (index, method) {\r\n                            filtered[method] = existingRules[method];\r\n                            delete existingRules[method];\r\n                        });\r\n                        return filtered;\r\n                }\r\n            }\r\n\r\n            var data = $.validator.normalizeRules(\r\n                $.extend(\r\n                    {},\r\n                    $.validator.metadataRules(element),\r\n                    $.validator.classRules(element),\r\n                    $.validator.attributeRules(element),\r\n                    $.validator.staticRules(element)\r\n                ), element);\r\n\r\n            // make sure required is at front\r\n            if (data.required) {\r\n                var param = data.required;\r\n                delete data.required;\r\n                data = $.extend({required: param}, data);\r\n            }\r\n\r\n            return data;\r\n        }\r\n    });\r\n\r\n// Custom selectors\r\n    $.extend($.expr[\":\"], {\r\n        // http://docs.jquery.com/Plugins/Validation/blank\r\n        blank: function (a) {\r\n            return !$.trim(\"\" + a.value);\r\n        },\r\n        // http://docs.jquery.com/Plugins/Validation/filled\r\n        filled: function (a) {\r\n            return !!$.trim(\"\" + a.value);\r\n        },\r\n        // http://docs.jquery.com/Plugins/Validation/unchecked\r\n        unchecked: function (a) {\r\n            return !a.checked;\r\n        }\r\n    });\r\n\r\n// constructor for validator\r\n    $.validator = function (options, form) {\r\n        this.settings = $.extend(true, {}, $.validator.defaults, options);\r\n        this.currentForm = form;\r\n        this.init();\r\n    };\r\n\r\n    $.validator.format = function (source, params) {\r\n        if (arguments.length === 1) {\r\n            return function () {\r\n                var args = $.makeArray(arguments);\r\n                args.unshift(source);\r\n                return $.validator.format.apply(this, args);\r\n            };\r\n        }\r\n        if (arguments.length > 2 && params.constructor !== Array) {\r\n            params = $.makeArray(arguments).slice(1);\r\n        }\r\n        if (params.constructor !== Array) {\r\n            params = [ params ];\r\n        }\r\n        $.each(params, function (i, n) {\r\n            source = source.replace(new RegExp(\"\\\\{\" + i + \"\\\\}\", \"g\"), n);\r\n        });\r\n        return source;\r\n    };\r\n\r\n    $.extend($.validator, {\r\n\r\n        defaults: {\r\n            messages: {},\r\n            groups: {},\r\n            rules: {},\r\n            errorClass: \"error\",\r\n            validClass: \"valid\",\r\n            errorElement: \"label\",\r\n            focusInvalid: true,\r\n            errorContainer: $([]),\r\n            errorLabelContainer: $([]),\r\n            onsubmit: true,\r\n            ignore: \":hidden\",\r\n            ignoreTitle: false,\r\n            onfocusin: function (element, event) {\r\n                this.lastActive = element;\r\n\r\n                // hide error label and remove error class on focus if enabled\r\n                if (this.settings.focusCleanup && !this.blockFocusCleanup) {\r\n                    if (this.settings.unhighlight) {\r\n                        this.settings.unhighlight.call(this, element, this.settings.errorClass, this.settings.validClass);\r\n                    }\r\n                    this.addWrapper(this.errorsFor(element)).hide();\r\n                }\r\n            },\r\n            onfocusout: function (element, event) {\r\n                if (!this.checkable(element) && (element.name in this.submitted || !this.optional(element))) {\r\n                    this.element(element);\r\n                }\r\n            },\r\n            onkeyup: function (element, event) {\r\n                if (event.which == 9 && this.elementValue(element) === '') {\r\n                    return;\r\n                } else if (element.name in this.submitted || element === this.lastActive) {\r\n                    this.element(element);\r\n                }\r\n            },\r\n            onclick: function (element, event) {\r\n                // click on selects, radiobuttons and checkboxes\r\n                if (element.name in this.submitted) {\r\n                    this.element(element);\r\n                }\r\n                // or option elements, check parent select in that case\r\n                else if (element.parentNode.name in this.submitted) {\r\n                    this.element(element.parentNode);\r\n                }\r\n            },\r\n            highlight: function (element, errorClass, validClass) {\r\n                if (element.type === 'radio') {\r\n                    this.findByName(element.name).addClass(errorClass).removeClass(validClass);\r\n                } else {\r\n                    $(element).addClass(errorClass).removeClass(validClass);\r\n                }\r\n            },\r\n            unhighlight: function (element, errorClass, validClass) {\r\n                if (element.type === 'radio') {\r\n                    this.findByName(element.name).removeClass(errorClass).addClass(validClass);\r\n                } else {\r\n                    $(element).removeClass(errorClass).addClass(validClass);\r\n                }\r\n            }\r\n        },\r\n\r\n        // http://docs.jquery.com/Plugins/Validation/Validator/setDefaults\r\n        setDefaults: function (settings) {\r\n            $.extend($.validator.defaults, settings);\r\n        },\r\n\r\n        messages: {\r\n            required: \"This field is required.\",\r\n            remote: \"Please fix this field.\",\r\n            email: \"Please enter a valid email address.\",\r\n            url: \"Please enter a valid URL.\",\r\n            date: \"Please enter a valid date.\",\r\n            dateISO: \"Please enter a valid date (ISO).\",\r\n            number: \"Please enter a valid number.\",\r\n            digits: \"Please enter only digits.\",\r\n            creditcard: \"Please enter a valid credit card number.\",\r\n            equalTo: \"Please enter the same value again.\",\r\n            maxlength: $.validator.format(\"Please enter no more than {0} characters.\"),\r\n            minlength: $.validator.format(\"Please enter at least {0} characters.\"),\r\n            rangelength: $.validator.format(\"Please enter a value between {0} and {1} characters long.\"),\r\n            range: $.validator.format(\"Please enter a value between {0} and {1}.\"),\r\n            max: $.validator.format(\"Please enter a value less than or equal to {0}.\"),\r\n            min: $.validator.format(\"Please enter a value greater than or equal to {0}.\")\r\n        },\r\n\r\n        autoCreateRanges: false,\r\n\r\n        prototype: {\r\n\r\n            init: function () {\r\n                this.labelContainer = $(this.settings.errorLabelContainer);\r\n                this.errorContext = this.labelContainer.length && this.labelContainer || $(this.currentForm);\r\n                this.containers = $(this.settings.errorContainer).add(this.settings.errorLabelContainer);\r\n                this.submitted = {};\r\n                this.valueCache = {};\r\n                this.pendingRequest = 0;\r\n                this.pending = {};\r\n                this.invalid = {};\r\n                this.reset();\r\n\r\n                var groups = (this.groups = {});\r\n                $.each(this.settings.groups, function (key, value) {\r\n                    $.each(value.split(/\\s/), function (index, name) {\r\n                        groups[name] = key;\r\n                    });\r\n                });\r\n                var rules = this.settings.rules;\r\n                $.each(rules, function (key, value) {\r\n                    rules[key] = $.validator.normalizeRule(value);\r\n                });\r\n\r\n                function delegate(event) {\r\n                    var validator = $.data(this[0].form, \"validator\"),\r\n                        eventType = \"on\" + event.type.replace(/^validate/, \"\");\r\n                    if (validator.settings[eventType]) {\r\n                        validator.settings[eventType].call(validator, this[0], event);\r\n                    }\r\n                }\r\n\r\n                $(this.currentForm)\r\n                    .validateDelegate(\":text, [type='password'], [type='file'], select, textarea, \" +\r\n                    \"[type='number'], [type='search'], input.search, [type='tel'], [type='url'], \" +\r\n                    \"[type='email'], [type='datetime'], [type='date'], [type='month'], \" +\r\n                    \"[type='week'], [type='time'], [type='datetime-local'], \" +\r\n                    \"[type='range'], [type='color'] \",\r\n                    \"focusin focusout keyup\", delegate)\r\n                    .validateDelegate(\"[type='radio'], [type='checkbox'], select, option\", \"click\", delegate);\r\n\r\n                if (this.settings.invalidHandler) {\r\n                    $(this.currentForm).bind(\"invalid-form.validate\", this.settings.invalidHandler);\r\n                }\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Validator/form\r\n            form: function () {\r\n                this.checkForm();\r\n                $.extend(this.submitted, this.errorMap);\r\n                this.invalid = $.extend({}, this.errorMap);\r\n                if (!this.valid()) {\r\n                    $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\r\n                }\r\n                this.showErrors();\r\n                return this.valid();\r\n            },\r\n\r\n            checkForm: function () {\r\n                this.prepareForm();\r\n                for (var i = 0, elements = (this.currentElements = this.elements()); elements[i]; i++) {\r\n                    this.check(elements[i]);\r\n                }\r\n                return this.valid();\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Validator/element\r\n            element: function (element) {\r\n                element = this.validationTargetFor(this.clean(element));\r\n                this.lastElement = element;\r\n                this.prepareElement(element);\r\n                this.currentElements = $(element);\r\n                var result = this.check(element) !== false;\r\n                if (result) {\r\n                    delete this.invalid[element.name];\r\n                } else {\r\n                    this.invalid[element.name] = true;\r\n                }\r\n                if (!this.numberOfInvalids()) {\r\n                    // Hide error containers on last error\r\n                    this.toHide = this.toHide.add(this.containers);\r\n                }\r\n                this.showErrors();\r\n                return result;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Validator/showErrors\r\n            showErrors: function (errors) {\r\n                if (errors) {\r\n                    // add items to error list and map\r\n                    $.extend(this.errorMap, errors);\r\n                    this.errorList = [];\r\n                    for (var name in errors) {\r\n                        this.errorList.push({\r\n                            message: errors[name],\r\n                            element: this.findByName(name)[0]\r\n                        });\r\n                    }\r\n                    // remove items from success list\r\n                    this.successList = $.grep(this.successList, function (element) {\r\n                        return !(element.name in errors);\r\n                    });\r\n                }\r\n                if (this.settings.showErrors) {\r\n                    this.settings.showErrors.call(this, this.errorMap, this.errorList);\r\n                } else {\r\n                    this.defaultShowErrors();\r\n                }\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Validator/resetForm\r\n            resetForm: function () {\r\n                if ($.fn.resetForm) {\r\n                    $(this.currentForm).resetForm();\r\n                }\r\n                this.submitted = {};\r\n                this.lastElement = null;\r\n                this.prepareForm();\r\n                this.hideErrors();\r\n                this.elements().removeClass(this.settings.errorClass).removeData(\"previousValue\");\r\n            },\r\n\r\n            numberOfInvalids: function () {\r\n                return this.objectLength(this.invalid);\r\n            },\r\n\r\n            objectLength: function (obj) {\r\n                var count = 0;\r\n                for (var i in obj) {\r\n                    count++;\r\n                }\r\n                return count;\r\n            },\r\n\r\n            hideErrors: function () {\r\n                this.addWrapper(this.toHide).hide();\r\n            },\r\n\r\n            valid: function () {\r\n                return this.size() === 0;\r\n            },\r\n\r\n            size: function () {\r\n                return this.errorList.length;\r\n            },\r\n\r\n            focusInvalid: function () {\r\n                if (this.settings.focusInvalid) {\r\n                    try {\r\n                        $(this.findLastActive() || this.errorList.length && this.errorList[0].element || [])\r\n                            .filter(\":visible\")\r\n                            .focus()\r\n                            // manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find\r\n                            .trigger(\"focusin\");\r\n                    } catch (e) {\r\n                        // ignore IE throwing errors when focusing hidden elements\r\n                    }\r\n                }\r\n            },\r\n\r\n            findLastActive: function () {\r\n                var lastActive = this.lastActive;\r\n                return lastActive && $.grep(this.errorList,function (n) {\r\n                    return n.element.name === lastActive.name;\r\n                }).length === 1 && lastActive;\r\n            },\r\n\r\n            elements: function () {\r\n                var validator = this,\r\n                    rulesCache = {};\r\n\r\n                // select all valid inputs inside the form (no submit or reset buttons)\r\n                return $(this.currentForm)\r\n                    .find(\"input, select, textarea\")\r\n                    .not(\":submit, :reset, :image, [disabled]\")\r\n                    .not(this.settings.ignore)\r\n                    .filter(function () {\r\n                        if (!this.name && validator.settings.debug && window.console) {\r\n                            console.error(\"%o has no name assigned\", this);\r\n                        }\r\n\r\n                        // select only the first element for each name, and only those with rules specified\r\n                        if (this.name in rulesCache || !validator.objectLength($(this).rules())) {\r\n                            return false;\r\n                        }\r\n\r\n                        rulesCache[this.name] = true;\r\n                        return true;\r\n                    });\r\n            },\r\n\r\n            clean: function (selector) {\r\n                return $(selector)[0];\r\n            },\r\n\r\n            errors: function () {\r\n                var errorClass = this.settings.errorClass.replace(' ', '.');\r\n                return $(this.settings.errorElement + \".\" + errorClass, this.errorContext);\r\n            },\r\n\r\n            reset: function () {\r\n                this.successList = [];\r\n                this.errorList = [];\r\n                this.errorMap = {};\r\n                this.toShow = $([]);\r\n                this.toHide = $([]);\r\n                this.currentElements = $([]);\r\n            },\r\n\r\n            prepareForm: function () {\r\n                this.reset();\r\n                this.toHide = this.errors().add(this.containers);\r\n            },\r\n\r\n            prepareElement: function (element) {\r\n                this.reset();\r\n                this.toHide = this.errorsFor(element);\r\n            },\r\n\r\n            elementValue: function (element) {\r\n                var type = $(element).attr('type'),\r\n                    val = $(element).val();\r\n\r\n                if (type === 'radio' || type === 'checkbox') {\r\n                    return $('input[name=\"' + $(element).attr('name') + '\"]:checked').val();\r\n                }\r\n\r\n                if (typeof val === 'string') {\r\n                    return val.replace(/\\r/g, \"\");\r\n                }\r\n                return val;\r\n            },\r\n\r\n            check: function (element) {\r\n                element = this.validationTargetFor(this.clean(element));\r\n\r\n                var rules = $(element).rules();\r\n                var dependencyMismatch = false;\r\n                var val = this.elementValue(element);\r\n                var result;\r\n\r\n                for (var method in rules) {\r\n                    var rule = { method: method, parameters: rules[method] };\r\n                    try {\r\n\r\n                        result = $.validator.methods[method].call(this, val, element, rule.parameters);\r\n\r\n                        // if a method indicates that the field is optional and therefore valid,\r\n                        // don't mark it as valid when there are no other rules\r\n                        if (result === \"dependency-mismatch\") {\r\n                            dependencyMismatch = true;\r\n                            continue;\r\n                        }\r\n                        dependencyMismatch = false;\r\n\r\n                        if (result === \"pending\") {\r\n                            this.toHide = this.toHide.not(this.errorsFor(element));\r\n                            return;\r\n                        }\r\n\r\n                        if (!result) {\r\n                            this.formatAndAdd(element, rule);\r\n                            return false;\r\n                        }\r\n                    } catch (e) {\r\n                        if (this.settings.debug && window.console) {\r\n                            console.log(\"exception occurred when checking element \" + element.id + \", check the '\" + rule.method + \"' method\", e);\r\n                        }\r\n                        throw e;\r\n                    }\r\n                }\r\n                if (dependencyMismatch) {\r\n                    return;\r\n                }\r\n                if (this.objectLength(rules)) {\r\n                    this.successList.push(element);\r\n                }\r\n                return true;\r\n            },\r\n\r\n            // return the custom message for the given element and validation method\r\n            // specified in the element's \"messages\" metadata\r\n            customMetaMessage: function (element, method) {\r\n                if (!$.metadata) {\r\n                    return;\r\n                }\r\n                var meta = this.settings.meta ? $(element).metadata()[this.settings.meta] : $(element).metadata();\r\n                return meta && meta.messages && meta.messages[method];\r\n            },\r\n\r\n            // return the custom message for the given element and validation method\r\n            // specified in the element's HTML5 data attribute\r\n            customDataMessage: function (element, method) {\r\n                return $(element).data('msg-' + method.toLowerCase()) || (element.attributes && $(element).attr('data-msg-' + method.toLowerCase()));\r\n            },\r\n\r\n            // return the custom message for the given element name and validation method\r\n            customMessage: function (name, method) {\r\n                var m = this.settings.messages[name];\r\n                return m && (m.constructor === String ? m : m[method]);\r\n            },\r\n\r\n            // return the first defined argument, allowing empty strings\r\n            findDefined: function () {\r\n                for (var i = 0; i < arguments.length; i++) {\r\n                    if (arguments[i] !== undefined) {\r\n                        return arguments[i];\r\n                    }\r\n                }\r\n                return undefined;\r\n            },\r\n\r\n            defaultMessage: function (element, method) {\r\n                var noMessage = $.mage.__(\"Warning: No message defined for %s\");\r\n                return this.findDefined(\r\n                    this.customMessage(element.name, method),\r\n                    this.customDataMessage(element, method),\r\n                    this.customMetaMessage(element, method),\r\n                    // title is never undefined, so handle empty string as undefined\r\n                    !this.settings.ignoreTitle && element.title || undefined,\r\n                    $.validator.messages[method],\r\n                    \"<strong>\" + noMessage.replace('%s', element.name) + \"</strong>\"\r\n                );\r\n            },\r\n\r\n            formatAndAdd: function (element, rule) {\r\n                var message = this.defaultMessage(element, rule.method),\r\n                    theregex = /\\$?\\{(\\d+)\\}/g;\r\n                if (typeof message === \"function\") {\r\n                    message = message.call(this, rule.parameters, element);\r\n                } else if (theregex.test(message)) {\r\n                    message = $.validator.format(message.replace(theregex, '{$1}'), rule.parameters);\r\n                }\r\n                this.errorList.push({\r\n                    message: message,\r\n                    element: element\r\n                });\r\n\r\n                this.errorMap[element.name] = message;\r\n                this.submitted[element.name] = message;\r\n            },\r\n\r\n            addWrapper: function (toToggle) {\r\n                if (this.settings.wrapper) {\r\n                    toToggle = toToggle.add(toToggle.parent(this.settings.wrapper));\r\n                }\r\n                return toToggle;\r\n            },\r\n\r\n            defaultShowErrors: function () {\r\n                var i, elements;\r\n                for (i = 0; this.errorList[i]; i++) {\r\n                    var error = this.errorList[i];\r\n                    if (this.settings.highlight) {\r\n                        this.settings.highlight.call(this, error.element, this.settings.errorClass, this.settings.validClass);\r\n                    }\r\n                    this.showLabel(error.element, error.message);\r\n                }\r\n                if (this.errorList.length) {\r\n                    this.toShow = this.toShow.add(this.containers);\r\n                }\r\n                if (this.settings.success) {\r\n                    for (i = 0; this.successList[i]; i++) {\r\n                        this.showLabel(this.successList[i]);\r\n                    }\r\n                }\r\n                if (this.settings.unhighlight) {\r\n                    for (i = 0, elements = this.validElements(); elements[i]; i++) {\r\n                        this.settings.unhighlight.call(this, elements[i], this.settings.errorClass, this.settings.validClass);\r\n                    }\r\n                }\r\n                this.toHide = this.toHide.not(this.toShow);\r\n                this.hideErrors();\r\n                this.addWrapper(this.toShow).show();\r\n            },\r\n\r\n            validElements: function () {\r\n                return this.currentElements.not(this.invalidElements());\r\n            },\r\n\r\n            invalidElements: function () {\r\n                return $(this.errorList).map(function () {\r\n                    return this.element;\r\n                });\r\n            },\r\n\r\n            showLabel: function (element, message) {\r\n                var label = this.errorsFor(element);\r\n                if (label.length) {\r\n                    // refresh error/success class\r\n                    label.removeClass(this.settings.validClass).addClass(this.settings.errorClass);\r\n\r\n                    // check if we have a generated label, replace the message then\r\n                    if (label.attr(\"generated\")) {\r\n                        label.hide().html(message);\r\n                    }\r\n                } else {\r\n                    // create label\r\n                    label = $(\"<\" + this.settings.errorElement + \"/>\")\r\n                        .attr({\"for\": this.idOrName(element), generated: true})\r\n                        .addClass(this.settings.errorClass)\r\n                        .html(message || \"\");\r\n                    if (this.settings.wrapper) {\r\n                        // make sure the element is visible, even in IE\r\n                        // actually showing the wrapped element is handled elsewhere\r\n                        label = label.hide().show().wrap(\"<\" + this.settings.wrapper + \"/>\").parent();\r\n                    }\r\n                    if (!this.labelContainer.append(label).length) {\r\n                        if (this.settings.errorPlacement) {\r\n                            this.settings.errorPlacement(label, $(element));\r\n                        } else {\r\n                            label.insertAfter(element);\r\n                        }\r\n                    }\r\n                }\r\n                if (!message && this.settings.success) {\r\n                    label.text(\"\");\r\n                    if (typeof this.settings.success === \"string\") {\r\n                        label.addClass(this.settings.success);\r\n                    } else {\r\n                        this.settings.success(label, element);\r\n                    }\r\n                }\r\n                this.toShow = this.toShow.add(label);\r\n            },\r\n\r\n            errorsFor: function (element) {\r\n                var name = this.idOrName(element);\r\n                return this.errors().filter(function () {\r\n                    return $(this).attr('for') === name;\r\n                });\r\n            },\r\n\r\n            idOrName: function (element) {\r\n                return this.groups[element.name] || (this.checkable(element) ? element.name : element.id || element.name);\r\n            },\r\n\r\n            validationTargetFor: function (element) {\r\n                // if radio/checkbox, validate first element in group instead\r\n                if (this.checkable(element)) {\r\n                    element = this.findByName(element.name).not(this.settings.ignore)[0];\r\n                }\r\n                return element;\r\n            },\r\n\r\n            checkable: function (element) {\r\n                return (/radio|checkbox/i).test(element.type);\r\n            },\r\n\r\n            findByName: function (name) {\r\n                return $(this.currentForm).find('[name=\"' + name + '\"]');\r\n            },\r\n\r\n            getLength: function (value, element) {\r\n                switch (element.nodeName.toLowerCase()) {\r\n                    case 'select':\r\n                        return $(\"option:selected\", element).length;\r\n                    case 'input':\r\n                        if (this.checkable(element)) {\r\n                            return this.findByName(element.name).filter(':checked').length;\r\n                        }\r\n                }\r\n                return value.length;\r\n            },\r\n\r\n            depend: function (param, element) {\r\n                return this.dependTypes[typeof param] ? this.dependTypes[typeof param](param, element) : true;\r\n            },\r\n\r\n            dependTypes: {\r\n                \"boolean\": function (param, element) {\r\n                    return param;\r\n                },\r\n                \"string\": function (param, element) {\r\n                    return !!$(param, element.form).length;\r\n                },\r\n                \"function\": function (param, element) {\r\n                    return param(element);\r\n                }\r\n            },\r\n\r\n            optional: function (element) {\r\n                var val = this.elementValue(element);\r\n                return !$.validator.methods.required.call(this, val, element) && \"dependency-mismatch\";\r\n            },\r\n\r\n            startRequest: function (element) {\r\n                if (!this.pending[element.name]) {\r\n                    this.pendingRequest++;\r\n                    this.pending[element.name] = true;\r\n                }\r\n            },\r\n\r\n            stopRequest: function (element, valid) {\r\n                this.pendingRequest--;\r\n                // sometimes synchronization fails, make sure pendingRequest is never < 0\r\n                if (this.pendingRequest < 0) {\r\n                    this.pendingRequest = 0;\r\n                }\r\n                delete this.pending[element.name];\r\n                if (valid && this.pendingRequest === 0 && this.formSubmitted && this.form()) {\r\n                    $(this.currentForm).submit();\r\n                    this.formSubmitted = false;\r\n                } else if (!valid && this.pendingRequest === 0 && this.formSubmitted) {\r\n                    $(this.currentForm).triggerHandler(\"invalid-form\", [this]);\r\n                    this.formSubmitted = false;\r\n                }\r\n            },\r\n\r\n            previousValue: function (element) {\r\n                return $.data(element, \"previousValue\") || $.data(element, \"previousValue\", {\r\n                    old: null,\r\n                    valid: true,\r\n                    message: this.defaultMessage(element, \"remote\")\r\n                });\r\n            }\r\n\r\n        },\r\n\r\n        classRuleSettings: {\r\n            required: {required: true},\r\n            email: {email: true},\r\n            url: {url: true},\r\n            date: {date: true},\r\n            dateISO: {dateISO: true},\r\n            number: {number: true},\r\n            digits: {digits: true},\r\n            creditcard: {creditcard: true}\r\n        },\r\n\r\n        addClassRules: function (className, rules) {\r\n            if (className.constructor === String) {\r\n                this.classRuleSettings[className] = rules;\r\n            } else {\r\n                $.extend(this.classRuleSettings, className);\r\n            }\r\n        },\r\n\r\n        classRules: function (element) {\r\n            var rules = {};\r\n            var classes = $(element).attr('class');\r\n            if (classes) {\r\n                $.each(classes.split(' '), function () {\r\n                    if (this in $.validator.classRuleSettings) {\r\n                        $.extend(rules, $.validator.classRuleSettings[this]);\r\n                    }\r\n                });\r\n            }\r\n            return rules;\r\n        },\r\n\r\n        attributeRules: function (element) {\r\n            var rules = {};\r\n            var $element = $(element);\r\n\r\n            for (var method in $.validator.methods) {\r\n                var value;\r\n\r\n                // support for <input required> in both html5 and older browsers\r\n                if (method === 'required') {\r\n                    value = $element.get(0).getAttribute(method);\r\n                    // Some browsers return an empty string for the required attribute\r\n                    // and non-HTML5 browsers might have required=\"\" markup\r\n                    if (value === \"\") {\r\n                        value = true;\r\n                    }\r\n                    // force non-HTML5 browsers to return bool\r\n                    value = !!value;\r\n                } else {\r\n                    value = $element.attr(method);\r\n                }\r\n\r\n                if (value) {\r\n                    rules[method] = value;\r\n                } else if ($element[0].getAttribute(\"type\") === method) {\r\n                    rules[method] = true;\r\n                }\r\n            }\r\n\r\n            // maxlength may be returned as -1, 2147483647 (IE) and 524288 (safari) for text inputs\r\n            if (rules.maxlength && /-1|2147483647|524288/.test(rules.maxlength)) {\r\n                delete rules.maxlength;\r\n            }\r\n\r\n            return rules;\r\n        },\r\n\r\n        metadataRules: function (element) {\r\n            if (!$.metadata) {\r\n                return {};\r\n            }\r\n\r\n            var meta = $.data(element.form, 'validator').settings.meta;\r\n            return meta ?\r\n                $(element).metadata()[meta] :\r\n                $(element).metadata();\r\n        },\r\n\r\n        staticRules: function (element) {\r\n            var rules = {};\r\n            var validator = $.data(element.form, 'validator');\r\n            if (validator.settings.rules) {\r\n                rules = $.validator.normalizeRule(validator.settings.rules[element.name]) || {};\r\n            }\r\n            return rules;\r\n        },\r\n\r\n        normalizeRules: function (rules, element) {\r\n            // handle dependency check\r\n            $.each(rules, function (prop, val) {\r\n                // ignore rule when param is explicitly false, eg. required:false\r\n                if (val === false) {\r\n                    delete rules[prop];\r\n                    return;\r\n                }\r\n                if (val.param || val.depends) {\r\n                    var keepRule = true;\r\n                    switch (typeof val.depends) {\r\n                        case \"string\":\r\n                            keepRule = !!$(val.depends, element.form).length;\r\n                            break;\r\n                        case \"function\":\r\n                            keepRule = val.depends.call(element, element);\r\n                            break;\r\n                    }\r\n                    if (keepRule) {\r\n                        rules[prop] = val.param !== undefined ? val.param : true;\r\n                    } else {\r\n                        delete rules[prop];\r\n                    }\r\n                }\r\n            });\r\n\r\n            // evaluate parameters\r\n            $.each(rules, function (rule, parameter) {\r\n                rules[rule] = $.isFunction(parameter) ? parameter(element) : parameter;\r\n            });\r\n\r\n            // clean number parameters\r\n            $.each(['minlength', 'maxlength', 'min', 'max'], function () {\r\n                if (rules[this]) {\r\n                    rules[this] = Number(rules[this]);\r\n                }\r\n            });\r\n            $.each(['rangelength', 'range'], function () {\r\n                if (rules[this]) {\r\n                    rules[this] = [Number(rules[this][0]), Number(rules[this][1])];\r\n                }\r\n            });\r\n\r\n            if ($.validator.autoCreateRanges) {\r\n                // auto-create ranges\r\n                if (rules.min && rules.max) {\r\n                    rules.range = [rules.min, rules.max];\r\n                    delete rules.min;\r\n                    delete rules.max;\r\n                }\r\n                if (rules.minlength && rules.maxlength) {\r\n                    rules.rangelength = [rules.minlength, rules.maxlength];\r\n                    delete rules.minlength;\r\n                    delete rules.maxlength;\r\n                }\r\n            }\r\n\r\n            // To support custom messages in metadata ignore rule methods titled \"messages\"\r\n            if (rules.messages) {\r\n                delete rules.messages;\r\n            }\r\n\r\n            return rules;\r\n        },\r\n\r\n        // Converts a simple string to a {string: true} rule, e.g., \"required\" to {required:true}\r\n        normalizeRule: function (data) {\r\n            if (typeof data === \"string\") {\r\n                var transformed = {};\r\n                $.each(data.split(/\\s/), function () {\r\n                    transformed[this] = true;\r\n                });\r\n                data = transformed;\r\n            }\r\n            return data;\r\n        },\r\n\r\n        // http://docs.jquery.com/Plugins/Validation/Validator/addMethod\r\n        addMethod: function (name, method, message) {\r\n            $.validator.methods[name] = method;\r\n            $.validator.messages[name] = message !== undefined ? message : $.validator.messages[name];\r\n            if (method.length < 3) {\r\n                $.validator.addClassRules(name, $.validator.normalizeRule(name));\r\n            }\r\n        },\r\n\r\n        methods: {\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/required\r\n            required: function (value, element, param) {\r\n                // check if dependency is met\r\n                if (!this.depend(param, element)) {\r\n                    return \"dependency-mismatch\";\r\n                }\r\n                if (element.nodeName.toLowerCase() === \"select\") {\r\n                    // could be an array for select-multiple or a string, both are fine this way\r\n                    var val = $(element).val();\r\n                    return val && val.length > 0;\r\n                }\r\n                if (this.checkable(element)) {\r\n                    return this.getLength(value, element) > 0;\r\n                }\r\n                return $.trim(value).length > 0;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/remote\r\n            remote: function (value, element, param) {\r\n                if (this.optional(element)) {\r\n                    return \"dependency-mismatch\";\r\n                }\r\n\r\n                var previous = this.previousValue(element);\r\n                if (!this.settings.messages[element.name]) {\r\n                    this.settings.messages[element.name] = {};\r\n                }\r\n                previous.originalMessage = this.settings.messages[element.name].remote;\r\n                this.settings.messages[element.name].remote = previous.message;\r\n\r\n                param = typeof param === \"string\" && {url: param} || param;\r\n\r\n                if (this.pending[element.name]) {\r\n                    return \"pending\";\r\n                }\r\n                if (previous.old === value) {\r\n                    return previous.valid;\r\n                }\r\n\r\n                previous.old = value;\r\n                var validator = this;\r\n                this.startRequest(element);\r\n                var data = {};\r\n                data[element.name] = value;\r\n                $.ajax($.extend(true, {\r\n                    url: param,\r\n                    mode: \"abort\",\r\n                    port: \"validate\" + element.name,\r\n                    dataType: \"json\",\r\n                    data: data,\r\n                    success: function (response) {\r\n                        validator.settings.messages[element.name].remote = previous.originalMessage;\r\n                        var valid = response === true || response === \"true\";\r\n                        if (valid) {\r\n                            var submitted = validator.formSubmitted;\r\n                            validator.prepareElement(element);\r\n                            validator.formSubmitted = submitted;\r\n                            validator.successList.push(element);\r\n                            delete validator.invalid[element.name];\r\n                            validator.showErrors();\r\n                        } else {\r\n                            var errors = {};\r\n                            var message = response || validator.defaultMessage(element, \"remote\");\r\n                            errors[element.name] = previous.message = $.isFunction(message) ? message(value) : message;\r\n                            validator.invalid[element.name] = true;\r\n                            validator.showErrors(errors);\r\n                        }\r\n                        previous.valid = valid;\r\n                        validator.stopRequest(element, valid);\r\n                    }\r\n                }, param));\r\n                return \"pending\";\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/minlength\r\n            minlength: function (value, element, param) {\r\n                var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\r\n                return this.optional(element) || length >= param;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/maxlength\r\n            maxlength: function (value, element, param) {\r\n                var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\r\n                return this.optional(element) || length <= param;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/rangelength\r\n            rangelength: function (value, element, param) {\r\n                var length = $.isArray(value) ? value.length : this.getLength($.trim(value), element);\r\n                return this.optional(element) || ( length >= param[0] && length <= param[1] );\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/min\r\n            min: function (value, element, param) {\r\n                return this.optional(element) || value >= param;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/max\r\n            max: function (value, element, param) {\r\n                return this.optional(element) || value <= param;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/range\r\n            range: function (value, element, param) {\r\n                return this.optional(element) || ( value >= param[0] && value <= param[1] );\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/email\r\n            email: function (value, element) {\r\n                // contributed by Scott Gonzalez: http://projects.scottsplayground.com/email_address_validation/\r\n                return this.optional(element) || /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i.test(value);\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/url\r\n            url: function (value, element) {\r\n                // contributed by Scott Gonzalez: http://projects.scottsplayground.com/iri/\r\n                return this.optional(element) || /^(https?|ftp):\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i.test(value);\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/date\r\n            date: function (value, element) {\r\n                return this.optional(element) || !/Invalid|NaN/.test(new Date(value));\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/dateISO\r\n            dateISO: function (value, element) {\r\n                return this.optional(element) || /^\\d{4}[\\/\\-]\\d{1,2}[\\/\\-]\\d{1,2}$/.test(value);\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/number\r\n            number: function (value, element) {\r\n                return this.optional(element) || /^-?(?:\\d+|\\d{1,3}(?:,\\d{3})+)?(?:\\.\\d+)?$/.test(value);\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/digits\r\n            digits: function (value, element) {\r\n                return this.optional(element) || /^\\d+$/.test(value);\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/creditcard\r\n            // based on http://en.wikipedia.org/wiki/Luhn\r\n            creditcard: function (value, element) {\r\n                if (this.optional(element)) {\r\n                    return \"dependency-mismatch\";\r\n                }\r\n                // accept only spaces, digits and dashes\r\n                if (/[^0-9 \\-]+/.test(value)) {\r\n                    return false;\r\n                }\r\n                var nCheck = 0,\r\n                    nDigit = 0,\r\n                    bEven = false;\r\n\r\n                value = value.replace(/\\D/g, \"\");\r\n\r\n                for (var n = value.length - 1; n >= 0; n--) {\r\n                    var cDigit = value.charAt(n);\r\n                    nDigit = parseInt(cDigit, 10);\r\n                    if (bEven) {\r\n                        if ((nDigit *= 2) > 9) {\r\n                            nDigit -= 9;\r\n                        }\r\n                    }\r\n                    nCheck += nDigit;\r\n                    bEven = !bEven;\r\n                }\r\n\r\n                return (nCheck % 10) === 0;\r\n            },\r\n\r\n            // http://docs.jquery.com/Plugins/Validation/Methods/equalTo\r\n            equalTo: function (value, element, param) {\r\n                // bind to the blur event of the target in order to revalidate whenever the target field is updated\r\n                // TODO find a way to bind the event just once, avoiding the unbind-rebind overhead\r\n                var target = $(param);\r\n                if (this.settings.onfocusout) {\r\n                    target.unbind(\".validate-equalTo\").bind(\"blur.validate-equalTo\", function () {\r\n                        $(element).valid();\r\n                    });\r\n                }\r\n                return value === target.val();\r\n            }\r\n\r\n        }\r\n\r\n    });\r\n\r\n// deprecated, use $.validator.format instead\r\n    $.format = $.validator.format;\r\n\r\n}(jQuery));\r\n\r\n// ajax mode: abort\r\n// usage: $.ajax({ mode: \"abort\"[, port: \"uniqueport\"]});\r\n// if mode:\"abort\" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()\r\n(function ($) {\r\n    var pendingRequests = {};\r\n    // Use a prefilter if available (1.5+)\r\n    if ($.ajaxPrefilter) {\r\n        $.ajaxPrefilter(function (settings, _, xhr) {\r\n            var port = settings.port;\r\n            if (settings.mode === \"abort\") {\r\n                if (pendingRequests[port]) {\r\n                    pendingRequests[port].abort();\r\n                }\r\n                pendingRequests[port] = xhr;\r\n            }\r\n        });\r\n    } else {\r\n        // Proxy ajax\r\n        var ajax = $.ajax;\r\n        $.ajax = function (settings) {\r\n            var mode = ( \"mode\" in settings ? settings : $.ajaxSettings ).mode,\r\n                port = ( \"port\" in settings ? settings : $.ajaxSettings ).port;\r\n            if (mode === \"abort\") {\r\n                if (pendingRequests[port]) {\r\n                    pendingRequests[port].abort();\r\n                }\r\n                return (pendingRequests[port] = ajax.apply(this, arguments));\r\n            }\r\n            return ajax.apply(this, arguments);\r\n        };\r\n    }\r\n}(jQuery));\r\n\r\n// provides cross-browser focusin and focusout events\r\n// IE has native support, in other browsers, use event caputuring (neither bubbles)\r\n\r\n// provides delegate(type: String, delegate: Selector, handler: Callback) plugin for easier event delegation\r\n// handler is only called when $(event.target).is(delegate), in the scope of the jquery-object for event.target\r\n(function ($) {\r\n    // only implement if not provided by jQuery core (since 1.4)\r\n    // TODO verify if jQuery 1.4's implementation is compatible with older jQuery special-event APIs\r\n    if (!jQuery.event.special.focusin && !jQuery.event.special.focusout && document.addEventListener) {\r\n        $.each({\r\n            focus: 'focusin',\r\n            blur: 'focusout'\r\n        }, function (original, fix) {\r\n            $.event.special[fix] = {\r\n                setup: function () {\r\n                    this.addEventListener(original, handler, true);\r\n                },\r\n                teardown: function () {\r\n                    this.removeEventListener(original, handler, true);\r\n                },\r\n                handler: function (e) {\r\n                    var args = arguments;\r\n                    args[0] = $.event.fix(e);\r\n                    args[0].type = fix;\r\n                    return $.event.handle.apply(this, args);\r\n                }\r\n            };\r\n            function handler(e) {\r\n                e = $.event.fix(e);\r\n                e.type = fix;\r\n                return $.event.handle.call(this, e);\r\n            }\r\n        });\r\n    }\r\n    $.extend($.fn, {\r\n        validateDelegate: function (delegate, type, handler) {\r\n            return this.bind(type, function (event) {\r\n                var target = $(event.target);\r\n                if (target.is(delegate)) {\r\n                    return handler.apply(target, arguments);\r\n                }\r\n            });\r\n        }\r\n    });\r\n}(jQuery));\r\n\r\n}));","jquery/colorpicker/js/colorpicker.js":"/**\r\n *\r\n * Color picker\r\n * Author: Stefan Petre www.eyecon.ro\r\n * \r\n * Dual licensed under the MIT and GPL licenses\r\n * \r\n */\r\n\r\ndefine([\r\n\t\"jquery\",\r\n], function ($) {\r\n\tvar ColorPicker = function () {\r\n\t\tvar\r\n\t\t\tids = {},\r\n\t\t\tinAction,\r\n\t\t\tcharMin = 65,\r\n\t\t\tvisible,\r\n\t\t\ttpl = '<div class=\"colorpicker\"><div class=\"colorpicker_color\"><div><div></div></div></div><div class=\"colorpicker_hue\"><div></div></div><div class=\"colorpicker_new_color\"></div><div class=\"colorpicker_current_color\"></div><div class=\"colorpicker_hex\"><input type=\"text\" maxlength=\"6\" size=\"6\" /></div><div class=\"colorpicker_rgb_r colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_g colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_rgb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_h colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_s colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_hsb_b colorpicker_field\"><input type=\"text\" maxlength=\"3\" size=\"3\" /><span></span></div><div class=\"colorpicker_submit\"></div></div>',\r\n\t\t\tdefaults = {\r\n\t\t\t\teventName: 'click',\r\n\t\t\t\tonShow: function () {},\r\n\t\t\t\tonBeforeShow: function(){},\r\n\t\t\t\tonHide: function () {},\r\n\t\t\t\tonChange: function () {},\r\n\t\t\t\tonSubmit: function () {},\r\n\t\t\t\tcolor: 'ff0000',\r\n\t\t\t\tlivePreview: true,\r\n\t\t\t\tflat: false\r\n\t\t\t},\r\n\t\t\tfillRGBFields = function  (hsb, cal) {\r\n\t\t\t\tvar rgb = HSBToRGB(hsb);\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(1).val(rgb.r).end()\r\n\t\t\t\t\t.eq(2).val(rgb.g).end()\r\n\t\t\t\t\t.eq(3).val(rgb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHSBFields = function  (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(4).val(hsb.h).end()\r\n\t\t\t\t\t.eq(5).val(hsb.s).end()\r\n\t\t\t\t\t.eq(6).val(hsb.b).end();\r\n\t\t\t},\r\n\t\t\tfillHexFields = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').fields\r\n\t\t\t\t\t.eq(0).val(HSBToHex(hsb)).end();\r\n\t\t\t},\r\n\t\t\tsetSelector = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').selector.css('backgroundColor', '#' + HSBToHex({h: hsb.h, s: 100, b: 100}));\r\n\t\t\t\t$(cal).data('colorpicker').selectorIndic.css({\r\n\t\t\t\t\tleft: parseInt(150 * hsb.s/100, 10),\r\n\t\t\t\t\ttop: parseInt(150 * (100-hsb.b)/100, 10)\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetHue = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').hue.css('top', parseInt(150 - 150 * hsb.h/360, 10));\r\n\t\t\t},\r\n\t\t\tsetCurrentColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').currentColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tsetNewColor = function (hsb, cal) {\r\n\t\t\t\t$(cal).data('colorpicker').newColor.css('backgroundColor', '#' + HSBToHex(hsb));\r\n\t\t\t},\r\n\t\t\tkeyDown = function (ev) {\r\n\t\t\t\tvar pressedKey = ev.charCode || ev.keyCode || -1;\r\n\t\t\t\tif ((pressedKey > charMin && pressedKey <= 90) || pressedKey == 32) {\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tif (cal.data('colorpicker').livePreview === true) {\r\n\t\t\t\t\tchange.apply(this);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tchange = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent(), col;\r\n\t\t\t\tif (this.parentNode.className.indexOf('_hex') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = HexToHSB(fixHex(this.value));\r\n\t\t\t\t} else if (this.parentNode.className.indexOf('_hsb') > 0) {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = fixHSB({\r\n\t\t\t\t\t\th: parseInt(cal.data('colorpicker').fields.eq(4).val(), 10),\r\n\t\t\t\t\t\ts: parseInt(cal.data('colorpicker').fields.eq(5).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(6).val(), 10)\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tcal.data('colorpicker').color = col = RGBToHSB(fixRGB({\r\n\t\t\t\t\t\tr: parseInt(cal.data('colorpicker').fields.eq(1).val(), 10),\r\n\t\t\t\t\t\tg: parseInt(cal.data('colorpicker').fields.eq(2).val(), 10),\r\n\t\t\t\t\t\tb: parseInt(cal.data('colorpicker').fields.eq(3).val(), 10)\r\n\t\t\t\t\t}));\r\n\t\t\t\t}\r\n\t\t\t\tif (ev) {\r\n\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t}\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onChange.apply(cal, [col, HSBToHex(col), HSBToRGB(col)]);\r\n\t\t\t},\r\n\t\t\tblur = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent().parent();\r\n\t\t\t\tcal.data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tfocus = function () {\r\n\t\t\t\tcharMin = this.parentNode.className.indexOf('_hex') > 0 ? 70 : 65;\r\n\t\t\t\t$(this).parent().parent().data('colorpicker').fields.parent().removeClass('colorpicker_focus');\r\n\t\t\t\t$(this).parent().addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tdownIncrement = function (ev) {\r\n\t\t\t\tvar field = $(this).parent().find('input').focus();\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tel: $(this).parent().addClass('colorpicker_slider'),\r\n\t\t\t\t\tmax: this.parentNode.className.indexOf('_hsb_h') > 0 ? 360 : (this.parentNode.className.indexOf('_hsb') > 0 ? 100 : 255),\r\n\t\t\t\t\ty: ev.pageY,\r\n\t\t\t\t\tfield: field,\r\n\t\t\t\t\tval: parseInt(field.val(), 10),\r\n\t\t\t\t\tpreview: $(this).parent().parent().data('colorpicker').livePreview\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t$(document).bind('mouseup', current, upIncrement);\r\n\t\t\t\t$(document).bind('mousemove', current, moveIncrement);\r\n\t\t\t},\r\n\t\t\tmoveIncrement = function (ev) {\r\n\t\t\t\tev.data.field.val(Math.max(0, Math.min(ev.data.max, parseInt(ev.data.val + ev.pageY - ev.data.y, 10))));\r\n\t\t\t\tif (ev.data.preview) {\r\n\t\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupIncrement = function (ev) {\r\n\t\t\t\tchange.apply(ev.data.field.get(0), [true]);\r\n\t\t\t\tev.data.el.removeClass('colorpicker_slider').find('input').focus();\r\n\t\t\t\t$(document).unbind('mouseup', upIncrement);\r\n\t\t\t\t$(document).unbind('mousemove', moveIncrement);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownHue = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\ty: $(this).offset().top\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upHue);\r\n\t\t\t\t$(document).bind('mousemove', current, moveHue);\r\n\t\t\t},\r\n\t\t\tmoveHue = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(4)\r\n\t\t\t\t\t\t.val(parseInt(360*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.y))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupHue = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upHue);\r\n\t\t\t\t$(document).unbind('mousemove', moveHue);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tdownSelector = function (ev) {\r\n\t\t\t\tvar current = {\r\n\t\t\t\t\tcal: $(this).parent(),\r\n\t\t\t\t\tpos: $(this).offset()\r\n\t\t\t\t};\r\n\t\t\t\tcurrent.preview = current.cal.data('colorpicker').livePreview;\r\n\t\t\t\t$(document).bind('mouseup', current, upSelector);\r\n\t\t\t\t$(document).bind('mousemove', current, moveSelector);\r\n\t\t\t},\r\n\t\t\tmoveSelector = function (ev) {\r\n\t\t\t\tchange.apply(\r\n\t\t\t\t\tev.data.cal.data('colorpicker')\r\n\t\t\t\t\t\t.fields\r\n\t\t\t\t\t\t.eq(6)\r\n\t\t\t\t\t\t.val(parseInt(100*(150 - Math.max(0,Math.min(150,(ev.pageY - ev.data.pos.top))))/150, 10))\r\n\t\t\t\t\t\t.end()\r\n\t\t\t\t\t\t.eq(5)\r\n\t\t\t\t\t\t.val(parseInt(100*(Math.max(0,Math.min(150,(ev.pageX - ev.data.pos.left))))/150, 10))\r\n\t\t\t\t\t\t.get(0),\r\n\t\t\t\t\t[ev.data.preview]\r\n\t\t\t\t);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tupSelector = function (ev) {\r\n\t\t\t\tfillRGBFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\tfillHexFields(ev.data.cal.data('colorpicker').color, ev.data.cal.get(0));\r\n\t\t\t\t$(document).unbind('mouseup', upSelector);\r\n\t\t\t\t$(document).unbind('mousemove', moveSelector);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tenterSubmit = function (ev) {\r\n\t\t\t\t$(this).addClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tleaveSubmit = function (ev) {\r\n\t\t\t\t$(this).removeClass('colorpicker_focus');\r\n\t\t\t},\r\n\t\t\tclickSubmit = function (ev) {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').color;\r\n\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\tcal.data('colorpicker').onSubmit(col, HSBToHex(col), HSBToRGB(col), cal.data('colorpicker').el);\r\n\t\t\t},\r\n\t\t\tshow = function (ev) {\r\n\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\tcal.data('colorpicker').onBeforeShow.apply(this, [cal.get(0)]);\r\n\t\t\t\tvar pos = $(this).offset();\r\n\t\t\t\tvar viewPort = getViewport();\r\n\t\t\t\tvar top = pos.top + this.offsetHeight;\r\n\t\t\t\tvar left = pos.left;\r\n\t\t\t\tif (top + 176 > viewPort.t + viewPort.h) {\r\n\t\t\t\t\ttop -= this.offsetHeight + 176;\r\n\t\t\t\t}\r\n\t\t\t\tif (left + 356 > viewPort.l + viewPort.w) {\r\n\t\t\t\t\tleft -= 356;\r\n\t\t\t\t}\r\n\t\t\t\tcal.css({left: left + 'px', top: top + 'px'});\r\n\t\t\t\tif (cal.data('colorpicker').onShow.apply(this, [cal.get(0)]) != false) {\r\n\t\t\t\t\tcal.show();\r\n\t\t\t\t}\r\n\t\t\t\t$(document).bind('mousedown', {cal: cal}, hide);\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\thide = function (ev) {\r\n\t\t\t\tif (!isChildOf(ev.data.cal.get(0), ev.target, ev.data.cal.get(0))) {\r\n\t\t\t\t\tif (ev.data.cal.data('colorpicker').onHide.apply(this, [ev.data.cal.get(0)]) != false) {\r\n\t\t\t\t\t\tev.data.cal.hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t\t$(document).unbind('mousedown', hide);\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tisChildOf = function(parentEl, el, container) {\r\n\t\t\t\tif (parentEl == el) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t\tif (parentEl.contains) {\r\n\t\t\t\t\treturn parentEl.contains(el);\r\n\t\t\t\t}\r\n\t\t\t\tif ( parentEl.compareDocumentPosition ) {\r\n\t\t\t\t\treturn !!(parentEl.compareDocumentPosition(el) & 16);\r\n\t\t\t\t}\r\n\t\t\t\tvar prEl = el.parentNode;\r\n\t\t\t\twhile(prEl && prEl != container) {\r\n\t\t\t\t\tif (prEl == parentEl)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\tprEl = prEl.parentNode;\r\n\t\t\t\t}\r\n\t\t\t\treturn false;\r\n\t\t\t},\r\n\t\t\tgetViewport = function () {\r\n\t\t\t\tvar m = document.compatMode == 'CSS1Compat';\r\n\t\t\t\treturn {\r\n\t\t\t\t\tl : window.pageXOffset || (m ? document.documentElement.scrollLeft : document.body.scrollLeft),\r\n\t\t\t\t\tt : window.pageYOffset || (m ? document.documentElement.scrollTop : document.body.scrollTop),\r\n\t\t\t\t\tw : window.innerWidth || (m ? document.documentElement.clientWidth : document.body.clientWidth),\r\n\t\t\t\t\th : window.innerHeight || (m ? document.documentElement.clientHeight : document.body.clientHeight)\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHSB = function (hsb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\th: Math.min(360, Math.max(0, hsb.h)),\r\n\t\t\t\t\ts: Math.min(100, Math.max(0, hsb.s)),\r\n\t\t\t\t\tb: Math.min(100, Math.max(0, hsb.b))\r\n\t\t\t\t};\r\n\t\t\t}, \r\n\t\t\tfixRGB = function (rgb) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tr: Math.min(255, Math.max(0, rgb.r)),\r\n\t\t\t\t\tg: Math.min(255, Math.max(0, rgb.g)),\r\n\t\t\t\t\tb: Math.min(255, Math.max(0, rgb.b))\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\tfixHex = function (hex) {\r\n\t\t\t\tvar len = 6 - hex.length;\r\n\t\t\t\tif (len > 0) {\r\n\t\t\t\t\tvar o = [];\r\n\t\t\t\t\tfor (var i=0; i<len; i++) {\r\n\t\t\t\t\t\to.push('0');\r\n\t\t\t\t\t}\r\n\t\t\t\t\to.push(hex);\r\n\t\t\t\t\thex = o.join('');\r\n\t\t\t\t}\r\n\t\t\t\treturn hex;\r\n\t\t\t}, \r\n\t\t\tHexToRGB = function (hex) {\r\n\t\t\t\tvar hex = parseInt(((hex.indexOf('#') > -1) ? hex.substring(1) : hex), 16);\r\n\t\t\t\treturn {r: hex >> 16, g: (hex & 0x00FF00) >> 8, b: (hex & 0x0000FF)};\r\n\t\t\t},\r\n\t\t\tHexToHSB = function (hex) {\r\n\t\t\t\treturn RGBToHSB(HexToRGB(hex));\r\n\t\t\t},\r\n\t\t\tRGBToHSB = function (rgb) {\r\n\t\t\t\tvar hsb = {\r\n\t\t\t\t\th: 0,\r\n\t\t\t\t\ts: 0,\r\n\t\t\t\t\tb: 0\r\n\t\t\t\t};\r\n\t\t\t\tvar min = Math.min(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar max = Math.max(rgb.r, rgb.g, rgb.b);\r\n\t\t\t\tvar delta = max - min;\r\n\t\t\t\thsb.b = max;\r\n\t\t\t\tif (max != 0) {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\thsb.s = max != 0 ? 255 * delta / max : 0;\r\n\t\t\t\tif (hsb.s != 0) {\r\n\t\t\t\t\tif (rgb.r == max) {\r\n\t\t\t\t\t\thsb.h = (rgb.g - rgb.b) / delta;\r\n\t\t\t\t\t} else if (rgb.g == max) {\r\n\t\t\t\t\t\thsb.h = 2 + (rgb.b - rgb.r) / delta;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\thsb.h = 4 + (rgb.r - rgb.g) / delta;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\thsb.h = -1;\r\n\t\t\t\t}\r\n\t\t\t\thsb.h *= 60;\r\n\t\t\t\tif (hsb.h < 0) {\r\n\t\t\t\t\thsb.h += 360;\r\n\t\t\t\t}\r\n\t\t\t\thsb.s *= 100/255;\r\n\t\t\t\thsb.b *= 100/255;\r\n\t\t\t\treturn hsb;\r\n\t\t\t},\r\n\t\t\tHSBToRGB = function (hsb) {\r\n\t\t\t\tvar rgb = {};\r\n\t\t\t\tvar h = Math.round(hsb.h);\r\n\t\t\t\tvar s = Math.round(hsb.s*255/100);\r\n\t\t\t\tvar v = Math.round(hsb.b*255/100);\r\n\t\t\t\tif(s == 0) {\r\n\t\t\t\t\trgb.r = rgb.g = rgb.b = v;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar t1 = v;\r\n\t\t\t\t\tvar t2 = (255-s)*v/255;\r\n\t\t\t\t\tvar t3 = (t1-t2)*(h%60)/60;\r\n\t\t\t\t\tif(h==360) h = 0;\r\n\t\t\t\t\tif(h<60) {rgb.r=t1;\trgb.b=t2; rgb.g=t2+t3}\r\n\t\t\t\t\telse if(h<120) {rgb.g=t1; rgb.b=t2;\trgb.r=t1-t3}\r\n\t\t\t\t\telse if(h<180) {rgb.g=t1; rgb.r=t2;\trgb.b=t2+t3}\r\n\t\t\t\t\telse if(h<240) {rgb.b=t1; rgb.r=t2;\trgb.g=t1-t3}\r\n\t\t\t\t\telse if(h<300) {rgb.b=t1; rgb.g=t2;\trgb.r=t2+t3}\r\n\t\t\t\t\telse if(h<360) {rgb.r=t1; rgb.g=t2;\trgb.b=t1-t3}\r\n\t\t\t\t\telse {rgb.r=0; rgb.g=0;\trgb.b=0}\r\n\t\t\t\t}\r\n\t\t\t\treturn {r:Math.round(rgb.r), g:Math.round(rgb.g), b:Math.round(rgb.b)};\r\n\t\t\t},\r\n\t\t\tRGBToHex = function (rgb) {\r\n\t\t\t\tvar hex = [\r\n\t\t\t\t\trgb.r.toString(16),\r\n\t\t\t\t\trgb.g.toString(16),\r\n\t\t\t\t\trgb.b.toString(16)\r\n\t\t\t\t];\r\n\t\t\t\t$.each(hex, function (nr, val) {\r\n\t\t\t\t\tif (val.length == 1) {\r\n\t\t\t\t\t\thex[nr] = '0' + val;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\treturn hex.join('');\r\n\t\t\t},\r\n\t\t\tHSBToHex = function (hsb) {\r\n\t\t\t\treturn RGBToHex(HSBToRGB(hsb));\r\n\t\t\t},\r\n\t\t\trestoreOriginal = function () {\r\n\t\t\t\tvar cal = $(this).parent();\r\n\t\t\t\tvar col = cal.data('colorpicker').origColor;\r\n\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t};\r\n\t\treturn {\r\n\t\t\tinit: function (opt) {\r\n\t\t\t\topt = $.extend({}, defaults, opt||{});\r\n\t\t\t\tif (typeof opt.color == 'string') {\r\n\t\t\t\t\topt.color = HexToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.r != undefined && opt.color.g != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = RGBToHSB(opt.color);\r\n\t\t\t\t} else if (opt.color.h != undefined && opt.color.s != undefined && opt.color.b != undefined) {\r\n\t\t\t\t\topt.color = fixHSB(opt.color);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function () {\r\n\t\t\t\t\tif (!$(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar options = $.extend({}, opt);\r\n\t\t\t\t\t\toptions.origColor = opt.color;\r\n\t\t\t\t\t\tvar id = 'collorpicker_' + parseInt(Math.random() * 1000);\r\n\t\t\t\t\t\t$(this).data('colorpickerId', id);\r\n\t\t\t\t\t\tvar cal = $(tpl).attr('id', id);\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.appendTo(this).show();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tcal.appendTo(document.body);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\toptions.fields = cal\r\n\t\t\t\t\t\t\t\t\t\t\t.find('input')\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('keyup', keyDown)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('change', change)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('blur', blur)\r\n\t\t\t\t\t\t\t\t\t\t\t\t.bind('focus', focus);\r\n\t\t\t\t\t\tcal\r\n\t\t\t\t\t\t\t.find('span').bind('mousedown', downIncrement).end()\r\n\t\t\t\t\t\t\t.find('>div.colorpicker_current_color').bind('click', restoreOriginal);\r\n\t\t\t\t\t\toptions.selector = cal.find('div.colorpicker_color').bind('mousedown', downSelector);\r\n\t\t\t\t\t\toptions.selectorIndic = options.selector.find('div div');\r\n\t\t\t\t\t\toptions.el = this;\r\n\t\t\t\t\t\toptions.hue = cal.find('div.colorpicker_hue div');\r\n\t\t\t\t\t\tcal.find('div.colorpicker_hue').bind('mousedown', downHue);\r\n\t\t\t\t\t\toptions.newColor = cal.find('div.colorpicker_new_color');\r\n\t\t\t\t\t\toptions.currentColor = cal.find('div.colorpicker_current_color');\r\n\t\t\t\t\t\tcal.data('colorpicker', options);\r\n\t\t\t\t\t\tcal.find('div.colorpicker_submit')\r\n\t\t\t\t\t\t\t.bind('mouseenter', enterSubmit)\r\n\t\t\t\t\t\t\t.bind('mouseleave', leaveSubmit)\r\n\t\t\t\t\t\t\t.bind('click', clickSubmit);\r\n\t\t\t\t\t\tfillRGBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetHue(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(options.color, cal.get(0));\r\n\t\t\t\t\t\tif (options.flat) {\r\n\t\t\t\t\t\t\tcal.css({\r\n\t\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\t\tdisplay: 'block'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t$(this).bind(options.eventName, show);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tshowPicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tshow.apply(this);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\thidePicker: function() {\r\n\t\t\t\treturn this.each( function () {\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\t$('#' + $(this).data('colorpickerId')).hide();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsetColor: function(col) {\r\n\t\t\t\tif (typeof col == 'string') {\r\n\t\t\t\t\tcol = HexToHSB(col);\r\n\t\t\t\t} else if (col.r != undefined && col.g != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = RGBToHSB(col);\r\n\t\t\t\t} else if (col.h != undefined && col.s != undefined && col.b != undefined) {\r\n\t\t\t\t\tcol = fixHSB(col);\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this;\r\n\t\t\t\t}\r\n\t\t\t\treturn this.each(function(){\r\n\t\t\t\t\tif ($(this).data('colorpickerId')) {\r\n\t\t\t\t\t\tvar cal = $('#' + $(this).data('colorpickerId'));\r\n\t\t\t\t\t\tcal.data('colorpicker').color = col;\r\n\t\t\t\t\t\tcal.data('colorpicker').origColor = col;\r\n\t\t\t\t\t\tfillRGBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHSBFields(col, cal.get(0));\r\n\t\t\t\t\t\tfillHexFields(col, cal.get(0));\r\n\t\t\t\t\t\tsetHue(col, cal.get(0));\r\n\t\t\t\t\t\tsetSelector(col, cal.get(0));\r\n\t\t\t\t\t\tsetCurrentColor(col, cal.get(0));\r\n\t\t\t\t\t\tsetNewColor(col, cal.get(0));\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t};\r\n\t}();\r\n\t$.fn.extend({\r\n\t\tColorPicker: ColorPicker.init,\r\n\t\tColorPickerHide: ColorPicker.hidePicker,\r\n\t\tColorPickerShow: ColorPicker.showPicker,\r\n\t\tColorPickerSetColor: ColorPicker.setColor\r\n\t});\r\n});","knockoutjs/knockout-es5.js":"/*!\r\n * Knockout ES5 plugin - https://github.com/SteveSanderson/knockout-es5\r\n * Copyright (c) Steve Sanderson\r\n * MIT license\r\n */\r\n\r\n(function(global, undefined) {\r\n  'use strict';\r\n\r\n  var ko;\r\n\r\n  // Model tracking\r\n  // --------------\r\n  //\r\n  // This is the central feature of Knockout-ES5. We augment model objects by converting properties\r\n  // into ES5 getter/setter pairs that read/write an underlying Knockout observable. This means you can\r\n  // use plain JavaScript syntax to read/write the property while still getting the full benefits of\r\n  // Knockout's automatic dependency detection and notification triggering.\r\n  //\r\n  // For comparison, here's Knockout ES3-compatible syntax:\r\n  //\r\n  //     var firstNameLength = myModel.user().firstName().length; // Read\r\n  //     myModel.user().firstName('Bert'); // Write\r\n  //\r\n  // ... versus Knockout-ES5 syntax:\r\n  //\r\n  //     var firstNameLength = myModel.user.firstName.length; // Read\r\n  //     myModel.user.firstName = 'Bert'; // Write\r\n\r\n  // `ko.track(model)` converts each property on the given model object into a getter/setter pair that\r\n  // wraps a Knockout observable. Optionally specify an array of property names to wrap; otherwise we\r\n  // wrap all properties. If any of the properties are already observables, we replace them with\r\n  // ES5 getter/setter pairs that wrap your original observable instances. In the case of readonly\r\n  // ko.computed properties, we simply do not define a setter (so attempted writes will be ignored,\r\n  // which is how ES5 readonly properties normally behave).\r\n  //\r\n  // By design, this does *not* recursively walk child object properties, because making literally\r\n  // everything everywhere independently observable is usually unhelpful. When you do want to track\r\n  // child object properties independently, define your own class for those child objects and put\r\n  // a separate ko.track call into its constructor --- this gives you far more control.\r\n  /**\r\n   * @param {object} obj\r\n   * @param {object|array.<string>} propertyNamesOrSettings\r\n   * @param {boolean} propertyNamesOrSettings.deep Use deep track.\r\n   * @param {array.<string>} propertyNamesOrSettings.fields Array of property names to wrap.\r\n   * todo: @param {array.<string>} propertyNamesOrSettings.exclude Array of exclude property names to wrap.\r\n   * todo: @param {function(string, *):boolean} propertyNamesOrSettings.filter Function to filter property \r\n   *   names to wrap. A function that takes ... params\r\n   * @return {object}\r\n   */\r\n  function track(obj, propertyNamesOrSettings) {\r\n    if (!obj || typeof obj !== 'object') {\r\n      throw new Error('When calling ko.track, you must pass an object as the first parameter.');\r\n    }\r\n\r\n    var propertyNames;\r\n\r\n    if ( isPlainObject(propertyNamesOrSettings) ) {\r\n      // defaults\r\n      propertyNamesOrSettings.deep = propertyNamesOrSettings.deep || false;\r\n      propertyNamesOrSettings.fields = propertyNamesOrSettings.fields || Object.getOwnPropertyNames(obj);\r\n      propertyNamesOrSettings.lazy = propertyNamesOrSettings.lazy || false;\r\n\r\n      wrap(obj, propertyNamesOrSettings.fields, propertyNamesOrSettings);\r\n    } else {\r\n      propertyNames = propertyNamesOrSettings || Object.getOwnPropertyNames(obj);\r\n      wrap(obj, propertyNames, {});\r\n    }\r\n\r\n    return obj;\r\n  }\r\n\r\n  // fix for ie\r\n  var rFunctionName = /^function\\s*([^\\s(]+)/;\r\n  function getFunctionName( ctor ){\r\n    if (ctor.name) {\r\n      return ctor.name;\r\n    }\r\n    return (ctor.toString().trim().match( rFunctionName ) || [])[1];\r\n  }\r\n\r\n  function canTrack(obj) {\r\n    return obj && typeof obj === 'object' && getFunctionName(obj.constructor) === 'Object';\r\n  }\r\n\r\n  function createPropertyDescriptor(originalValue, prop, map) {\r\n    var isObservable = ko.isObservable(originalValue);\r\n    var isArray = !isObservable && Array.isArray(originalValue);\r\n    var observable = isObservable ? originalValue\r\n        : isArray ? ko.observableArray(originalValue)\r\n        : ko.observable(originalValue);\r\n\r\n    map[prop] = function () { return observable; };\r\n\r\n    // add check in case the object is already an observable array\r\n    if (isArray || (isObservable && 'push' in observable)) {\r\n      notifyWhenPresentOrFutureArrayValuesMutate(ko, observable);\r\n    }\r\n\r\n    return {\r\n      configurable: true,\r\n      enumerable: true,\r\n      get: observable,\r\n      set: ko.isWriteableObservable(observable) ? observable : undefined\r\n    };\r\n  }\r\n\r\n  function createLazyPropertyDescriptor(originalValue, prop, map) {\r\n    if (ko.isObservable(originalValue)) {\r\n      // no need to be lazy if we already have an observable\r\n      return createPropertyDescriptor(originalValue, prop, map);\r\n    }\r\n\r\n    var observable;\r\n\r\n    function getOrCreateObservable(value, writing) {\r\n      if (observable) {\r\n        return writing ? observable(value) : observable;\r\n      }\r\n\r\n      if (Array.isArray(value)) {\r\n        observable = ko.observableArray(value);\r\n        notifyWhenPresentOrFutureArrayValuesMutate(ko, observable);\r\n        return observable;\r\n      }\r\n\r\n      return (observable = ko.observable(value));\r\n    }\r\n\r\n    map[prop] = function () { return getOrCreateObservable(originalValue); };\r\n    return {\r\n      configurable: true,\r\n      enumerable: true,\r\n      get: function () { return getOrCreateObservable(originalValue)(); },\r\n      set: function (value) { getOrCreateObservable(value, true); }\r\n    };\r\n  }\r\n\r\n  function wrap(obj, props, options) {\r\n    if (!props.length) {\r\n      return;\r\n    }\r\n\r\n    var allObservablesForObject = getAllObservablesForObject(obj, true);\r\n    var descriptors = {};\r\n\r\n    props.forEach(function (prop) {\r\n      // Skip properties that are already tracked\r\n      if (prop in allObservablesForObject) {\r\n        return;\r\n      }\r\n\r\n      // Skip properties where descriptor can't be redefined\r\n      if (Object.getOwnPropertyDescriptor(obj, prop).configurable === false){\r\n        return;\r\n      }\r\n\r\n      var originalValue = obj[prop];\r\n      descriptors[prop] = (options.lazy ? createLazyPropertyDescriptor : createPropertyDescriptor)\r\n        (originalValue, prop, allObservablesForObject);\r\n\r\n      if (options.deep && canTrack(originalValue)) {\r\n        wrap(originalValue, Object.keys(originalValue), options);\r\n      }\r\n    });\r\n\r\n    Object.defineProperties(obj, descriptors);\r\n  }\r\n\r\n  function isPlainObject( obj ){\r\n    return !!obj && typeof obj === 'object' && obj.constructor === Object;\r\n  }\r\n\r\n  // Lazily created by `getAllObservablesForObject` below. Has to be created lazily because the\r\n  // WeakMap factory isn't available until the module has finished loading (may be async).\r\n  var objectToObservableMap;\r\n\r\n  // Gets or creates the hidden internal key-value collection of observables corresponding to\r\n  // properties on the model object.\r\n  function getAllObservablesForObject(obj, createIfNotDefined) {\r\n    if (!objectToObservableMap) {\r\n      objectToObservableMap = weakMapFactory();\r\n    }\r\n\r\n    var result = objectToObservableMap.get(obj);\r\n    if (!result && createIfNotDefined) {\r\n      result = {};\r\n      objectToObservableMap.set(obj, result);\r\n    }\r\n    return result;\r\n  }\r\n\r\n  // Removes the internal references to observables mapped to the specified properties\r\n  // or the entire object reference if no properties are passed in. This allows the\r\n  // observables to be replaced and tracked again.\r\n  function untrack(obj, propertyNames) {\r\n    if (!objectToObservableMap) {\r\n      return;\r\n    }\r\n\r\n    if (arguments.length === 1) {\r\n      objectToObservableMap['delete'](obj);\r\n    } else {\r\n      var allObservablesForObject = getAllObservablesForObject(obj, false);\r\n      if (allObservablesForObject) {\r\n        propertyNames.forEach(function(propertyName) {\r\n          delete allObservablesForObject[propertyName];\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  // Computed properties\r\n  // -------------------\r\n  //\r\n  // The preceding code is already sufficient to upgrade ko.computed model properties to ES5\r\n  // getter/setter pairs (or in the case of readonly ko.computed properties, just a getter).\r\n  // These then behave like a regular property with a getter function, except they are smarter:\r\n  // your evaluator is only invoked when one of its dependencies changes. The result is cached\r\n  // and used for all evaluations until the next time a dependency changes).\r\n  //\r\n  // However, instead of forcing developers to declare a ko.computed property explicitly, it's\r\n  // nice to offer a utility function that declares a computed getter directly.\r\n\r\n  // Implements `ko.defineProperty`\r\n  function defineComputedProperty(obj, propertyName, evaluatorOrOptions) {\r\n    var ko = this,\r\n      computedOptions = { owner: obj, deferEvaluation: true };\r\n\r\n    if (typeof evaluatorOrOptions === 'function') {\r\n      computedOptions.read = evaluatorOrOptions;\r\n    } else {\r\n      if ('value' in evaluatorOrOptions) {\r\n        throw new Error('For ko.defineProperty, you must not specify a \"value\" for the property. ' +\r\n                        'You must provide a \"get\" function.');\r\n      }\r\n\r\n      if (typeof evaluatorOrOptions.get !== 'function') {\r\n        throw new Error('For ko.defineProperty, the third parameter must be either an evaluator function, ' +\r\n                        'or an options object containing a function called \"get\".');\r\n      }\r\n\r\n      computedOptions.read = evaluatorOrOptions.get;\r\n      computedOptions.write = evaluatorOrOptions.set;\r\n    }\r\n\r\n    obj[propertyName] = ko.computed(computedOptions);\r\n    track.call(ko, obj, [propertyName]);\r\n    return obj;\r\n  }\r\n\r\n  // Array handling\r\n  // --------------\r\n  //\r\n  // Arrays are special, because unlike other property types, they have standard mutator functions\r\n  // (`push`/`pop`/`splice`/etc.) and it's desirable to trigger a change notification whenever one of\r\n  // those mutator functions is invoked.\r\n  //\r\n  // Traditionally, Knockout handles this by putting special versions of `push`/`pop`/etc. on observable\r\n  // arrays that mutate the underlying array and then trigger a notification. That approach doesn't\r\n  // work for Knockout-ES5 because properties now return the underlying arrays, so the mutator runs\r\n  // in the context of the underlying array, not any particular observable:\r\n  //\r\n  //     // Operates on the underlying array value\r\n  //     myModel.someCollection.push('New value');\r\n  //\r\n  // To solve this, Knockout-ES5 detects array values, and modifies them as follows:\r\n  //  1. Associates a hidden subscribable with each array instance that it encounters\r\n  //  2. Intercepts standard mutators (`push`/`pop`/etc.) and makes them trigger the subscribable\r\n  // Then, for model properties whose values are arrays, the property's underlying observable\r\n  // subscribes to the array subscribable, so it can trigger a change notification after mutation.\r\n\r\n  // Given an observable that underlies a model property, watch for any array value that might\r\n  // be assigned as the property value, and hook into its change events\r\n  function notifyWhenPresentOrFutureArrayValuesMutate(ko, observable) {\r\n    var watchingArraySubscription = null;\r\n    ko.computed(function () {\r\n      // Unsubscribe to any earlier array instance\r\n      if (watchingArraySubscription) {\r\n        watchingArraySubscription.dispose();\r\n        watchingArraySubscription = null;\r\n      }\r\n\r\n      // Subscribe to the new array instance\r\n      var newArrayInstance = observable();\r\n      if (newArrayInstance instanceof Array) {\r\n        watchingArraySubscription = startWatchingArrayInstance(ko, observable, newArrayInstance);\r\n      }\r\n    });\r\n  }\r\n\r\n  // Listens for array mutations, and when they happen, cause the observable to fire notifications.\r\n  // This is used to make model properties of type array fire notifications when the array changes.\r\n  // Returns a subscribable that can later be disposed.\r\n  function startWatchingArrayInstance(ko, observable, arrayInstance) {\r\n    var subscribable = getSubscribableForArray(ko, arrayInstance);\r\n    return subscribable.subscribe(observable);\r\n  }\r\n\r\n  // Lazily created by `getSubscribableForArray` below. Has to be created lazily because the\r\n  // WeakMap factory isn't available until the module has finished loading (may be async).\r\n  var arraySubscribablesMap;\r\n\r\n  // Gets or creates a subscribable that fires after each array mutation\r\n  function getSubscribableForArray(ko, arrayInstance) {\r\n    if (!arraySubscribablesMap) {\r\n      arraySubscribablesMap = weakMapFactory();\r\n    }\r\n\r\n    var subscribable = arraySubscribablesMap.get(arrayInstance);\r\n    if (!subscribable) {\r\n      subscribable = new ko.subscribable();\r\n      arraySubscribablesMap.set(arrayInstance, subscribable);\r\n\r\n      var notificationPauseSignal = {};\r\n      wrapStandardArrayMutators(arrayInstance, subscribable, notificationPauseSignal);\r\n      addKnockoutArrayMutators(ko, arrayInstance, subscribable, notificationPauseSignal);\r\n    }\r\n\r\n    return subscribable;\r\n  }\r\n\r\n  // After each array mutation, fires a notification on the given subscribable\r\n  function wrapStandardArrayMutators(arrayInstance, subscribable, notificationPauseSignal) {\r\n    ['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'].forEach(function(fnName) {\r\n      var origMutator = arrayInstance[fnName];\r\n      arrayInstance[fnName] = function() {\r\n        var result = origMutator.apply(this, arguments);\r\n        if (notificationPauseSignal.pause !== true) {\r\n          subscribable.notifySubscribers(this);\r\n        }\r\n        return result;\r\n      };\r\n    });\r\n  }\r\n\r\n  // Adds Knockout's additional array mutation functions to the array\r\n  function addKnockoutArrayMutators(ko, arrayInstance, subscribable, notificationPauseSignal) {\r\n    ['remove', 'removeAll', 'destroy', 'destroyAll', 'replace'].forEach(function(fnName) {\r\n      // Make it a non-enumerable property for consistency with standard Array functions\r\n      Object.defineProperty(arrayInstance, fnName, {\r\n        enumerable: false,\r\n        value: function() {\r\n          var result;\r\n\r\n          // These additional array mutators are built using the underlying push/pop/etc.\r\n          // mutators, which are wrapped to trigger notifications. But we don't want to\r\n          // trigger multiple notifications, so pause the push/pop/etc. wrappers and\r\n          // delivery only one notification at the end of the process.\r\n          notificationPauseSignal.pause = true;\r\n          try {\r\n            // Creates a temporary observableArray that can perform the operation.\r\n            result = ko.observableArray.fn[fnName].apply(ko.observableArray(arrayInstance), arguments);\r\n          }\r\n          finally {\r\n            notificationPauseSignal.pause = false;\r\n          }\r\n          subscribable.notifySubscribers(arrayInstance);\r\n          return result;\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  // Static utility functions\r\n  // ------------------------\r\n  //\r\n  // Since Knockout-ES5 sets up properties that return values, not observables, you can't\r\n  // trivially subscribe to the underlying observables (e.g., `someProperty.subscribe(...)`),\r\n  // or tell them that object values have mutated, etc. To handle this, we set up some\r\n  // extra utility functions that can return or work with the underlying observables.\r\n\r\n  // Returns the underlying observable associated with a model property (or `null` if the\r\n  // model or property doesn't exist, or isn't associated with an observable). This means\r\n  // you can subscribe to the property, e.g.:\r\n  //\r\n  //     ko.getObservable(model, 'propertyName')\r\n  //       .subscribe(function(newValue) { ... });\r\n  function getObservable(obj, propertyName) {\r\n    if (!obj || typeof obj !== 'object') {\r\n      return null;\r\n    }\r\n\r\n    var allObservablesForObject = getAllObservablesForObject(obj, false);\r\n    if (allObservablesForObject && propertyName in allObservablesForObject) {\r\n      return allObservablesForObject[propertyName]();\r\n    }\r\n\r\n    return null;\r\n  }\r\n  \r\n  // Returns a boolean indicating whether the property on the object has an underlying\r\n  // observables. This does the check in a way not to create an observable if the\r\n  // object was created with lazily created observables\r\n  function isTracked(obj, propertyName) {\r\n    if (!obj || typeof obj !== 'object') {\r\n      return false;\r\n    }\r\n    \r\n    var allObservablesForObject = getAllObservablesForObject(obj, false);\r\n    return !!allObservablesForObject && propertyName in allObservablesForObject;\r\n  }\r\n\r\n  // Causes a property's associated observable to fire a change notification. Useful when\r\n  // the property value is a complex object and you've modified a child property.\r\n  function valueHasMutated(obj, propertyName) {\r\n    var observable = getObservable(obj, propertyName);\r\n\r\n    if (observable) {\r\n      observable.valueHasMutated();\r\n    }\r\n  }\r\n\r\n  // Module initialisation\r\n  // ---------------------\r\n  //\r\n  // When this script is first evaluated, it works out what kind of module loading scenario\r\n  // it is in (Node.js or a browser `<script>` tag), stashes a reference to its dependencies\r\n  // (currently that's just the WeakMap shim), and then finally attaches itself to whichever\r\n  // instance of Knockout.js it can find.\r\n\r\n  // A function that returns a new ES6-compatible WeakMap instance (using ES5 shim if needed).\r\n  // Instantiated by prepareExports, accounting for which module loader is being used.\r\n  var weakMapFactory;\r\n\r\n  // Extends a Knockout instance with Knockout-ES5 functionality\r\n  function attachToKo(ko) {\r\n    ko.track = track;\r\n    ko.untrack = untrack;\r\n    ko.getObservable = getObservable;\r\n    ko.valueHasMutated = valueHasMutated;\r\n    ko.defineProperty = defineComputedProperty;\r\n\r\n    // todo: test it, maybe added it to ko. directly\r\n    ko.es5 = {\r\n      getAllObservablesForObject: getAllObservablesForObject,\r\n      notifyWhenPresentOrFutureArrayValuesMutate: notifyWhenPresentOrFutureArrayValuesMutate,\r\n      isTracked: isTracked\r\n    };\r\n  }\r\n\r\n  // Determines which module loading scenario we're in, grabs dependencies, and attaches to KO\r\n  function prepareExports() {\r\n    if (typeof exports === 'object' && typeof module === 'object') {\r\n      // Node.js case - load KO and WeakMap modules synchronously\r\n      ko = require('knockout');\r\n      var WM = require('../lib/weakmap');\r\n      attachToKo(ko);\r\n      weakMapFactory = function() { return new WM(); };\r\n      module.exports = ko;\r\n    } else if (typeof define === 'function' && define.amd) {\r\n      define(['knockout'], function(koModule) {\r\n        ko = koModule;\r\n        attachToKo(koModule);\r\n        weakMapFactory = function() { return new global.WeakMap(); };\r\n        return koModule;\r\n      });\r\n    } else if ('ko' in global) {\r\n      // Non-module case - attach to the global instance, and assume a global WeakMap constructor\r\n      ko = global.ko;\r\n      attachToKo(global.ko);\r\n      weakMapFactory = function() { return new global.WeakMap(); };\r\n    }\r\n  }\r\n\r\n  prepareExports();\r\n\r\n})(this);","knockoutjs/knockout-fast-foreach.js":"/*!\r\n  Knockout Fast Foreach v0.4.1 (2015-07-17T14:06:15.974Z)\r\n  By: Brian M Hunt (C) 2015\r\n  License: MIT\r\n\r\n  Adds `fastForEach` to `ko.bindingHandlers`.\r\n*/\r\n(function (root, factory) {\r\n  if (typeof define === 'function' && define.amd) {\r\n    define(['knockout'], factory);\r\n  } else if (typeof exports === 'object') {\r\n    module.exports = factory(require('knockout'));\r\n  } else {\r\n    root.KnockoutFastForeach = factory(root.ko);\r\n  }\r\n}(this, function (ko) {\r\n  \"use strict\";\r\n// index.js\r\n// --------\r\n// Fast For Each\r\n//\r\n// Employing sound techniques to make a faster Knockout foreach binding.\r\n// --------\r\n\r\n//      Utilities\r\n\r\n// from https://github.com/jonschlinkert/is-plain-object\r\nfunction isPlainObject(o) {\r\n  return !!o && typeof o === 'object' && o.constructor === Object;\r\n}\r\n\r\n// From knockout/src/virtualElements.js\r\nvar commentNodesHaveTextProperty = document && document.createComment(\"test\").text === \"<!--test-->\";\r\nvar startCommentRegex = commentNodesHaveTextProperty ? /^<!--\\s*ko(?:\\s+([\\s\\S]+))?\\s*-->$/ : /^\\s*ko(?:\\s+([\\s\\S]+))?\\s*$/;\r\nvar supportsDocumentFragment = document && typeof document.createDocumentFragment === \"function\";\r\nfunction isVirtualNode(node) {\r\n  return (node.nodeType === 8) && startCommentRegex.test(commentNodesHaveTextProperty ? node.text : node.nodeValue);\r\n}\r\n\r\n\r\n// Get a copy of the (possibly virtual) child nodes of the given element,\r\n// put them into a container, then empty the given node.\r\nfunction makeTemplateNode(sourceNode) {\r\n  var container = document.createElement(\"div\");\r\n  var parentNode;\r\n  if (sourceNode.content) {\r\n    // For e.g. <template> tags\r\n    parentNode = sourceNode.content;\r\n  } else if (sourceNode.tagName === 'SCRIPT') {\r\n    parentNode = document.createElement(\"div\");\r\n    parentNode.innerHTML = sourceNode.text;\r\n  } else {\r\n    // Anything else e.g. <div>\r\n    parentNode = sourceNode;\r\n  }\r\n  ko.utils.arrayForEach(ko.virtualElements.childNodes(parentNode), function (child) {\r\n    // FIXME - This cloneNode could be expensive; we may prefer to iterate over the\r\n    // parentNode children in reverse (so as not to foul the indexes as childNodes are\r\n    // removed from parentNode when inserted into the container)\r\n    if (child) {\r\n      container.insertBefore(child.cloneNode(true), null);\r\n    }\r\n  });\r\n  return container;\r\n}\r\n\r\nfunction insertAllAfter(containerNode, nodeOrNodeArrayToInsert, insertAfterNode) {\r\n  var frag, len, i;\r\n  // poor man's node and array check, should be enough for this\r\n  if (typeof nodeOrNodeArrayToInsert.nodeType !== \"undefined\" && typeof nodeOrNodeArrayToInsert.length === \"undefined\") {\r\n    throw new Error(\"Expected a single node or a node array\");\r\n  }\r\n\r\n  if (typeof nodeOrNodeArrayToInsert.nodeType !== \"undefined\") {\r\n    ko.virtualElements.insertAfter(containerNode, nodeOrNodeArrayToInsert, insertAfterNode);\r\n    return;\r\n  }\r\n\r\n  if (nodeOrNodeArrayToInsert.length === 1) {\r\n    ko.virtualElements.insertAfter(containerNode, nodeOrNodeArrayToInsert[0], insertAfterNode);\r\n    return;\r\n  }\r\n\r\n  if (supportsDocumentFragment) {\r\n    frag = document.createDocumentFragment();\r\n\r\n    for (i = 0, len = nodeOrNodeArrayToInsert.length; i !== len; ++i) {\r\n      frag.appendChild(nodeOrNodeArrayToInsert[i]);\r\n    }\r\n    ko.virtualElements.insertAfter(containerNode, frag, insertAfterNode);\r\n  } else {\r\n    // Nodes are inserted in reverse order - pushed down immediately after\r\n    // the last node for the previous item or as the first node of element.\r\n    for (i = nodeOrNodeArrayToInsert.length - 1; i >= 0; --i) {\r\n      var child = nodeOrNodeArrayToInsert[i];\r\n      if (!child) {\r\n        return;\r\n      }\r\n      ko.virtualElements.insertAfter(containerNode, child, insertAfterNode);\r\n    }\r\n  }\r\n}\r\n\r\n// Mimic a KO change item 'add'\r\nfunction valueToChangeAddItem(value, index) {\r\n  return {\r\n    status: 'added',\r\n    value: value,\r\n    index: index\r\n  };\r\n}\r\n\r\nfunction isAdditionAdjacentToLast(changeIndex, arrayChanges) {\r\n  return changeIndex > 0 &&\r\n    changeIndex < arrayChanges.length &&\r\n    arrayChanges[changeIndex].status === \"added\" &&\r\n    arrayChanges[changeIndex - 1].status === \"added\" &&\r\n    arrayChanges[changeIndex - 1].index === arrayChanges[changeIndex].index - 1;\r\n}\r\n\r\nfunction FastForEach(spec) {\r\n  this.element = spec.element;\r\n  this.container = isVirtualNode(this.element) ?\r\n                   this.element.parentNode : this.element;\r\n  this.$context = spec.$context;\r\n  this.data = spec.data;\r\n  this.as = spec.as;\r\n  this.noContext = spec.noContext;\r\n  this.templateNode = makeTemplateNode(\r\n    spec.name ? document.getElementById(spec.name).cloneNode(true) : spec.element\r\n  );\r\n  this.afterQueueFlush = spec.afterQueueFlush;\r\n  this.beforeQueueFlush = spec.beforeQueueFlush;\r\n  this.changeQueue = [];\r\n  this.lastNodesList = [];\r\n  this.indexesToDelete = [];\r\n  this.rendering_queued = false;\r\n\r\n  // Remove existing content.\r\n  ko.virtualElements.emptyNode(this.element);\r\n\r\n  // Prime content\r\n  var primeData = ko.unwrap(this.data);\r\n  if (primeData.map) {\r\n    this.onArrayChange(primeData.map(valueToChangeAddItem));\r\n  }\r\n\r\n  // Watch for changes\r\n  if (ko.isObservable(this.data)) {\r\n    if (!this.data.indexOf) {\r\n      // Make sure the observable is trackable.\r\n      this.data = this.data.extend({trackArrayChanges: true});\r\n    }\r\n    this.changeSubs = this.data.subscribe(this.onArrayChange, this, 'arrayChange');\r\n  }\r\n}\r\n\r\n\r\nFastForEach.animateFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame ||\r\n  window.mozRequestAnimationFrame || window.msRequestAnimationFrame ||\r\n  function(cb) { return window.setTimeout(cb, 1000 / 60); };\r\n\r\n\r\nFastForEach.prototype.dispose = function () {\r\n  if (this.changeSubs) {\r\n    this.changeSubs.dispose();\r\n  }\r\n};\r\n\r\n\r\n// If the array changes we register the change.\r\nFastForEach.prototype.onArrayChange = function (changeSet) {\r\n  var self = this;\r\n  var changeMap = {\r\n    added: [],\r\n    deleted: []\r\n  };\r\n  for (var i = 0, len = changeSet.length; i < len; i++) {\r\n    // the change is appended to a last change info object when both are 'added' and have indexes next to each other\r\n    // here I presume that ko is sending changes in monotonic order (in index variable) which happens to be true, tested with push and splice with multiple pushed values\r\n    if (isAdditionAdjacentToLast(i, changeSet)) {\r\n      var batchValues = changeMap.added[changeMap.added.length - 1].values;\r\n      if (!batchValues) {\r\n        // transform the last addition into a batch addition object\r\n        var lastAddition = changeMap.added.pop();\r\n        var batchAddition = {\r\n          isBatch: true,\r\n          status: 'added',\r\n          index: lastAddition.index,\r\n          values: [lastAddition.value]\r\n        };\r\n        batchValues = batchAddition.values;\r\n        changeMap.added.push(batchAddition);\r\n      }\r\n      batchValues.push(changeSet[i].value);\r\n    } else {\r\n      changeMap[changeSet[i].status].push(changeSet[i]);\r\n    }\r\n  }\r\n  if (changeMap.deleted.length > 0) {\r\n    this.changeQueue.push.apply(this.changeQueue, changeMap.deleted);\r\n    this.changeQueue.push({status: 'clearDeletedIndexes'});\r\n  }\r\n  this.changeQueue.push.apply(this.changeQueue, changeMap.added);\r\n  // Once a change is registered, the ticking count-down starts for the processQueue.\r\n  if (this.changeQueue.length > 0 && !this.rendering_queued) {\r\n    this.rendering_queued = true;\r\n    FastForEach.animateFrame.call(window, function () { self.processQueue(); });\r\n  }\r\n};\r\n\r\n\r\n// Reflect all the changes in the queue in the DOM, then wipe the queue.\r\nFastForEach.prototype.processQueue = function () {\r\n  var self = this;\r\n\r\n  // Callback so folks can do things before the queue flush.\r\n  if (typeof this.beforeQueueFlush === 'function') {\r\n    this.beforeQueueFlush(this.changeQueue);\r\n  }\r\n\r\n  ko.utils.arrayForEach(this.changeQueue, function (changeItem) {\r\n    // console.log(self.data(), \"CI\", JSON.stringify(changeItem, null, 2), JSON.stringify($(self.element).text()))\r\n    self[changeItem.status](changeItem);\r\n    // console.log(\"  ==> \", JSON.stringify($(self.element).text()))\r\n  });\r\n  this.rendering_queued = false;\r\n  // Callback so folks can do things.\r\n  if (typeof this.afterQueueFlush === 'function') {\r\n    this.afterQueueFlush(this.changeQueue);\r\n  }\r\n  this.changeQueue = [];\r\n};\r\n\r\n\r\n// Process a changeItem with {status: 'added', ...}\r\nFastForEach.prototype.added = function (changeItem) {\r\n  var index = changeItem.index;\r\n  var valuesToAdd = changeItem.isBatch ? changeItem.values : [changeItem.value];\r\n  var referenceElement = this.lastNodesList[index - 1] || null;\r\n  // gather all childnodes for a possible batch insertion\r\n  var allChildNodes = [];\r\n\r\n  for (var i = 0, len = valuesToAdd.length; i < len; ++i) {\r\n    var templateClone = this.templateNode.cloneNode(true);\r\n    var childContext;\r\n\r\n    if (this.noContext) {\r\n      childContext = this.$context.extend({\r\n        '$item': valuesToAdd[i]\r\n      });\r\n    } else {\r\n      childContext = this.$context.createChildContext(valuesToAdd[i], this.as || null);\r\n    }\r\n\r\n    // apply bindings first, and then process child nodes, because bindings can add childnodes\r\n    ko.applyBindingsToDescendants(childContext, templateClone);\r\n\r\n    var childNodes = ko.virtualElements.childNodes(templateClone);\r\n    // Note discussion at https://github.com/angular/angular.js/issues/7851\r\n    allChildNodes.push.apply(allChildNodes, Array.prototype.slice.call(childNodes));\r\n    this.lastNodesList.splice(index + i, 0, childNodes[childNodes.length - 1]);\r\n  }\r\n\r\n  insertAllAfter(this.element, allChildNodes, referenceElement);\r\n};\r\n\r\n\r\n// Process a changeItem with {status: 'deleted', ...}\r\nFastForEach.prototype.deleted = function (changeItem) {\r\n  var index = changeItem.index;\r\n  var ptr = this.lastNodesList[index],\r\n      // We use this.element because that will be the last previous node\r\n      // for virtual element lists.\r\n      lastNode = this.lastNodesList[index - 1] || this.element;\r\n  do {\r\n    ptr = ptr.previousSibling;\r\n    ko.removeNode((ptr && ptr.nextSibling) || ko.virtualElements.firstChild(this.element));\r\n  } while (ptr && ptr !== lastNode);\r\n  // The \"last node\" in the DOM from which we begin our delets of the next adjacent node is\r\n  // now the sibling that preceded the first node of this item.\r\n  this.lastNodesList[index] = this.lastNodesList[index - 1];\r\n  this.indexesToDelete.push(index);\r\n};\r\n\r\n\r\n// We batch our deletion of item indexes in our parallel array.\r\n// See brianmhunt/knockout-fast-foreach#6/#8\r\nFastForEach.prototype.clearDeletedIndexes = function () {\r\n  // We iterate in reverse on the presumption (following the unit tests) that KO's diff engine\r\n  // processes diffs (esp. deletes) monotonically ascending i.e. from index 0 -> N.\r\n  for (var i = this.indexesToDelete.length - 1; i >= 0; --i) {\r\n    this.lastNodesList.splice(this.indexesToDelete[i], 1);\r\n  }\r\n  this.indexesToDelete = [];\r\n};\r\n\r\n\r\nko.bindingHandlers.fastForEach = {\r\n  // Valid valueAccessors:\r\n  //    []\r\n  //    ko.observable([])\r\n  //    ko.observableArray([])\r\n  //    ko.computed\r\n  //    {data: array, name: string, as: string}\r\n  init: function init(element, valueAccessor, bindings, vm, context) {\r\n    var value = valueAccessor(),\r\n        ffe;\r\n    if (isPlainObject(value)) {\r\n      value.element = value.element || element;\r\n      value.$context = context;\r\n      ffe = new FastForEach(value);\r\n    } else {\r\n      ffe = new FastForEach({\r\n        element: element,\r\n        data: ko.unwrap(context.$rawData) === value ? context.$rawData : value,\r\n        $context: context\r\n      });\r\n    }\r\n    ko.utils.domNodeDisposal.addDisposeCallback(element, function () {\r\n      ffe.dispose();\r\n    });\r\n    return {controlsDescendantBindings: true};\r\n  },\r\n\r\n  // Export for testing, debugging, and overloading.\r\n  FastForEach: FastForEach\r\n};\r\n\r\nko.virtualElements.allowedBindings.fastForEach = true;\r\n}));","knockoutjs/knockout-repeat.js":"// REPEAT binding for Knockout http://knockoutjs.com/\r\n// (c) Michael Best\r\n// License: MIT (http://www.opensource.org/licenses/mit-license.php)\r\n// Version 2.1.0\r\n\r\n(function(factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // [1] AMD anonymous module\r\n        define(['knockout'], factory);\r\n    } else if (typeof exports === 'object') {\r\n        // [2] commonJS\r\n        factory(require('knockout'));\r\n    } else {\r\n        // [3] No module loader (plain <script> tag) - put directly in global namespace\r\n        factory(window.ko);\r\n    }\r\n})(function(ko) {\r\n\r\nif (!ko.virtualElements)\r\n    throw Error('Repeat requires at least Knockout 2.1');\r\n\r\nvar ko_bindingFlags = ko.bindingFlags || {};\r\nvar ko_unwrap = ko.utils.unwrapObservable;\r\n\r\nvar koProtoName = '__ko_proto__';\r\n\r\nif (ko.version >= \"3.0.0\") {\r\n    // In Knockout 3.0.0, use the node preprocessor to replace a node with a repeat binding with a virtual element\r\n    var provider = ko.bindingProvider.instance, previousPreprocessFn = provider.preprocessNode;\r\n    provider.preprocessNode = function(node) {\r\n        var newNodes, nodeBinding;\r\n        if (!previousPreprocessFn || !(newNodes = previousPreprocessFn.call(this, node))) {\r\n            if (node.nodeType === 1 && (nodeBinding = node.getAttribute('data-bind'))) {\r\n                if (/^\\s*repeat\\s*:/.test(nodeBinding)) {\r\n                    var leadingComment = node.ownerDocument.createComment('ko ' + nodeBinding),\r\n                        trailingComment = node.ownerDocument.createComment('/ko');\r\n                    node.parentNode.insertBefore(leadingComment, node);\r\n                    node.parentNode.insertBefore(trailingComment, node.nextSibling);\r\n                    node.removeAttribute('data-bind');\r\n                    newNodes = [leadingComment, node, trailingComment];\r\n                }\r\n            }\r\n        }\r\n        return newNodes;\r\n    };\r\n}\r\n\r\nko.virtualElements.allowedBindings.repeat = true;\r\nko.bindingHandlers.repeat = {\r\n    flags: ko_bindingFlags.contentBind | ko_bindingFlags.canUseVirtual,\r\n    init: function(element, valueAccessor, allBindingsAccessor, xxx, bindingContext) {\r\n\r\n        // Read and set fixed options--these options cannot be changed\r\n        var repeatParam = ko_unwrap(valueAccessor());\r\n        if (repeatParam && typeof repeatParam == 'object' && !('length' in repeatParam)) {\r\n            var repeatIndex = repeatParam.index,\r\n                repeatData = repeatParam.item,\r\n                repeatStep = repeatParam.step,\r\n                repeatReversed = repeatParam.reverse,\r\n                repeatBind = repeatParam.bind,\r\n                repeatInit = repeatParam.init,\r\n                repeatUpdate = repeatParam.update;\r\n        }\r\n        // Set default values for options that need it\r\n        repeatIndex = repeatIndex || '$index';\r\n        repeatData = repeatData || ko.bindingHandlers.repeat.itemName || '$item';\r\n        repeatStep = repeatStep || 1;\r\n        repeatReversed = repeatReversed || false;\r\n\r\n        var parent = element.parentNode, placeholder;\r\n        if (element.nodeType == 8) {    // virtual element\r\n            // Extract the \"children\" and find the single element node\r\n            var childNodes = ko.utils.arrayFilter(ko.virtualElements.childNodes(element), function(node) { return node.nodeType == 1;});\r\n            if (childNodes.length !== 1) {\r\n                throw Error(\"Repeat binding requires a single element to repeat\");\r\n            }\r\n            ko.virtualElements.emptyNode(element);\r\n\r\n            // The placeholder is the closing comment normally, or the opening comment if reversed\r\n            placeholder = repeatReversed ? element : element.nextSibling;\r\n            // The element to repeat is the contained element\r\n            element = childNodes[0];\r\n        } else {    // regular element\r\n            // First clean the element node and remove node's binding\r\n            var origBindString = element.getAttribute('data-bind');\r\n            ko.cleanNode(element);\r\n            element.removeAttribute('data-bind');\r\n\r\n            // Original element is no longer needed: delete it and create a placeholder comment\r\n            placeholder = element.ownerDocument.createComment('ko_repeatplaceholder ' + origBindString);\r\n            parent.replaceChild(placeholder, element);\r\n        }\r\n\r\n        // extract and remove a data-repeat-bind attribute, if present\r\n        if (!repeatBind) {\r\n            repeatBind = element.getAttribute('data-repeat-bind');\r\n            if (repeatBind) {\r\n                element.removeAttribute('data-repeat-bind');\r\n            }\r\n        }\r\n\r\n        // Make a copy of the element node to be copied for each repetition\r\n        var cleanNode = element.cloneNode(true);\r\n        if (typeof repeatBind == \"string\") {\r\n            cleanNode.setAttribute('data-bind', repeatBind);\r\n            repeatBind = null;\r\n        }\r\n\r\n        // Set up persistent data\r\n        var lastRepeatCount = 0,\r\n            notificationObservable = ko.observable(),\r\n            repeatArray, arrayObservable;\r\n\r\n        if (repeatInit) {\r\n            repeatInit(parent);\r\n        }\r\n\r\n        var subscribable = ko.computed(function() {\r\n            function makeArrayItemAccessor(index) {\r\n                var f = function(newValue) {\r\n                    var item = repeatArray[index];\r\n                    // Reading the value of the item\r\n                    if (!arguments.length) {\r\n                        notificationObservable();   // for dependency tracking\r\n                        return ko_unwrap(item);\r\n                    }\r\n                    // Writing a value to the item\r\n                    if (ko.isObservable(item)) {\r\n                        item(newValue);\r\n                    } else if (arrayObservable && arrayObservable.splice) {\r\n                        arrayObservable.splice(index, 1, newValue);\r\n                    } else {\r\n                        repeatArray[index] = newValue;\r\n                    }\r\n                    return this;\r\n                };\r\n                // Pretend that our accessor function is an observable\r\n                f[koProtoName] = ko.observable;\r\n                return f;\r\n            }\r\n\r\n            function makeBinding(item, index, context) {\r\n                return repeatArray\r\n                    ? function() { return repeatBind.call(bindingContext.$data, item, index, context); }\r\n                    : function() { return repeatBind.call(bindingContext.$data, index, context); }\r\n            }\r\n\r\n            // Read and set up variable options--these options can change and will update the binding\r\n            var paramObservable = valueAccessor(), repeatParam = ko_unwrap(paramObservable), repeatCount = 0;\r\n            if (repeatParam && typeof repeatParam == 'object') {\r\n                if ('length' in repeatParam) {\r\n                    repeatArray = repeatParam;\r\n                    repeatCount = repeatArray.length;\r\n                } else {\r\n                    if ('foreach' in repeatParam) {\r\n                        repeatArray = ko_unwrap(paramObservable = repeatParam.foreach);\r\n                        if (repeatArray && typeof repeatArray == 'object' && 'length' in repeatArray) {\r\n                            repeatCount = repeatArray.length || 0;\r\n                        } else {\r\n                            repeatCount = repeatArray || 0;\r\n                            repeatArray = null;\r\n                        }\r\n                    }\r\n                    // If a count value is provided (>0), always output that number of items\r\n                    if ('count' in repeatParam)\r\n                        repeatCount = ko_unwrap(repeatParam.count) || repeatCount;\r\n                    // If a limit is provided, don't output more than the limit\r\n                    if ('limit' in repeatParam)\r\n                        repeatCount = Math.min(repeatCount, ko_unwrap(repeatParam.limit)) || repeatCount;\r\n                }\r\n                arrayObservable = repeatArray && ko.isObservable(paramObservable) ? paramObservable : null;\r\n            } else {\r\n                repeatCount = repeatParam || 0;\r\n            }\r\n\r\n            // Remove nodes from end if array is shorter\r\n            for (; lastRepeatCount > repeatCount; lastRepeatCount-=repeatStep) {\r\n                ko.removeNode(repeatReversed ? placeholder.nextSibling : placeholder.previousSibling);\r\n            }\r\n\r\n            // Notify existing nodes of change\r\n            notificationObservable.notifySubscribers();\r\n\r\n            // Add nodes to end if array is longer (also initially populates nodes)\r\n            for (; lastRepeatCount < repeatCount; lastRepeatCount+=repeatStep) {\r\n                // Clone node and add to document\r\n                var newNode = cleanNode.cloneNode(true);\r\n                parent.insertBefore(newNode, repeatReversed ? placeholder.nextSibling : placeholder);\r\n                newNode.setAttribute('data-repeat-index', lastRepeatCount);\r\n\r\n                // Apply bindings to inserted node\r\n                if (repeatArray && repeatData == '$data') {\r\n                    var newContext = bindingContext.createChildContext(makeArrayItemAccessor(lastRepeatCount));\r\n                } else {\r\n                    var newContext = bindingContext.extend();\r\n                    if (repeatArray)\r\n                        newContext[repeatData] = makeArrayItemAccessor(lastRepeatCount);\r\n                }\r\n                newContext[repeatIndex] = lastRepeatCount;\r\n                if (repeatBind) {\r\n                    var result = ko.applyBindingsToNode(newNode, makeBinding(newContext[repeatData], lastRepeatCount, newContext), newContext, true),\r\n                        shouldBindDescendants = result && result.shouldBindDescendants;\r\n                }\r\n                if (!repeatBind || (result && shouldBindDescendants !== false)) {\r\n                    ko.applyBindings(newContext, newNode);\r\n                }\r\n            }\r\n            if (repeatUpdate) {\r\n                repeatUpdate(parent);\r\n            }\r\n        }, null, {disposeWhenNodeIsRemoved: placeholder});\r\n\r\n        return { controlsDescendantBindings: true, subscribable: subscribable };\r\n    }\r\n};\r\n});","mage/accordion.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    \"jquery\",\r\n    \"mage/tabs\"\r\n], function($, tabs){\r\n    \"use strict\";\r\n\r\n    $.widget(\"mage.accordion\", tabs, {\r\n        options: {\r\n            active : [0],\r\n            multipleCollapsible: false,\r\n            openOnFocus: false\r\n        },\r\n\r\n        _callCollapsible: function() {\r\n            if((typeof this.options.active) === \"string\") {\r\n                this.options.active = this.options.active.split(\" \").map(function(item) {\r\n                    return parseInt(item, 10);\r\n                });\r\n            }\r\n            var self = this,\r\n                disabled = false,\r\n                active = false;\r\n\r\n            $.each(this.collapsibles, function(i) {\r\n                disabled = active = false;\r\n                if($.inArray(i,self.options.disabled) !== -1) {\r\n                    disabled = true;\r\n                }\r\n                if($.inArray(i,self.options.active) !== -1) {\r\n                    active = true;\r\n                }\r\n                self._instantiateCollapsible(this,i,active,disabled);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Overwrites default functionality to provide the option to activate/deactivate multiple sections simultaneous\r\n         * @param action\r\n         * @param index\r\n         * @private\r\n         */\r\n        _toggleActivate: function(action,index) {\r\n            if($.isArray( index && this.options.multipleCollapsible)) {\r\n                var self = this;\r\n                $.each(index, function() {\r\n                    self.collapsibles.eq(this).collapsible(action);\r\n                });\r\n            } else if( (index === undefined) && this.options.multipleCollapsible) {\r\n                this.collapsibles.collapsible(action);\r\n            } else {\r\n                this._super(action,index);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * If the Accordion allows multiple section to be active at the same time, if deep linking is used\r\n         * sections that don't contain the id from anchor shouldn't be closed, otherwise the accordion uses the\r\n         * tabs behavior\r\n         * @private\r\n         */\r\n        _handleDeepLinking: function() {\r\n            if(!this.options.multipleCollapsible) {\r\n                this._super();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Prevent default behavior that closes the other sections when one gets activated if the Accordion allows\r\n         * multiple sections simultaneous\r\n         * @private\r\n         */\r\n        _closeOthers: function() {\r\n            if(!this.options.multipleCollapsible) {\r\n                this._super();\r\n            }\r\n            $.each(this.collapsibles, function() {\r\n                $(this).on(\"beforeOpen\", function() {\r\n                    var section = $(this);\r\n                    section.addClass('allow').prevAll().addClass('allow');\r\n                    section.nextAll().removeClass('allow');\r\n                });\r\n            });\r\n        }\r\n    });\r\n    \r\n    return $.mage.accordion;\r\n});\r\n","mage/bootstrap.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery',\r\n    'mage/apply/main',\r\n    'Magento_Ui/js/lib/knockout/bootstrap'\r\n], function ($, mage) {\r\n    'use strict';\r\n\r\n    $.ajaxSetup({\r\n        cache: false\r\n    });\r\n\r\n    /**\r\n     * Init all components defined via data-mage-init attribute.\r\n     */\r\n    $(mage.apply);\r\n});\r\n","mage/calendar.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\n/*jshint browser:true jquery:true */\r\n/*eslint max-depth: 0*/\r\n\r\n(function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            'jquery',\r\n            'jquery/ui',\r\n            'jquery/jquery-ui-timepicker-addon'\r\n        ], factory);\r\n    } else {\r\n        factory(window.jQuery);\r\n    }\r\n}(function ($) {\r\n    'use strict';\r\n\r\n    var calendarBasePrototype,\r\n        datepickerPrototype = $.datepicker.constructor.prototype;\r\n\r\n    $.datepicker.markerClassName = '_has-datepicker';\r\n\r\n    /**\r\n     * Extend JQuery date picker prototype with store local time methods\r\n     */\r\n    $.extend(datepickerPrototype, {\r\n        /**\r\n         * Get date/time according to store settings.\r\n         * We use serverTimezoneOffset (in seconds) instead of serverTimezoneSeconds\r\n         * in order to have ability to know actual store time even if page hadn't been reloaded\r\n         * @returns {Date}\r\n         */\r\n        _getTimezoneDate: function (options) {\r\n            // local time in ms\r\n            var ms = Date.now();\r\n\r\n            options = options || $.calendarConfig || {};\r\n\r\n            // Adjust milliseconds according to store timezone offset,\r\n            // mind the GMT zero offset\r\n            if (typeof options.serverTimezoneOffset !== 'undefined') {\r\n                // Make UTC time and add store timezone offset in seconds\r\n                ms += new Date().getTimezoneOffset() * 60 * 1000 + options.serverTimezoneOffset * 1000;\r\n            } else if (typeof options.serverTimezoneSeconds !== 'undefined') {\r\n                //Set milliseconds according to client local timezone offset\r\n                ms = (options.serverTimezoneSeconds + new Date().getTimezoneOffset() * 60) * 1000;\r\n            }\r\n\r\n            return new Date(ms);\r\n        },\r\n\r\n        /**\r\n         * Set date/time according to store settings.\r\n         * @param {String|Object} target - the target input field or division or span\r\n         */\r\n        _setTimezoneDateDatepicker: function (target) {\r\n            this._setDateDatepicker(target, this._getTimezoneDate());\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Widget calendar\r\n     */\r\n    $.widget('mage.calendar', {\r\n\r\n        /**\r\n         * Merge global options with options passed to widget invoke\r\n         * @protected\r\n         */\r\n        _create: function () {\r\n            this._enableAMPM();\r\n            this.options = $.extend(\r\n                {},\r\n                $.calendarConfig ? $.calendarConfig : {},\r\n                this.options.showsTime ? {\r\n                    showTime: true,\r\n                    showHour: true,\r\n                    showMinute: true\r\n                } : {},\r\n                this.options\r\n            );\r\n            this._initPicker(this.element);\r\n            this._overwriteGenerateHtml();\r\n        },\r\n\r\n        /**\r\n         * Get picker name\r\n         * @protected\r\n         */\r\n        _picker: function () {\r\n            return this.options.showsTime ? 'datetimepicker' : 'datepicker';\r\n        },\r\n\r\n        /**\r\n         * Fix for Timepicker - Set ampm option for Timepicker if timeformat contains string 'tt'\r\n         * @protected\r\n         */\r\n        _enableAMPM: function () {\r\n            if (this.options.timeFormat && this.options.timeFormat.indexOf('tt') >= 0) {\r\n                this.options.ampm = true;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Wrapper for overwrite jQuery UI datepicker function.\r\n         */\r\n        _overwriteGenerateHtml: function () {\r\n            /**\r\n             * Overwrite jQuery UI datepicker function.\r\n             * Reason: magento date could be set before calendar show\r\n             * but local date will be styled as current in original _generateHTML\r\n             *\r\n             * @param {Object} inst - instance datepicker.\r\n             * @return {String} html template\r\n             */\r\n            $.datepicker.constructor.prototype._generateHTML = function (inst) {\r\n                var today = this._getTimezoneDate(),\r\n                    isRTL = this._get(inst, 'isRTL'),\r\n                    showButtonPanel = this._get(inst, 'showButtonPanel'),\r\n                    hideIfNoPrevNext = this._get(inst, 'hideIfNoPrevNext'),\r\n                    navigationAsDateFormat = this._get(inst, 'navigationAsDateFormat'),\r\n                    numMonths = this._getNumberOfMonths(inst),\r\n                    showCurrentAtPos = this._get(inst, 'showCurrentAtPos'),\r\n                    stepMonths = this._get(inst, 'stepMonths'),\r\n                    isMultiMonth = parseInt(numMonths[0], 10) !== 1 || parseInt(numMonths[1], 10) !== 1,\r\n                    currentDate = this._daylightSavingAdjust(!inst.currentDay ? new Date(9999, 9, 9) :\r\n                        new Date(inst.currentYear, inst.currentMonth, inst.currentDay)),\r\n                    minDate = this._getMinMaxDate(inst, 'min'),\r\n                    maxDate = this._getMinMaxDate(inst, 'max'),\r\n                    drawMonth = inst.drawMonth - showCurrentAtPos,\r\n                    drawYear = inst.drawYear,\r\n                    maxDraw,\r\n                    prevText = this._get(inst, 'prevText'),\r\n                    prev,\r\n                    nextText = this._get(inst, 'nextText'),\r\n                    next,\r\n                    currentText = this._get(inst, 'currentText'),\r\n                    gotoDate,\r\n                    controls,\r\n                    buttonPanel,\r\n                    firstDay,\r\n                    showWeek = this._get(inst, 'showWeek'),\r\n                    dayNames = this._get(inst, 'dayNames'),\r\n                    dayNamesMin = this._get(inst, 'dayNamesMin'),\r\n                    monthNames = this._get(inst, 'monthNames'),\r\n                    monthNamesShort =  this._get(inst, 'monthNamesShort'),\r\n                    beforeShowDay = this._get(inst, 'beforeShowDay'),\r\n                    showOtherMonths = this._get(inst, 'showOtherMonths'),\r\n                    selectOtherMonths = this._get(inst, 'selectOtherMonths'),\r\n                    defaultDate = this._getDefaultDate(inst),\r\n                    html = '',\r\n                    row = 0,\r\n                    col = 0,\r\n                    selectedDate,\r\n                    cornerClass = ' ui-corner-all',\r\n                    group = '',\r\n                    calender = '',\r\n                    dow = 0,\r\n                    thead,\r\n                    day,\r\n                    daysInMonth,\r\n                    leadDays,\r\n                    curRows,\r\n                    numRows,\r\n                    printDate,\r\n                    dRow = 0,\r\n                    tbody,\r\n                    daySettings,\r\n                    otherMonth,\r\n                    unselectable;\r\n\r\n                if (drawMonth < 0) {\r\n                    drawMonth += 12;\r\n                    drawYear--;\r\n                }\r\n\r\n                if (maxDate) {\r\n                    maxDraw = this._daylightSavingAdjust(new Date(maxDate.getFullYear(),\r\n                        maxDate.getMonth() - numMonths[0] * numMonths[1] + 1, maxDate.getDate()));\r\n                    maxDraw = minDate && maxDraw < minDate ? minDate : maxDraw;\r\n\r\n                    while (this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1)) > maxDraw) {\r\n                        drawMonth--;\r\n\r\n                        if (drawMonth < 0) {\r\n                            drawMonth = 11;\r\n                            drawYear--;\r\n\r\n                        }\r\n                    }\r\n                }\r\n                inst.drawMonth = drawMonth;\r\n                inst.drawYear = drawYear;\r\n                prevText = !navigationAsDateFormat ? prevText : this.formatDate(prevText,\r\n                    this._daylightSavingAdjust(new Date(drawYear, drawMonth - stepMonths, 1)),\r\n                    this._getFormatConfig(inst));\r\n                prev = this._canAdjustMonth(inst, -1, drawYear, drawMonth) ?\r\n                    '<a class=\"ui-datepicker-prev ui-corner-all\" data-handler=\"prev\" data-event=\"click\"' +\r\n                    ' title=\"' + prevText + '\">' +\r\n                    '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'e' : 'w') + '\">' +\r\n                    '' + prevText + '</span></a>'\r\n                    : hideIfNoPrevNext ? ''\r\n                        :   '<a class=\"ui-datepicker-prev ui-corner-all ui-state-disabled\" title=\"' +\r\n                            '' + prevText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\r\n                            '' + (isRTL ? 'e' : 'w') + '\">' + prevText + '</span></a>';\r\n                nextText = !navigationAsDateFormat ?\r\n                    nextText\r\n                    :   this.formatDate(nextText,\r\n                        this._daylightSavingAdjust(new Date(drawYear, drawMonth + stepMonths, 1)),\r\n                        this._getFormatConfig(inst));\r\n                next = this._canAdjustMonth(inst, +1, drawYear, drawMonth) ?\r\n                    '<a class=\"ui-datepicker-next ui-corner-all\" data-handler=\"next\" data-event=\"click\"' +\r\n                    'title=\"' + nextText + '\"><span class=\"ui-icon ui-icon-circle-triangle-' +\r\n                    '' + (isRTL ? 'w' : 'e') + '\">' + nextText + '</span></a>'\r\n                    : hideIfNoPrevNext ? ''\r\n                        :   '<a class=\"ui-datepicker-next ui-corner-all ui-state-disabled\" title=\"' + nextText + '\">' +\r\n                            '<span class=\"ui-icon ui-icon-circle-triangle-' + (isRTL ? 'w' : 'e') + '\">' + nextText +\r\n                            '</span></a>';\r\n                gotoDate = this._get(inst, 'gotoCurrent') && inst.currentDay ? currentDate : today;\r\n                currentText = !navigationAsDateFormat ? currentText :\r\n                    this.formatDate(currentText, gotoDate, this._getFormatConfig(inst));\r\n                controls = !inst.inline ?\r\n                    '<button type=\"button\" class=\"ui-datepicker-close ui-state-default ui-priority-primary ' +\r\n                    'ui-corner-all\" data-handler=\"hide\" data-event=\"click\">' +\r\n                    this._get(inst, 'closeText') + '</button>'\r\n                    : '';\r\n                buttonPanel = showButtonPanel ?\r\n                    '<div class=\"ui-datepicker-buttonpane ui-widget-content\">' + (isRTL ? controls : '') +\r\n                    (this._isInRange(inst, gotoDate) ? '<button type=\"button\" class=\"ui-datepicker-current ' +\r\n                    'ui-state-default ui-priority-secondary ui-corner-all\" data-handler=\"today\" data-event=\"click\"' +\r\n                    '>' + currentText + '</button>' : '') + (isRTL ? '' : controls) + '</div>' : '';\r\n                firstDay = parseInt(this._get(inst, 'firstDay'), 10);\r\n                firstDay = isNaN(firstDay) ? 0 : firstDay;\r\n\r\n                for (row = 0; row < numMonths[0]; row++) {\r\n                    this.maxRows = 4;\r\n\r\n                    for (col = 0; col < numMonths[1]; col++) {\r\n                        selectedDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, inst.selectedDay));\r\n\r\n                        calender = '';\r\n\r\n                        if (isMultiMonth) {\r\n                            calender += '<div class=\"ui-datepicker-group';\r\n\r\n                            if (numMonths[1] > 1) {\r\n                                switch (col) {\r\n                                    case 0: calender += ' ui-datepicker-group-first';\r\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'right' : 'left');\r\n                                        break;\r\n\r\n                                    case numMonths[1] - 1: calender += ' ui-datepicker-group-last';\r\n                                        cornerClass = ' ui-corner-' + (isRTL ? 'left' : 'right');\r\n                                        break;\r\n\r\n                                    default: calender += ' ui-datepicker-group-middle'; cornerClass = '';\r\n                                }\r\n                            }\r\n                            calender += '\">';\r\n                        }\r\n                        calender += '<div class=\"ui-datepicker-header ' +\r\n                            'ui-widget-header ui-helper-clearfix' + cornerClass + '\">' +\r\n                            (/all|left/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? next : prev : '') +\r\n                            (/all|right/.test(cornerClass) && parseInt(row, 10) === 0 ? isRTL ? prev : next : '') +\r\n                            this._generateMonthYearHeader(inst, drawMonth, drawYear, minDate, maxDate,\r\n                            row > 0 || col > 0, monthNames, monthNamesShort) + // draw month headers\r\n                            '</div><table class=\"ui-datepicker-calendar\"><thead>' +\r\n                            '<tr>';\r\n                        thead = showWeek ?\r\n                            '<th class=\"ui-datepicker-week-col\">' + this._get(inst, 'weekHeader') + '</th>' : '';\r\n\r\n                        for (dow = 0; dow < 7; dow++) { // days of the week\r\n                            day = (dow + firstDay) % 7;\r\n                            thead += '<th' + ((dow + firstDay + 6) % 7 >= 5 ?\r\n                                ' class=\"ui-datepicker-week-end\"' : '') + '>' +\r\n                                '<span title=\"' + dayNames[day] + '\">' + dayNamesMin[day] + '</span></th>';\r\n                        }\r\n                        calender += thead + '</tr></thead><tbody>';\r\n                        daysInMonth = this._getDaysInMonth(drawYear, drawMonth);\r\n\r\n                        if (drawYear === inst.selectedYear && drawMonth === inst.selectedMonth) {\r\n                            inst.selectedDay = Math.min(inst.selectedDay, daysInMonth);\r\n                        }\r\n                        leadDays = (this._getFirstDayOfMonth(drawYear, drawMonth) - firstDay + 7) % 7;\r\n                        curRows = Math.ceil((leadDays + daysInMonth) / 7); // calculate the number of rows to generate\r\n                        numRows = isMultiMonth ? this.maxRows > curRows ? this.maxRows : curRows : curRows;\r\n                        this.maxRows = numRows;\r\n                        printDate = this._daylightSavingAdjust(new Date(drawYear, drawMonth, 1 - leadDays));\r\n\r\n                        for (dRow = 0; dRow < numRows; dRow++) { // create date picker rows\r\n                            calender += '<tr>';\r\n                            tbody = !showWeek ? '' : '<td class=\"ui-datepicker-week-col\">' +\r\n                            this._get(inst, 'calculateWeek')(printDate) + '</td>';\r\n\r\n                            for (dow = 0; dow < 7; dow++) { // create date picker days\r\n                                daySettings = beforeShowDay ?\r\n                                    beforeShowDay.apply(inst.input ? inst.input[0] : null, [printDate]) : [true, ''];\r\n                                otherMonth = printDate.getMonth() !== drawMonth;\r\n                                unselectable = otherMonth && !selectOtherMonths || !daySettings[0] ||\r\n                                minDate && printDate < minDate || maxDate && printDate > maxDate;\r\n                                tbody += '<td class=\"' +\r\n                                ((dow + firstDay + 6) % 7 >= 5 ? ' ui-datepicker-week-end' : '') + // highlight weekends\r\n                                (otherMonth ? ' ui-datepicker-other-month' : '') + // highlight days from other months\r\n                                (printDate.getTime() === selectedDate.getTime() &&\r\n                                drawMonth === inst.selectedMonth && inst._keyEvent || // user pressed key\r\n                                defaultDate.getTime() === printDate.getTime() &&\r\n                                defaultDate.getTime() === selectedDate.getTime() ?\r\n                                    // or defaultDate is current printedDate and defaultDate is selectedDate\r\n                                ' ' + this._dayOverClass : '') + // highlight selected day\r\n                                (unselectable ? ' ' + this._unselectableClass + ' ui-state-disabled' : '') +\r\n                                (otherMonth && !showOtherMonths ? '' : ' ' + daySettings[1] + // highlight custom dates\r\n                                (printDate.getTime() === currentDate.getTime() ? ' ' + this._currentClass : '') +\r\n                                (printDate.getDate() === today.getDate() && printDate.getMonth() === today.getMonth() &&\r\n                                printDate.getYear() === today.getYear() ? ' ui-datepicker-today' : '')) + '\"' +\r\n                                ((!otherMonth || showOtherMonths) && daySettings[2] ?\r\n                                ' title=\"' + daySettings[2] + '\"' : '') + // cell title\r\n                                (unselectable ? '' : ' data-handler=\"selectDay\" data-event=\"click\" data-month=\"' +\r\n                                '' + printDate.getMonth() + '\" data-year=\"' + printDate.getFullYear() + '\"') + '>' +\r\n                                (otherMonth && !showOtherMonths ? '&#xa0;' : // display for other months\r\n                                    unselectable ? '<span class=\"ui-state-default\">' + printDate.getDate() + '</span>'\r\n                                        : '<a class=\"ui-state-default' +\r\n                                    (printDate.getTime() === today.getTime() ? ' ' : '') +\r\n                                    (printDate.getTime() === currentDate.getTime() ? ' ui-state-active' : '') +\r\n                                    (otherMonth ? ' ui-priority-secondary' : '') +\r\n                                    '\" href=\"#\">' + printDate.getDate() + '</a>') + '</td>';\r\n                                printDate.setDate(printDate.getDate() + 1);\r\n                                printDate = this._daylightSavingAdjust(printDate);\r\n                            }\r\n                            calender += tbody + '</tr>';\r\n                        }\r\n                        drawMonth++;\r\n\r\n                        if (drawMonth > 11) {\r\n                            drawMonth = 0;\r\n                            drawYear++;\r\n                        }\r\n                        calender += '</tbody></table>' + (isMultiMonth ? '</div>' +\r\n                        (numMonths[0] > 0 && col === numMonths[1] - 1 ? '<div class=\"ui-datepicker-row-break\"></div>'\r\n                            : '') : '');\r\n                        group += calender;\r\n                    }\r\n                    html += group;\r\n                }\r\n                html += buttonPanel + ($.ui.ie6 && !inst.inline ?\r\n                    '<iframe src=\"javascript:false;\" class=\"ui-datepicker-cover\" frameborder=\"0\"></iframe>' : '');\r\n                inst._keyEvent = false;\r\n\r\n                return html;\r\n            };\r\n        },\r\n\r\n        /**\r\n         * Set current date if the date is not set\r\n         * @protected\r\n         * @param {Object} element\r\n         */\r\n        _setCurrentDate: function (element) {\r\n            if (!element.val()) {\r\n                element[this._picker()]('setTimezoneDate').val('');\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Init Datetimepicker\r\n         * @protected\r\n         * @param {Object} element\r\n         */\r\n        _initPicker: function (element) {\r\n            var picker = element[this._picker()](this.options),\r\n                pickerButtonText = picker.next('.ui-datepicker-trigger')\r\n                    .find('img')\r\n                    .attr('title');\r\n\r\n            picker.next('.ui-datepicker-trigger')\r\n                .addClass('v-middle')\r\n                .text('') // Remove jQuery UI datepicker generated image\r\n                .append('<span>' + pickerButtonText + '</span>');\r\n            this._setCurrentDate(element);\r\n        },\r\n\r\n        /**\r\n         * destroy instance of datetimepicker\r\n         */\r\n        _destroy: function () {\r\n            this.element[this._picker()]('destroy');\r\n            this._super();\r\n        },\r\n\r\n        /**\r\n         * Method is kept for backward compatibility and unit-tests acceptance\r\n         * see \\mage\\calendar\\calendar-test.js\r\n         * @return {Object} date\r\n         */\r\n        getTimezoneDate: function () {\r\n            return datepickerPrototype._getTimezoneDate.call(this, this.options);\r\n        }\r\n    });\r\n\r\n    calendarBasePrototype = $.mage.calendar.prototype;\r\n\r\n    /**\r\n     * Extension for Calendar - date and time format convert functionality\r\n     * @var {Object}\r\n     */\r\n    $.widget('mage.calendar', $.extend({}, calendarBasePrototype,\r\n            /** @lends {$.mage.calendar.prototype} */ {\r\n                /**\r\n                 * key - backend format, value - jquery format\r\n                 * @type {Object}\r\n                 * @private\r\n                 */\r\n                dateTimeFormat: {\r\n                    date: {\r\n                        'EEEE': 'DD',\r\n                        'EEE': 'D',\r\n                        'EE': 'D',\r\n                        'E': 'D',\r\n                        'D': 'o',\r\n                        'MMMM': 'MM',\r\n                        'MMM': 'M',\r\n                        'MM': 'mm',\r\n                        'M': 'mm',\r\n                        'yyyy': 'yy',\r\n                        'y': 'yy',\r\n                        'Y': 'yy',\r\n                        'yy': 'yy' // Always long year format on frontend\r\n                    },\r\n                    time: {\r\n                        'a': 'TT'\r\n                    }\r\n                },\r\n\r\n                /**\r\n                 * Add Date and Time converting to _create method\r\n                 * @protected\r\n                 */\r\n                _create: function () {\r\n                    if (this.options.dateFormat) {\r\n                        this.options.dateFormat = this._convertFormat(this.options.dateFormat, 'date');\r\n                    }\r\n\r\n                    if (this.options.timeFormat) {\r\n                        this.options.timeFormat = this._convertFormat(this.options.timeFormat, 'time');\r\n                    }\r\n                    calendarBasePrototype._create.apply(this, arguments);\r\n                },\r\n\r\n                /**\r\n                 * Converting date or time format\r\n                 * @protected\r\n                 * @param {String} format\r\n                 * @param {String} type\r\n                 * @return {String}\r\n                 */\r\n                _convertFormat: function (format, type) {\r\n                    var symbols = format.match(/([a-z]+)/ig),\r\n                        separators = format.match(/([^a-z]+)/ig),\r\n                        self = this,\r\n                        convertedFormat = '';\r\n\r\n                    if (symbols) {\r\n                        $.each(symbols, function (key, val) {\r\n                            convertedFormat +=\r\n                                (self.dateTimeFormat[type][val] || val) +\r\n                                (separators[key] || '');\r\n                        });\r\n                    }\r\n\r\n                    return convertedFormat;\r\n                }\r\n            })\r\n    );\r\n\r\n    /**\r\n     * Widget dateRange\r\n     * @extends $.mage.calendar\r\n     */\r\n    $.widget('mage.dateRange', $.mage.calendar, {\r\n\r\n        /**\r\n         * creates two instances of datetimepicker for date range selection\r\n         * @protected\r\n         */\r\n        _initPicker: function () {\r\n            var from,\r\n                to;\r\n\r\n            if (this.options.from && this.options.to) {\r\n                from = this.element.find('#' + this.options.from.id);\r\n                to = this.element.find('#' + this.options.to.id);\r\n                this.options.onSelect = $.proxy(function (selectedDate) {\r\n                    to[this._picker()]('option', 'minDate', selectedDate);\r\n                }, this);\r\n                $.mage.calendar.prototype._initPicker.call(this, from);\r\n                from.on('change', $.proxy(function () {\r\n                    to[this._picker()]('option', 'minDate', from[this._picker()]('getDate'));\r\n                }, this));\r\n                this.options.onSelect = $.proxy(function (selectedDate) {\r\n                    from[this._picker()]('option', 'maxDate', selectedDate);\r\n                }, this);\r\n                $.mage.calendar.prototype._initPicker.call(this, to);\r\n                to.on('change', $.proxy(function () {\r\n                    from[this._picker()]('option', 'maxDate', to[this._picker()]('getDate'));\r\n                }, this));\r\n            }\r\n        },\r\n\r\n        /**\r\n         * destroy two instances of datetimepicker\r\n         */\r\n        _destroy: function () {\r\n            if (this.options.from) {\r\n                this.element.find('#' + this.options.from.id)[this._picker()]('destroy');\r\n            }\r\n\r\n            if (this.options.to) {\r\n                this.element.find('#' + this.options.to.id)[this._picker()]('destroy');\r\n            }\r\n            this._super();\r\n        }\r\n    });\r\n\r\n    // Overrides the \"today\" button functionality to select today's date when clicked.\r\n    $.datepicker._gotoTodayOriginal = $.datepicker._gotoToday;\r\n\r\n    /**\r\n     * overwrite jQuery UI _showDatepicker function for proper HTML generation conditions.\r\n     *\r\n     */\r\n    $.datepicker._showDatepickerOriginal = $.datepicker._showDatepicker;\r\n\r\n    /**\r\n     * Triggers original method showDataPicker for rendering calendar\r\n     * @param {HTMLObject} input\r\n     * @private\r\n     */\r\n    $.datepicker._showDatepicker = function (input) {\r\n        if (!input.disabled) {\r\n            $.datepicker._showDatepickerOriginal.call(this, input);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * _gotoToday\r\n     * @param {Object} el\r\n     */\r\n    $.datepicker._gotoToday = function (el) {\r\n        //Set date/time according to timezone offset\r\n        $(el).datepicker('setTimezoneDate')\r\n            // To ensure that user can re-select date field without clicking outside it first.\r\n            .blur();\r\n    };\r\n\r\n    return {\r\n        dateRange:  $.mage.dateRange,\r\n        calendar:   $.mage.calendar\r\n    };\r\n}));\r\n","mage/collapsible.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\",\r\n    'jquery/jquery-storageapi',\r\n    \"mage/mage\"\r\n], function($){\r\n    \"use strict\";\r\n    \r\n    var hideProps = {},\r\n        showProps = {};\r\n\r\n    hideProps.height =  \"hide\";\r\n    showProps.height =  \"show\";\r\n\r\n    $.widget(\"mage.collapsible\", {\r\n        options: {\r\n            active: false,\r\n            disabled: false,\r\n            collapsible: true,\r\n            header: \"[data-role=title]\",\r\n            content: \"[data-role=content]\",\r\n            trigger: \"[data-role=trigger]\",\r\n            closedState: null,\r\n            openedState: null,\r\n            disabledState: null,\r\n            ajaxUrlElement: \"[data-ajax=true]\",\r\n            ajaxContent: false,\r\n            loadingClass: null,\r\n            saveState: false,\r\n            animate: false,\r\n            icons: {\r\n                activeHeader: null,\r\n                header: null\r\n            },\r\n            collateral: {\r\n                element: null,\r\n                openedState: null\r\n            }\r\n        },\r\n\r\n        _create: function () {\r\n            this.storage= $.localStorage;\r\n            this.icons = false;\r\n            if((typeof this.options.icons) === \"string\") {\r\n                this.options.icons = $.parseJSON(this.options.icons);\r\n            }\r\n\r\n            this._processPanels();\r\n            this._processState();\r\n            this._refresh();\r\n\r\n\r\n            if (this.options.icons.header && this.options.icons.activeHeader) {\r\n                this._createIcons();\r\n                this.icons = true;\r\n            }\r\n\r\n            this._bind(\"click\");\r\n            this._trigger('created');\r\n        },\r\n\r\n        _refresh: function () {\r\n            this.trigger.attr(\"tabIndex\",0);\r\n            if (this.options.active && !this.options.disabled) {\r\n                if (this.options.openedState) {\r\n                    this.element.addClass(this.options.openedState);\r\n                }\r\n                if (this.options.collateral.element && this.options.collateral.openedState) {\r\n                    $(this.options.collateral.element).addClass(this.options.collateral.openedState);\r\n                }\r\n                if (this.options.ajaxContent) {\r\n                    this._loadContent();\r\n                }\r\n                // ARIA (updates aria attributes)\r\n                this.header.attr({\r\n                    'aria-selected': false\r\n                });\r\n            }\r\n            else if (this.options.disabled) {\r\n                this.disable();\r\n            } else {\r\n                this.content.hide();\r\n                if(this.options.closedState) {\r\n                    this.element.addClass(this.options.closedState);\r\n                }\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Processing the state:\r\n         *     If deep linking is used and the anchor is the id of the content or the content contains this id,\r\n         *     and the collapsible element is a nested one having collapsible parents, in order to see the content,\r\n         *     all the parents must be expanded.\r\n         * @private\r\n         */\r\n        _processState: function () {\r\n            var anchor = window.location.hash,\r\n                isValid = $.mage.isValidSelector(anchor),\r\n                urlPath = window.location.pathname.replace(/\\./g, ''),\r\n                state;\r\n\r\n            this.stateKey = encodeURIComponent(urlPath + this.element.attr(\"id\"));\r\n            \r\n            if ( isValid && ( $(this.content.find(anchor)).length > 0 || this.content.attr(\"id\") === anchor.replace(\"#\",\"\")) ) {\r\n                this.element.parents(\"[data-collapsible=true]\").collapsible(\"forceActivate\");\r\n                if(!this.options.disabled) {\r\n                    this.options.active = true;\r\n                    if (this.options.saveState) {\r\n                        this.storage.set(this.stateKey,true);\r\n                    }\r\n                }\r\n            } else if (this.options.saveState && !this.options.disabled) {\r\n                state = this.storage.get(this.stateKey);\r\n                if (typeof state === 'undefined' || state === null) {\r\n                    this.storage.set(this.stateKey,this.options.active);\r\n                } else if (state === true) {\r\n                    this.options.active = true;\r\n                } else if (state === false) {\r\n                    this.options.active = false;\r\n                }\r\n            }\r\n        },\r\n\r\n        _createIcons: function () {\r\n            var icons = this.options.icons;\r\n            if (icons) {\r\n                $(\"<span>\")\r\n                    .addClass(icons.header)\r\n                    .attr(\"data-role\",\"icons\")\r\n                    .prependTo(this.header);\r\n                if (this.options.active && !this.options.disabled) {\r\n                    this.header.children(\"[data-role=icons]\")\r\n                        .removeClass(icons.header)\r\n                        .addClass(icons.activeHeader);\r\n                }\r\n            }\r\n        },\r\n\r\n        _destroyIcons: function () {\r\n            this.header\r\n                .children(\"[data-role=icons]\")\r\n                .remove();\r\n        },\r\n\r\n        _destroy: function () {\r\n            var options = this.options;\r\n\r\n            this.element.removeAttr(\"data-collapsible\");\r\n\r\n            this.trigger.removeAttr(\"tabIndex\");\r\n            if(options.openedState) {\r\n                this.element.removeClass(options.openedState);\r\n            }\r\n            if (this.options.collateral.element && this.options.collateral.openedState) {\r\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\r\n            }\r\n            if(options.closedState){\r\n                this.element.removeClass(options.closedState);\r\n            }\r\n            if(options.disabledState){\r\n                this.element.removeClass(options.disabledState);\r\n            }\r\n\r\n            if (this.icons) {\r\n                this._destroyIcons();\r\n            }\r\n        },\r\n\r\n        _processPanels: function () {\r\n            this.element.attr(\"data-collapsible\", \"true\");\r\n\r\n            if (typeof this.options.header === \"object\") {\r\n                this.header = this.options.header;\r\n            } else {\r\n                var headers = this.element.find(this.options.header);\r\n                if(headers.length > 0) {\r\n                    this.header = headers.eq(0);\r\n                } else {\r\n                    this.header = this.element;\r\n                }\r\n            }\r\n\r\n            if (typeof this.options.content === \"object\") {\r\n                this.content = this.options.content;\r\n            } else {\r\n                this.content = this.header.next(this.options.content).eq(0);\r\n            }\r\n\r\n            // ARIA (init aria attributes)\r\n            if (this.header.attr('id')) {\r\n                this.content.attr('aria-labelledby', this.header.attr('id'));\r\n            }\r\n\r\n            if (this.content.attr('id')) {\r\n                this.header.attr('aria-controls', this.content.attr('id'));\r\n            }\r\n\r\n            this.header\r\n                .attr({\r\n                    'role': 'tab',\r\n                    'aria-selected': this.options.active,\r\n                    'aria-expanded': this.options.active\r\n                });\r\n\r\n            // For collapsible widget only (not tabs or accordion)\r\n            if (this.header.parent().attr('role') != 'presentation') {\r\n                this.header\r\n                    .parent()\r\n                    .attr('role', 'tablist');\r\n            }\r\n\r\n            this.content.attr({\r\n                'role': 'tabpanel',\r\n                'aria-hidden': !this.options.active\r\n            });\r\n\r\n            if (typeof this.options.trigger === \"object\") {\r\n                this.trigger = this.options.trigger;\r\n            } else {\r\n                var triggers = this.header.find(this.options.trigger);\r\n                if(triggers.length > 0) {\r\n                    this.trigger = triggers.eq(0);\r\n                } else {\r\n                    this.trigger = this.header;\r\n                }\r\n            }\r\n        },\r\n\r\n        _keydown: function (event) {\r\n            if (event.altKey || event.ctrlKey) {\r\n                return;\r\n            }\r\n\r\n            var keyCode = $.ui.keyCode;\r\n\r\n            switch (event.keyCode) {\r\n                case keyCode.SPACE:\r\n                case keyCode.ENTER:\r\n                    this._eventHandler(event);\r\n                    break;\r\n            }\r\n\r\n        },\r\n\r\n        _bind: function (event) {\r\n            this.events = {\r\n                keydown: \"_keydown\"\r\n            };\r\n            var self = this;\r\n            if (event) {\r\n                $.each(event.split(\" \"), function (index, eventName) {\r\n                    self.events[ eventName ] = \"_eventHandler\";\r\n                });\r\n            }\r\n            this._off(this.trigger);\r\n            if(!this.options.disabled) {\r\n                this._on(this.trigger, this.events);\r\n            }\r\n        },\r\n\r\n        disable: function() {\r\n            this._off(this.trigger);\r\n            this.forceDeactivate();\r\n            this.options.disabled = true;\r\n            if(this.options.disabledState) {\r\n                this.element.addClass(this.options.disabledState);\r\n            }\r\n            this.trigger.attr(\"tabIndex\",-1);\r\n        },\r\n\r\n        enable: function() {\r\n            this._on(this.trigger, this.events);\r\n            this.options.disabled = false;\r\n            if(this.options.disabledState) {\r\n                this.element.removeClass(this.options.disabledState);\r\n            }\r\n        },\r\n\r\n        _eventHandler: function (event) {\r\n\r\n            if (this.options.active && this.options.collapsible) {\r\n                this.deactivate();\r\n            } else {\r\n                this.activate();\r\n\r\n            }\r\n            event.preventDefault();\r\n\r\n        },\r\n\r\n        _animate: function(prop) {\r\n            var duration,\r\n                easing,\r\n                animate = this.options.animate;\r\n\r\n            if ( typeof animate === \"number\" ) {\r\n                duration = animate;\r\n            }\r\n            if (typeof animate === \"string\" ) {\r\n                animate = $.parseJSON(animate);\r\n            }\r\n            duration = duration || animate.duration;\r\n            easing = animate.easing;\r\n            this.content.animate(prop,duration,easing);\r\n        },\r\n\r\n        deactivate: function () {\r\n            if(this.options.animate) {\r\n                this._animate(hideProps);\r\n            } else {\r\n                this.content.hide();\r\n            }\r\n            this._close();\r\n        },\r\n\r\n        forceDeactivate: function () {\r\n            this.content.hide();\r\n            this._close();\r\n\r\n        },\r\n\r\n        _close: function () {\r\n\r\n            this.options.active = false;\r\n\r\n            if (this.options.saveState) {\r\n                this.storage.set(this.stateKey,false);\r\n            }\r\n            if (this.options.openedState) {\r\n                this.element.removeClass(this.options.openedState);\r\n            }\r\n            if (this.options.collateral.element && this.options.collateral.openedState) {\r\n                $(this.options.collateral.element).removeClass(this.options.collateral.openedState);\r\n            }\r\n            if(this.options.closedState) {\r\n                this.element.addClass(this.options.closedState);\r\n            }\r\n            if (this.icons) {\r\n                this.header.children(\"[data-role=icons]\")\r\n                    .removeClass(this.options.icons.activeHeader)\r\n                    .addClass(this.options.icons.header);\r\n            }\r\n\r\n            // ARIA (updates aria attributes)\r\n            this.header.attr({\r\n                'aria-selected': 'false',\r\n                'aria-expanded': 'false'\r\n            });\r\n            this.content.attr({\r\n                'aria-hidden': 'true'\r\n            });\r\n\r\n            this.element.trigger('dimensionsChanged', {opened: false});\r\n        },\r\n\r\n        activate: function () {\r\n            if (!this.options.disabled) {\r\n                if (this.options.animate) {\r\n                    this._animate(showProps);\r\n                } else {\r\n                    this.content.show();\r\n                }\r\n                this._open();\r\n            }\r\n        },\r\n\r\n        forceActivate: function () {\r\n            if (!this.options.disabled) {\r\n                this.content.show();\r\n                this._open();\r\n            }\r\n        },\r\n\r\n        _open: function () {\r\n\r\n            this.element.trigger(\"beforeOpen\");\r\n\r\n            this.options.active = true;\r\n\r\n            if (this.options.ajaxContent) {\r\n                this._loadContent();\r\n            }\r\n            if (this.options.saveState) {\r\n                this.storage.set(this.stateKey,true);\r\n            }\r\n            if (this.options.openedState) {\r\n                this.element.addClass(this.options.openedState);\r\n            }\r\n            if (this.options.collateral.element && this.options.collateral.openedState) {\r\n                $(this.options.collateral.element).addClass(this.options.collateral.openedState);\r\n            }\r\n            if (this.options.closedState) {\r\n                this.element.removeClass(this.options.closedState);\r\n            }\r\n            if (this.icons) {\r\n                this.header.children(\"[data-role=icons]\")\r\n                    .removeClass(this.options.icons.header)\r\n                    .addClass(this.options.icons.activeHeader);\r\n            }\r\n\r\n            // ARIA (updates aria attributes)\r\n            this.header.attr({\r\n                'aria-selected': 'true',\r\n                'aria-expanded': 'true'\r\n            });\r\n            this.content.attr({\r\n                'aria-hidden': 'false'\r\n            });\r\n\r\n            this.element.trigger('dimensionsChanged', {opened: true});\r\n        },\r\n\r\n        _loadContent: function () {\r\n            var url = this.element.find(this.options.ajaxUrlElement).attr(\"href\");\r\n            if(url) {\r\n                this.xhr = $.get({\r\n                    url: url,\r\n                    dataType: 'html'\r\n                }, function () {\r\n                });\r\n            }\r\n            var that = this;\r\n            if (that.xhr && that.xhr.statusText !== \"canceled\") {\r\n                if(that.options.loadingClass) {\r\n                    that.element.addClass(that.options.loadingClass);\r\n                }\r\n                that.content.attr(\"aria-busy\", \"true\");\r\n                that.xhr\r\n                    .success(function (response) {\r\n                        setTimeout(function () {\r\n                            that.content.html(response);\r\n                        }, 1);\r\n                    })\r\n                    .complete(function (jqXHR, status) {\r\n                        setTimeout(function () {\r\n                            if (status === \"abort\") {\r\n                                that.content.stop(false, true);\r\n                            }\r\n                            if(that.options.loadingClass) {\r\n                                that.element.removeClass(that.options.loadingClass);\r\n                            }\r\n                            that.content.removeAttr(\"aria-busy\");\r\n                            if (jqXHR === that.xhr) {\r\n                                delete that.xhr;\r\n                            }\r\n                        }, 1);\r\n                    });\r\n            }\r\n        }\r\n\r\n    });\r\n    \r\n    return $.mage.collapsible;\r\n});\r\n","mage/common.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\ndefine([\r\n    'jquery',\r\n    'domReady!'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    /* Form with auto submit feature */\r\n    $('form[data-auto-submit=\"true\"]').submit();\r\n});\r\n","mage/cookies.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint eqnull:true browser:true jquery:true*/\r\n/*global jQuery*/\r\n(function (factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            'jquery',\r\n            'mage/mage',\r\n            'jquery/jquery.cookie'\r\n        ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Helper for cookies manipulation\r\n     * @returns {CookieHelper}\r\n     * @constructor\r\n     */\r\n    var CookieHelper = function () {\r\n\r\n        /**\r\n         * Cookie default values.\r\n         * @type {Object}\r\n         */\r\n        this.defaults = {\r\n            expires: null,\r\n            path: '/',\r\n            domain: null,\r\n            secure: false,\r\n            lifetime: null\r\n        };\r\n\r\n        /**\r\n         * Calculate cookie expiration date based on its lifetime.\r\n         * @param {Object} options - Cookie option values\r\n         * @return {Date|null} Calculated cookie expiration date or null if no lifetime provided.\r\n         * @private\r\n         */\r\n        function lifetimeToExpires(options, defaults) {\r\n            var expires,\r\n                lifetime;\r\n\r\n            lifetime = options.lifetime || defaults.lifetime;\r\n\r\n            if (lifetime && lifetime > 0) {\r\n                expires = options.expires || new Date();\r\n                \r\n                return new Date(expires.getTime() + lifetime * 1000);\r\n            }\r\n\r\n            return null;\r\n        }\r\n\r\n        /**\r\n         * Set a cookie's value by cookie name based on optional cookie options.\r\n         * @param {String} name - The name of the cookie.\r\n         * @param {String} value - The cookie's value.\r\n         * @param {Object} options - Optional options (e.g. lifetime, expires, path, etc.)\r\n         */\r\n        this.set = function (name, value, options) {\r\n            var expires,\r\n                path,\r\n                domain,\r\n                secure;\r\n\r\n            options = $.extend({}, this.defaults, options || {});\r\n            expires = lifetimeToExpires(options, this.defaults) || options.expires;\r\n            path = options.path;\r\n            domain = options.domain;\r\n            secure = options.secure;\r\n\r\n            document.cookie = name + '=' + encodeURIComponent(value) +\r\n                (expires ? '; expires=' + expires.toGMTString() :  '') +\r\n                (path ? '; path=' + path : '') +\r\n                (domain ? '; domain=' + domain : '') +\r\n                (secure ? '; secure' : '');\r\n        };\r\n\r\n        /**\r\n         * Get a cookie's value by cookie name.\r\n         * @param {String} name  - The name of the cookie.\r\n         * @return {(null|String)}\r\n         */\r\n        this.get = function (name) {\r\n            var arg = name + '=',\r\n                aLength = arg.length,\r\n                cLength = document.cookie.length,\r\n                i = 0,\r\n                j = 0;\r\n\r\n            while (i < cLength) {\r\n                j = i + aLength;\r\n\r\n                if (document.cookie.substring(i, j) === arg) {\r\n                    return this.getCookieVal(j);\r\n                }\r\n                i = document.cookie.indexOf(' ', i) + 1;\r\n\r\n                if (i === 0) {\r\n                    break;\r\n                }\r\n            }\r\n\r\n            return null;\r\n        };\r\n\r\n        /**\r\n         * Clear a cookie's value by name.\r\n         * @param {String} name - The name of the cookie being cleared.\r\n         */\r\n        this.clear = function (name) {\r\n            if (this.get(name)) {\r\n                this.set(name, '', {\r\n                    expires: new Date('Jan 01 1970 00:00:01 GMT')\r\n                });\r\n            }\r\n        };\r\n\r\n        /**\r\n         * Return URI decoded cookie component value (e.g. expires, path, etc.) based on a\r\n         * numeric offset in the document's cookie value.\r\n         * @param {Number} offset - Offset into the document's cookie value.\r\n         * @return {String}\r\n         */\r\n        this.getCookieVal = function (offset) {\r\n            var endstr = document.cookie.indexOf(';', offset);\r\n\r\n            if (endstr === -1) {\r\n                endstr = document.cookie.length;\r\n            }\r\n\r\n            return decodeURIComponent(document.cookie.substring(offset, endstr));\r\n        };\r\n\r\n        return this;\r\n    };\r\n\r\n    $.extend(true, $, {\r\n        mage: {\r\n            cookies: new CookieHelper()\r\n        }\r\n    });\r\n\r\n    return function (pageOptions) {\r\n        $.extend($.mage.cookies.defaults, pageOptions);\r\n        $.extend($.cookie.defaults, $.mage.cookies.defaults);\r\n    };\r\n}));\r\n","mage/dataPost.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\n/*global confirm:true*/\r\ndefine([\r\n    \"jquery\",\r\n    \"mage/template\",\r\n    \"jquery/ui\"\r\n], function($,mageTemplate){\r\n    \r\n    $.widget('mage.dataPost', {\r\n        options: {\r\n            formTemplate: '<form action=\"<%- data.action %>\" method=\"post\">'\r\n                + '<% _.each(data.data, function(value, index) { %>'\r\n                    + '<input name=\"<%- index %>\" value=\"<%- value %>\">'\r\n                + '<% }) %></form>',\r\n            postTrigger: ['a[data-post]', 'button[data-post]', 'span[data-post]'],\r\n            formKeyInputSelector: 'input[name=\"form_key\"]'\r\n        },\r\n        _create: function() {\r\n            this._bind();\r\n        },\r\n        _bind: function() {\r\n            var events = {};\r\n            $.each(this.options.postTrigger, function(index, value) {\r\n                events['click ' + value] = '_postDataAction';\r\n            });\r\n            this._on(events);\r\n        },\r\n        _postDataAction: function(e) {\r\n            e.preventDefault();\r\n            var params = $(e.currentTarget).data('post');\r\n            this.postData(params);\r\n        },\r\n        postData: function(params) {\r\n            var formKey = $(this.options.formKeyInputSelector).val();\r\n            if (formKey) {\r\n                params.data.form_key = formKey;\r\n            }\r\n            $(mageTemplate(this.options.formTemplate, {\r\n                data: params\r\n            })).appendTo('body').hide().submit();\r\n        }\r\n    });\r\n    \r\n    $(document).dataPost();\r\n\r\n    return $.mage.dataPost;\r\n});\r\n","mage/decorate.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            \"jquery\",\r\n            \"mage/translate\"\r\n        ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n\r\n    var methods = {\r\n        /**\r\n         * Decorate a list (e.g. a <ul> containing <li>) recursively if specified.\r\n         * @param {boolean} isRecursive\r\n         */\r\n        list: function (isRecursive) {\r\n            return this.each(function() {\r\n                var list = $(this);\r\n                if (list.length > 0) {\r\n                    var items = (typeof(isRecursive) === undefined || isRecursive) ?\r\n                        list.find('li') :\r\n                        list.children();\r\n                    items.decorate('generic', ['odd', 'even', 'last']);\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Annotate a set of DOM elements with decorator classes.\r\n         * @param {Array} decoratorParams\r\n         */\r\n        generic: function (decoratorParams) {\r\n            var elements = $(this);\r\n            if (elements) {\r\n                var allSupportedParams = {\r\n                    even: 'odd', // Flip jQuery odd/even so that index 0 is odd.\r\n                    odd: 'even',\r\n                    last: 'last',\r\n                    first: 'first'\r\n                };\r\n\r\n                decoratorParams = decoratorParams || allSupportedParams;\r\n\r\n                $.each(decoratorParams, function(index, param) {\r\n                    if (param === 'even' || param === 'odd') {\r\n                        elements.filter(':' + param).removeClass('odd even').addClass(allSupportedParams[param]);\r\n                    } else {\r\n                        elements.filter(':' + param).addClass(allSupportedParams[param]);\r\n                    }\r\n                });\r\n            }\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Decorate DOM elements in an HTML table with specified classes.\r\n         * @param {Object} instanceOptions\r\n         */\r\n        table: function (instanceOptions) {\r\n            return this.each(function() {\r\n                var table = $(this);\r\n                if (table.length > 0) {\r\n                    var options = {\r\n                        'tbody': false,\r\n                        'tbody tr': ['odd', 'even', 'first', 'last'],\r\n                        'thead tr': ['first', 'last'],\r\n                        'tfoot tr': ['first', 'last'],\r\n                        'tr td': ['last']\r\n                    };\r\n\r\n                    $.extend(options, instanceOptions || {});\r\n\r\n                    $.each(options, function (key, value) {\r\n                        if (options[key]) {\r\n                            if (key === 'tr td') {\r\n                                $.each(table.find('tr'), function () {\r\n                                    $(this).find('td').decorate('generic', options['tr td']);\r\n                                });\r\n                            } else {\r\n                                table.find(key).decorate('generic', value);\r\n                            }\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Annotate data list elements with CSS classes.\r\n         */\r\n        dataList: function() {\r\n            return this.each(function() {\r\n                var list = $(this);\r\n                if (list) {\r\n                    list.find('dt').decorate('generic', ['odd', 'even', 'last']);\r\n                    list.find('dd').decorate('generic', ['odd', 'even', 'last']);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    $.fn.decorate = function(method) {\r\n        if (methods[method]) {\r\n            return methods[method].apply(this, Array.prototype.slice.call(arguments, 1));\r\n        } else if (typeof method === 'object' || ! method) {\r\n            return methods.init.apply(this, arguments);\r\n        } else {\r\n            var message = $.mage.__('Method %s does not exist on jQuery.decorate');\r\n            $.error(message.replace('%s', method));\r\n        }\r\n    };\r\n\r\n}));\r\n","mage/deletable-item.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint jquery:true*/\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n    \r\n    /**\r\n     * This widget is used to tag a DOM element as deletable. By default, it will use the click event on the item with a\r\n     * data role of delete to trigger the deletion.\r\n     */\r\n    $.widget('mage.deletableItem', {\r\n        options: {\r\n            deleteEvent: 'click',\r\n            deleteSelector: '[data-role=\"delete\"]',\r\n            hiddenClass: 'no-display'\r\n        },\r\n\r\n        /**\r\n         * This method binds elements found in this widget.\r\n         */\r\n        _bind: function () {\r\n            var handlers = {};\r\n\r\n            // since the first handler is dynamic, generate the object using array notation\r\n            handlers[this.options.deleteEvent + ' ' + this.options.deleteSelector] = '_onDeleteClicked';\r\n            handlers.hideDelete = '_onHideDelete';\r\n            handlers.showDelete = '_onShowDelete';\r\n\r\n            this._on(handlers);\r\n        },\r\n\r\n        /**\r\n         * This method constructs a new widget.\r\n         */\r\n        _create: function () {\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * This method is to initialize the control\r\n         * @private\r\n         */\r\n        _init: function() {\r\n            this._onHideDelete(); // by default, hide the control\r\n        },\r\n\r\n        /**\r\n         * This method removes the entity from the DOM.\r\n         * @private\r\n         */\r\n        _onDeleteClicked: function (e) {\r\n            e.stopPropagation();\r\n            this.element.trigger('deleteItem');\r\n        },\r\n\r\n        /**\r\n         * This method hides the delete capability of this item (i.e. making it not deletable)\r\n         * @private\r\n         */\r\n        _onHideDelete: function () {\r\n            this.element.find(this.options.deleteSelector).addClass(this.options.hiddenClass);\r\n        },\r\n\r\n        /**\r\n         * This method shows the delete capability of this item (i.e. making it deletable)\r\n         * @private\r\n         */\r\n        _onShowDelete: function () {\r\n            this.element.find(this.options.deleteSelector).removeClass(this.options.hiddenClass);\r\n        }\r\n    });\r\n    \r\n    return $.mage.deletableItem;\r\n});\r\n","mage/dialog.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n\r\n    /**\r\n     * Dialog Widget - this widget is a wrapper for the jQuery UI Dialog\r\n     */\r\n    $.widget('mage.dialog', $.ui.dialog, {});\r\n\r\n    return $.mage.dialog;\r\n});\r\n","mage/dropdown.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\",\r\n    \"mage/translate\"\r\n], function($){\r\n    'use strict';\r\n\r\n    var timer = null;\r\n    /**\r\n     * Dropdown Widget - this widget is a wrapper for the jQuery UI Dialog\r\n     */\r\n    $.widget('mage.dropdownDialog', $.ui.dialog, {\r\n        options: {\r\n            triggerEvent : \"click\",\r\n            triggerClass: null,\r\n            parentClass: null,\r\n            triggerTarget: null,\r\n            defaultDialogClass: \"mage-dropdown-dialog\",\r\n            dialogContentClass: null,\r\n            shadowHinter: null,\r\n            closeOnMouseLeave: true,\r\n            closeOnClickOutside: true,\r\n            minHeight: null,\r\n            minWidth: null,\r\n            width: null,\r\n            modal: false,\r\n            timeout: null,\r\n            autoOpen: false,\r\n            createTitleBar: false,\r\n            autoPosition: false,\r\n            autoSize: false,\r\n            draggable: false,\r\n            resizable: false,\r\n            bodyClass: '',\r\n            buttons: [\r\n                {\r\n                    'class': \"action close\",\r\n                    'text': $.mage.__(\"Close\"),\r\n                    'click': function () {\r\n                        $(this).dropdownDialog(\"close\");\r\n                    }\r\n                }\r\n            ]\r\n        },\r\n        /**\r\n         * extend default functionality to bind the opener for dropdown\r\n         * @private\r\n         */\r\n        _create: function() {\r\n            this._super();\r\n            this.uiDialog.addClass(this.options.defaultDialogClass);\r\n            var _self = this;\r\n\r\n            if (_self.options.triggerTarget) {\r\n                $(_self.options.triggerTarget).on(_self.options.triggerEvent,function(event) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                    if(!_self._isOpen) {\r\n                        $('.' + _self.options.defaultDialogClass + ' > .ui-dialog-content').dropdownDialog(\"close\");\r\n                        _self.open();\r\n                    }\r\n                    else {\r\n                        _self.close(event);\r\n                    }\r\n                });\r\n            }\r\n\r\n            if (_self.options.shadowHinter) {\r\n                _self.hinter = $('<div class=\"' + _self.options.shadowHinter + '\"/>');\r\n                _self.element.append(_self.hinter);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * extend default functionality to close the dropdown  with custom delay on mouse out and also to close when clicking outside\r\n         */\r\n        open: function () {\r\n            this._super();\r\n            var _self = this;\r\n            if(_self.options.dialogContentClass) {\r\n                _self.element.addClass(_self.options.dialogContentClass);\r\n            }\r\n            if(_self.options.closeOnMouseLeave) {\r\n\r\n                this._mouseEnter(_self.uiDialog);\r\n                this._mouseLeave(_self.uiDialog);\r\n                if(_self.options.triggerTarget) {\r\n                    this._mouseLeave($(_self.options.triggerTarget));\r\n                }\r\n            }\r\n\r\n            if(_self.options.closeOnClickOutside) {\r\n                $('body').on('click.outsideDropdown', function (event) {\r\n                    if(_self._isOpen && !$(event.target).closest('.ui-dialog').length) {\r\n                        if (timer) {\r\n                            clearTimeout(timer);\r\n                        }\r\n                        _self.close(event);\r\n                        }\r\n                    }\r\n                );\r\n            }\r\n            // adding the class on the opener and parent element for dropdown\r\n            if(_self.options.triggerClass) {\r\n                $(_self.options.triggerTarget).addClass(_self.options.triggerClass);\r\n            }\r\n            if(_self.options.parentClass) {\r\n                $(_self.options.appendTo).addClass(_self.options.parentClass);\r\n            }\r\n            if(_self.options.bodyClass) {\r\n                $('body').addClass(_self.options.bodyClass);\r\n            }\r\n\r\n            if (_self.options.shadowHinter) {\r\n                _self._setShadowHinterPosition();\r\n            }\r\n        },\r\n\r\n        /**\r\n         * extend default functionality to reset the timer and remove the active class for opener\r\n         * @param event\r\n         */\r\n        close: function(event) {\r\n            this._super();\r\n            if(this.options.dialogContentClass) {\r\n                this.element.removeClass(this.options.dialogContentClass);\r\n            }\r\n            if(this.options.triggerClass) {\r\n                $(this.options.triggerTarget).removeClass(this.options.triggerClass);\r\n            }\r\n            if(this.options.parentClass) {\r\n                $(this.options.appendTo).removeClass(this.options.parentClass);\r\n            }\r\n            if(this.options.bodyClass) {\r\n                $('body').removeClass(this.options.bodyClass);\r\n            }\r\n            if(timer) {\r\n                clearTimeout(timer);\r\n            }\r\n            if(this.options.triggerTarget) {\r\n                $(this.options.triggerTarget).off(\"mouseleave\");\r\n            }\r\n            this.uiDialog.off(\"mouseenter\");\r\n            this.uiDialog.off(\"mouseleave\");\r\n            $('body').off('click.outsideDropdown');\r\n        },\r\n\r\n        /**\r\n         * _setShadowHinterPosition\r\n         * @private\r\n         */\r\n        _setShadowHinterPosition: function () {\r\n            var _self = this,\r\n                offset;\r\n            offset = _self.options.position.of.offset().left -\r\n                _self.element.offset().left +\r\n                _self.options.position.of.outerWidth() / 2;\r\n            offset = isNaN(offset) ? 0 : Math.floor(offset);\r\n            _self.hinter.css('left', offset);\r\n        },\r\n\r\n        _position: function() {\r\n            if(this.options.autoPosition) {\r\n                this._super();\r\n            }\r\n        },\r\n        _createTitlebar: function() {\r\n            if(this.options.createTitleBar) {\r\n                this._super();\r\n            }\r\n            else {\r\n                // the title bar close button is referenced in _focusTabbable function, so to prevent errors it must be declared\r\n                this.uiDialogTitlebarClose = $(\"<div>\");\r\n            }\r\n        },\r\n\r\n        _size: function() {\r\n            if(this.options.autoSize) {\r\n                this._super();\r\n            }\r\n        },\r\n\r\n        _mouseLeave : function(handler) {\r\n            var _self = this;\r\n            handler.on(\"mouseleave\", function (event) {\r\n                event.stopPropagation();\r\n                if (_self._isOpen) {\r\n                    if (timer) {\r\n                        clearTimeout(timer);\r\n                    }\r\n                    timer = setTimeout(function (event) {\r\n                        _self.close(event);\r\n                    }, _self.options.timeout);\r\n                }\r\n            });\r\n        },\r\n\r\n        _mouseEnter : function(handler){\r\n            handler.on(\"mouseenter\", function (event) {\r\n                event.stopPropagation();\r\n                if (timer) {\r\n                    clearTimeout(timer);\r\n                }\r\n            });\r\n        },\r\n\r\n        _setOption: function( key, value ) {\r\n            this._super(key, value);\r\n            if ( key === \"triggerTarget\" ) {\r\n                this.options.triggerTarget = value;\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.dropdownDialog;\r\n});\r\n","mage/dropdowns.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    \"jquery\"\r\n], function($){\r\n    'use strict';\r\n\r\n    $.fn.dropdown = function(options) {\r\n        var defaults = {\r\n            parent: null,\r\n            autoclose: true,\r\n            btnArrow: '.arrow',\r\n            menu: '[data-target=\"dropdown\"]',\r\n            activeClass: 'active'\r\n        };\r\n\r\n        options = $.extend(defaults, options);\r\n        var actionElem = $(this),\r\n            self = this;\r\n\r\n        this.openDropdown = function(elem) {\r\n            elem\r\n                .addClass(options.activeClass)\r\n                .attr('aria-expanded', true)\r\n                .parent()\r\n                    .addClass(options.activeClass);\r\n\r\n            elem.parent()\r\n                .find(options.menu)\r\n                .attr('aria-hidden', false);\r\n\r\n            $(options.btnArrow, elem).text('-');\r\n        };\r\n\r\n        this.closeDropdown = function(elem) {\r\n            elem\r\n                .removeClass(options.activeClass)\r\n                .attr('aria-expanded', false)\r\n                .parent()\r\n                    .removeClass(options.activeClass);\r\n\r\n            elem.parent()\r\n                .find(options.menu)\r\n                .attr('aria-hidden', true);\r\n\r\n            $(options.btnArrow, elem).text('+');\r\n        };\r\n\r\n        /* Reset all dropdowns */\r\n        this.reset = function(param) {\r\n            var params = param || {},\r\n                dropdowns = params.elems || actionElem;\r\n\r\n            dropdowns.each(function(index, elem) {\r\n                self.closeDropdown($(elem));\r\n            });\r\n        };\r\n\r\n        /* document Event bindings */\r\n        if(options.autoclose === true) {\r\n            $(document).on('click.hideDropdown', this.reset);\r\n            $(document).on('keyup.hideDropdown', function(e) {\r\n                var ESC_CODE = '27';\r\n\r\n                if (e.keyCode == ESC_CODE) {\r\n                    self.reset();\r\n                }\r\n            });\r\n        }\r\n\r\n        if (options.events) {\r\n            $.each(options.events, function(index, event) {\r\n                $(document).on(event.name, event.selector, event.action);\r\n            });\r\n        }\r\n\r\n        return this.each(function() {\r\n            var elem = $(this),\r\n                parent = $(options.parent).length > 0 ? $(options.parent) : elem.parent(),\r\n                menu = $(options.menu, parent) || $('.dropdown-menu', parent);\r\n\r\n            // ARIA (adding aria attributes)\r\n            if (menu.length) {\r\n                elem.attr('aria-haspopup', true);\r\n            }\r\n\r\n            if (!elem.hasClass(options.activeClass)) {\r\n                elem.attr('aria-expanded', false);\r\n                menu.attr('aria-hidden', true);\r\n            } else {\r\n                elem.attr('aria-expanded', true);\r\n                menu.attr('aria-hidden', false);\r\n            }\r\n\r\n            if (elem.attr('data-trigger-keypress-button')) {\r\n                elem.keypress(function(e) {\r\n                    var ENTER_CODE = '13';\r\n\r\n                    if (e.which == ENTER_CODE) {\r\n                        elem.trigger('click.toggleDropdown');\r\n                    }\r\n                })\r\n            }\r\n\r\n            elem.on('click.toggleDropdown', function() {\r\n                if(options.autoclose === true) {\r\n                    var elem = actionElem;\r\n\r\n                    actionElem = $();\r\n                    $(document).trigger('click.hideDropdown');\r\n                    actionElem = elem;\r\n                }\r\n                self[elem.hasClass(options.activeClass) ? 'closeDropdown' : 'openDropdown'](elem);\r\n\r\n                return false;\r\n            });\r\n        });\r\n    };\r\n    \r\n    return function(data, el){\r\n        $(el).dropdown(data);\r\n    };\r\n});\r\n","mage/edit-trigger.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true */\r\n(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            \"jquery\",\r\n            \"mage/template\",\r\n            \"jquery/ui\"\r\n        ], factory);\r\n    } else {\r\n        factory(root.jQuery, root.mageTemplate);\r\n    }\r\n}(this, function ($, mageTemplate) {\r\n    \"use strict\";\r\n    $.widget(\"mage.editTrigger\", {\r\n        options: {\r\n            img: '',\r\n            alt: '[TR]',\r\n            template: '#translate-inline-icon',\r\n            zIndex: 2000,\r\n            editSelector: '[data-translate]',\r\n            delay: 2000,\r\n            offsetTop: -3,\r\n            singleElement: true\r\n        },\r\n        /**\r\n         * editTriger creation\r\n         * @protected\r\n         */\r\n        _create: function() {\r\n            this.tmpl = mageTemplate(this.options.template);\r\n            this._initTrigger();\r\n            this._bind();\r\n        },\r\n        _getCss: function() {\r\n            return {\r\n                position: 'absolute',\r\n                cursor: 'pointer',\r\n                display: 'none',\r\n                'z-index': this.options.zIndex\r\n            };\r\n        },\r\n        _createTrigger: function(appendTo) {\r\n            var tmpl = this.tmpl({\r\n                data: this.options\r\n            });\r\n\r\n            return $(tmpl)\r\n                .css(this._getCss())\r\n                .data('role', 'edit-trigger-element')\r\n                .appendTo(appendTo);\r\n        },\r\n        _initTrigger: function() {\r\n            this.trigger = this._createTrigger($('body'));\r\n        },\r\n        /**\r\n         * Bind on mousemove event\r\n         * @protected\r\n         */\r\n        _bind: function() {\r\n            this.trigger.on('click.' + this.widgetName, $.proxy(this._onClick, this));\r\n            this.element.on('mousemove.' + this.widgetName, $.proxy(this._onMouseMove, this));\r\n        },\r\n        /**\r\n         * Show editTriger\r\n         */\r\n        show: function() {\r\n            if (this.trigger.is(':hidden')) {\r\n                this.trigger.show();\r\n            }\r\n        },\r\n        /**\r\n         * Hide editTriger\r\n         */\r\n        hide: function() {\r\n            this.currentTarget = null;\r\n            if (this.trigger && this.trigger.is(':visible')) {\r\n                this.trigger.hide();\r\n            }\r\n        },\r\n        /**\r\n         * Set editTriger position\r\n         * @protected\r\n         */\r\n        _setPosition: function(el) {\r\n            var offset = el.offset();\r\n            this.trigger.css({\r\n                top: offset.top + el.outerHeight() + this.options.offsetTop,\r\n                left: offset.left\r\n            });\r\n        },\r\n        /**\r\n         * Show/hide trigger on mouse move\r\n         * @param {Object} event object\r\n         * @protected\r\n         */\r\n        _onMouseMove: function(e) {\r\n            var target = $(e.target);\r\n            target = target.is(this.trigger) || target.is(this.options.editSelector) ?\r\n                target :\r\n                target.parents(this.options.editSelector).first();\r\n\r\n            if (target.size()) {\r\n                if (!target.is(this.trigger)) {\r\n                    this._setPosition(target);\r\n                    this.currentTarget = target;\r\n                }\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        },\r\n        /**\r\n         * Trigger event \"edit\" on element for translate\r\n         * @param {Object} event object\r\n         * @protected\r\n         */\r\n        _onClick: function(e) {\r\n            e.preventDefault();\r\n            e.stopImmediatePropagation();\r\n            $(this.currentTarget).trigger('edit.' + this.widgetName);\r\n            this.hide(true);\r\n        },\r\n        /**\r\n         * Destroy editTriger\r\n         */\r\n        destroy: function() {\r\n            this.trigger.remove();\r\n            this.element.off('.' + this.widgetName);\r\n            return $.Widget.prototype.destroy.call(this);\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Extention for widget editTrigger - hide trigger with delay\r\n     */\r\n    var editTriggerPrototype = $.mage.editTrigger.prototype;\r\n    $.widget(\"mage.editTrigger\", $.extend({}, editTriggerPrototype, {\r\n        /**\r\n         * Added clear timeout on trigger show\r\n         */\r\n        show: function() {\r\n            editTriggerPrototype.show.apply(this, arguments);\r\n            if(this.options.delay){\r\n                this._clearTimer();\r\n            }\r\n        },\r\n        /**\r\n         * Added setTimeout on trigger hide\r\n         */\r\n        hide: function(immediate) {\r\n            if(!immediate && this.options.delay){\r\n                if(!this.timer){\r\n                    this.timer = setTimeout($.proxy(function() {\r\n                        editTriggerPrototype.hide.apply(this, arguments);\r\n                        this._clearTimer();\r\n                    }, this), this.options.delay);\r\n                }\r\n            } else {\r\n                editTriggerPrototype.hide.apply(this, arguments);\r\n            }\r\n        },\r\n        /**\r\n         * Clear timer\r\n         * @protected\r\n         */\r\n        _clearTimer: function() {\r\n            if (this.timer) {\r\n                clearTimeout(this.timer);\r\n                this.timer = null;\r\n            }\r\n        }\r\n    }));\r\n\r\n    return $.mage.editTrigger;\r\n}));\r\n","mage/fieldset-controls.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true */\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n\r\n    /**\r\n     * This widget will allow a control with the fieldsetResetControl widget attached to reset a set of input fields.\r\n     * The input fields to reset are defined by the inputSelector selector. The widget will store a clone of the fields\r\n     * on create, and on trigger of fieldsetReset event it resets the defined fields. The event is triggered by the\r\n     * reset control widget.\r\n     *\r\n     * For inputs of type file, the whole dom element is replaced as changing the value is a security violation\r\n     * For inputs of type checkbox or radio, the checked attribute is added or removed as appropriate\r\n     * For all others the jquery .val method is used to update to value to the original.\r\n     */\r\n    $.widget('mage.fieldsetControls', {\r\n        original: undefined,\r\n        options: {\r\n            inputSelector: '[data-reset=\"true\"]'\r\n        },\r\n        _create: function() {\r\n            this.original = this.element.find(this.options.inputSelector).clone(true);\r\n            this._bind();\r\n        },\r\n        _bind: function() {\r\n            this._on({\r\n                'fieldsetReset': '_onReset'\r\n            });\r\n        },\r\n        _onReset: function(e) {\r\n            e.stopPropagation();\r\n            // find all the ones we have to remove\r\n            var items = this.element.find(this.options.inputSelector);\r\n            // loop over replacing each one.\r\n            items.each($.proxy(function(index, item) {\r\n                if ($(item).attr('type') == 'file') {\r\n                    // Replace the current one we found with a clone of the original saved earlier\r\n                    $(item).replaceWith($(this.original[index]).clone(true));\r\n                }\r\n                else if ($(item).attr('type') == 'checkbox' || $(item).attr('type') == 'radio') {\r\n                    // Return to original state.\r\n                    if ($(this.original[index]).attr('checked') === undefined) {\r\n                        $(item).removeAttr('checked');\r\n                    }\r\n                    else {\r\n                        $(item).attr('checked',$(this.original[index]).attr('checked'));\r\n                    }\r\n                }\r\n                else {\r\n                    // Replace the value with the original\r\n                    $(item).val($(this.original[index]).val());\r\n                }\r\n            }, this));\r\n        }\r\n    });\r\n    \r\n    $.widget('mage.fieldsetResetControl', {\r\n        _create: function() {\r\n            this._bind();\r\n        },\r\n        _bind: function() {\r\n            this._on({\r\n                click: '_onClick'\r\n            });\r\n        },\r\n        _onClick: function(e) {\r\n            e.stopPropagation();\r\n            $(this.element).trigger('fieldsetReset');\r\n        }\r\n    });\r\n\r\n    return {\r\n        fieldsetControls: $.mage.fieldsetControls,\r\n        fieldsetResetControl: $.mage.fieldsetResetControl\r\n    };\r\n});\r\n","mage/ie-class-fixer.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n(function () {\r\n\r\n    var userAgent = navigator.userAgent, // user agent identifier\r\n        html = document.documentElement, // html tag\r\n        version = 9, // minimal supported version of IE\r\n        gap = ''; // gap between classes\r\n\r\n    if (html.className) { // check if neighbour class exist in html tag\r\n        gap = ' ';\r\n    } // end if\r\n\r\n    for (version; version <= 10; version++) { // loop from minimal to 10 version of IE\r\n        if (userAgent.indexOf('MSIE ' + version) > -1) { // match IE individual name\r\n            html.className += gap + 'ie' + version;\r\n        } // end if\r\n    }\r\n\r\n    if (userAgent.match(/Trident.*rv[ :]*11\\./)) { // Special case for IE11\r\n        html.className += gap + 'ie11';\r\n    } // end if\r\n\r\n})();\r\n","mage/item-table.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint jquery:true*/\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'jquery/ui'\r\n], function ($, mageTemplate) {\r\n    'use strict';\r\n\r\n    $.widget('mage.itemTable', {\r\n        options: {\r\n            addBlock: '[data-template=\"add-block\"]',\r\n            addBlockData: {},\r\n            addEvent: 'click',\r\n            addSelector: '[data-role=\"add\"]',\r\n            itemsSelector: '[data-container=\"items\"]',\r\n            keepLastRow: true\r\n        },\r\n\r\n        /**\r\n         * This method adds a new instance of the block to the items.\r\n         * @private\r\n         */\r\n        _add: function () {\r\n            var hideShowDelete,\r\n                deletableItems,\r\n                addedBlock;\r\n\r\n            // adding a new row, so increment the count to give each row a unique index\r\n            this.rowIndex++;\r\n\r\n            // make sure the block data has the rowIndex\r\n            this.options.addBlockData.rowIndex = this.rowIndex;\r\n\r\n            // render the form\r\n            addedBlock = $(this.addBlockTmpl({\r\n                data: this.options.addBlockData\r\n            }));\r\n\r\n            // add the row to the item block\r\n            this.element.find(this.options.itemsSelector).append(addedBlock);\r\n\r\n            // initialize all mage content\r\n            addedBlock.trigger('contentUpdated');\r\n\r\n            // determine all existing items in the collection\r\n            deletableItems = this._getDeletableItems();\r\n\r\n            // for the most part, show the delete mechanism, except in the case where there is only one it should not\r\n            // be deleted\r\n            hideShowDelete = 'showDelete';\r\n\r\n            if (this.options.keepLastRow && deletableItems.length === 1) {\r\n                hideShowDelete = 'hideDelete';\r\n            }\r\n\r\n            // loop through each control and perform that action on the deletable item\r\n            $.each(deletableItems, function (index) {\r\n                $(deletableItems[index]).trigger(hideShowDelete);\r\n            });\r\n        },\r\n\r\n        /**\r\n         * This method binds elements found in this widget.\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            var handlers = {};\r\n\r\n            // since the first handler is dynamic, generate the object using array notation\r\n            handlers[this.options.addEvent + ' ' + this.options.addSelector] = '_add';\r\n            handlers.deleteItem = '_onDeleteItem';\r\n\r\n            this._on(handlers);\r\n        },\r\n\r\n        /**\r\n         * This method constructs a new widget.\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            this._bind();\r\n\r\n            this.addBlockTmpl = mageTemplate(this.options.addBlock);\r\n\r\n            // nothing in the table, so indicate that\r\n            this.rowIndex = -1;\r\n\r\n            // make sure the block data is an object\r\n            if (this.options.addBlockData == null || typeof this.options.addBlockData !== 'object') {\r\n                // reset the block data to an empty object\r\n                this.options.addBlockData = {};\r\n            }\r\n\r\n            // add the first row to the table\r\n            this._add();\r\n        },\r\n\r\n        /**\r\n         * This method returns the list of widgets associated with deletable items from the container (direct children\r\n         * only).\r\n         * @private\r\n         */\r\n        _getDeletableItems: function () {\r\n            return this.element.find(this.options.itemsSelector + '> .deletableItem');\r\n        },\r\n\r\n        /**\r\n         * This method removes the item associated with the message.\r\n         * @private\r\n         */\r\n        _onDeleteItem: function (e) {\r\n            // parent elements don't need to see this event\r\n            e.stopPropagation();\r\n\r\n            // remove the deletable item\r\n            $(e.target).remove();\r\n\r\n            if (this.options.keepLastRow) {\r\n                // determine if there is only one element remaining, in which case, disable the delete mechanism on it\r\n                var deletableItems = this._getDeletableItems();\r\n\r\n                if (deletableItems.length === 1) {\r\n                    $(deletableItems[0]).trigger('hideDelete');\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.itemTable;\r\n});\r\n","mage/layout.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true */\r\n/*global console:true*/\r\ndefine(['underscore'], function($) {\r\n    return {\r\n        build: function(config) {\r\n            var types = _.map(_.flatten(config), function(item) {\r\n                return item.type;\r\n            });\r\n            require(types, function () {\r\n                \r\n            });\r\n        }\r\n    };\r\n});\r\n","mage/loader.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true */\r\n/*global console:true*/\r\ndefine([\r\n    'jquery',\r\n    'mage/template',\r\n    'jquery/ui',\r\n    'mage/translate'\r\n], function ($, mageTemplate) {\r\n    'use strict';\r\n\r\n    $.widget('mage.loader', {\r\n        loaderStarted: 0,\r\n        options: {\r\n            icon: '',\r\n            texts: {\r\n                loaderText: $.mage.__('Please wait...'),\r\n                imgAlt: $.mage.__('Loading...')\r\n            },\r\n            template:\r\n                '<div class=\"loading-mask\" data-role=\"loader\">' +\r\n                    '<div class=\"loader\">' +\r\n                        '<img alt=\"<%- data.texts.imgAlt %>\" src=\"<%- data.icon %>\">' +\r\n                        '<p><%- data.texts.loaderText %></p>' +\r\n                    '</div>' +\r\n                '</div>'\r\n\r\n        },\r\n\r\n        /**\r\n         * Loader creation\r\n         * @protected\r\n         */\r\n        _create: function () {\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * Bind on ajax events\r\n         * @protected\r\n         */\r\n        _bind: function () {\r\n            this._on({\r\n                'processStop': 'hide',\r\n                'processStart': 'show',\r\n                'show.loader': 'show',\r\n                'hide.loader': 'hide',\r\n                'contentUpdated.loader': '_contentUpdated'\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Verify loader present after content updated\r\n         *\r\n         * This will be cleaned up by the task MAGETWO-11070\r\n         *\r\n         * @param {EventObject} e\r\n         * @private\r\n         */\r\n        _contentUpdated: function (e) {\r\n            this.show(e);\r\n        },\r\n\r\n        /**\r\n         * Show loader\r\n         */\r\n        show: function (e, ctx) {\r\n            this._render();\r\n            this.loaderStarted++;\r\n            this.spinner.show();\r\n\r\n            if (ctx) {\r\n                this.spinner\r\n                    .css({\r\n                        width: ctx.outerWidth(),\r\n                        height: ctx.outerHeight(),\r\n                        position: 'absolute'\r\n                    })\r\n                    .position({\r\n                        my: 'top left',\r\n                        at: 'top left',\r\n                        of: ctx\r\n                    });\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Hide loader\r\n         */\r\n        hide: function () {\r\n            if (this.loaderStarted > 0) {\r\n                this.loaderStarted--;\r\n\r\n                if (this.loaderStarted === 0) {\r\n                    this.spinner.hide();\r\n                }\r\n            }\r\n\r\n            return false;\r\n        },\r\n\r\n        /**\r\n         * Render loader\r\n         * @protected\r\n         */\r\n        _render: function () {\r\n            var html;\r\n\r\n            if (!this.spinnerTemplate) {\r\n                this.spinnerTemplate = mageTemplate(this.options.template);\r\n\r\n                html = $(this.spinnerTemplate({\r\n                    data: this.options\r\n                }));\r\n\r\n                html.prependTo(this.element);\r\n\r\n                this.spinner = html;\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Destroy loader\r\n         */\r\n        _destroy: function () {\r\n            this.spinner.remove();\r\n        }\r\n    });\r\n\r\n    /**\r\n     * This widget takes care of registering the needed loader listeners on the body\r\n     */\r\n    $.widget('mage.loaderAjax', {\r\n        options: {\r\n            defaultContainer: '[data-container=body]',\r\n            loadingClass: 'ajax-loading'\r\n        },\r\n\r\n        _create: function () {\r\n            this._bind();\r\n            // There should only be one instance of this widget, and it should be attached\r\n            // to the body only. Having it on the page twice will trigger multiple processStarts.\r\n            if (window.console && !this.element.is(this.options.defaultContainer) && $.mage.isDevMode(undefined)) {\r\n                console.warn('This widget is intended to be attached to the body, not below.');\r\n            }\r\n        },\r\n\r\n        _bind: function () {\r\n            $(document).on({\r\n                'ajaxSend': this._onAjaxSend.bind(this),\r\n                'ajaxComplete': this._onAjaxComplete.bind(this)\r\n            });\r\n        },\r\n\r\n        _getJqueryObj: function (loaderContext) {\r\n            var ctx;\r\n            // Check to see if context is jQuery object or not.\r\n            if (loaderContext) {\r\n                if (loaderContext.jquery) {\r\n                    ctx = loaderContext;\r\n                } else {\r\n                    ctx = $(loaderContext);\r\n                }\r\n            } else {\r\n                ctx = $('[data-container=\"body\"]');\r\n            }\r\n\r\n            return ctx;\r\n        },\r\n\r\n        _onAjaxSend: function (e, jqxhr, settings) {\r\n            $(this.options.defaultContainer)\r\n                .addClass(this.options.loadingClass)\r\n                .attr({\r\n                    'aria-busy': true\r\n                })\r\n\r\n            if (settings && settings.showLoader) {\r\n                var ctx = this._getJqueryObj(settings.loaderContext);\r\n                ctx.trigger('processStart');\r\n\r\n                // Check to make sure the loader is there on the page if not report it on the console.\r\n                // NOTE that this check should be removed before going live. It is just an aid to help\r\n                // in finding the uses of the loader that maybe broken.\r\n                if (window.console && !ctx.parents('[data-role=\"loader\"]').length) {\r\n                    console.warn('Expected to start loader but did not find one in the dom');\r\n                }\r\n            }\r\n        },\r\n\r\n        _onAjaxComplete: function (e, jqxhr, settings) {\r\n            $(this.options.defaultContainer)\r\n                .removeClass(this.options.loadingClass)\r\n                .attr('aria-busy', false);\r\n\r\n            if (settings && settings.showLoader) {\r\n                this._getJqueryObj(settings.loaderContext).trigger('processStop');\r\n            }\r\n        }\r\n\r\n    });\r\n\r\n    return {\r\n        loader: $.mage.loader,\r\n        loaderAjax: $.mage.loaderAjax\r\n    };\r\n});\r\n","mage/mage.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint eqnull:true browser:true expr:true */\r\n(function (root, factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            'jquery',\r\n            'mage/apply/main'\r\n        ], factory);\r\n    } else {\r\n        factory(root.jQuery);\r\n    }\r\n}(this, function ($, mage) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Main namespace for Magento extensions\r\n     * @type {Object}\r\n     */\r\n    $.mage = $.mage || {};\r\n\r\n    /**\r\n     * Plugin mage, initialize components on elements\r\n     * @param {String} name - Components' path.\r\n     * @param {Object} config - Components' config.\r\n     * @returns {JQuery} Chainable.\r\n     */\r\n    $.fn.mage = function (name, config) {\r\n        config = config || {};\r\n\r\n        this.each(function (index, el) {\r\n            mage.applyFor(el, config, name);\r\n        });\r\n\r\n        return this;\r\n    };\r\n\r\n    $.extend($.mage, {\r\n        /**\r\n         * Handle all components declared via data attribute\r\n         * @return {Object} $.mage\r\n         */\r\n        init: function () {\r\n            mage.apply();\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Method handling redirects and page refresh\r\n         * @param {String} url - redirect URL\r\n         * @param {(undefined|String)} type - 'assign', 'reload', 'replace'\r\n         * @param {(undefined|Number)} timeout - timeout in milliseconds before processing the redirect or reload\r\n         * @param {(undefined|Boolean)} forced - true|false used for 'reload' only\r\n         */\r\n        redirect: function (url, type, timeout, forced) {\r\n            var _redirect;\r\n\r\n            forced  = !!forced;\r\n            timeout = timeout || 0;\r\n            type    = type || 'assign';\r\n\r\n            _redirect = function () {\r\n                window.location[type](type === 'reload' ? forced : url);\r\n            };\r\n\r\n            timeout ? setTimeout(_redirect, timeout) : _redirect();\r\n        },\r\n\r\n        /**\r\n         * Checks if provided string is a valid selector.\r\n         * @param {String} selector - Selector to check.\r\n         * @returns {Boolean}\r\n         */\r\n        isValidSelector: function (selector) {\r\n            try {\r\n                document.querySelector(selector);\r\n\r\n                return true;\r\n            } catch (e) {\r\n                return false;\r\n            }\r\n        }\r\n    });\r\n\r\n    /**\r\n     * Init components inside of dynamically updated elements\r\n     */\r\n    $('body').on('contentUpdated', function () {\r\n        if (mage) {\r\n            mage.apply();\r\n        }\r\n    });\r\n\r\n    return $.mage;\r\n}));\r\n","mage/menu.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    \"jquery\",\r\n    \"matchMedia\",\r\n    \"jquery/ui\",\r\n    \"jquery/jquery.mobile.custom\",\r\n    \"mage/translate\"\r\n], function ($, mediaCheck) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Menu Widget - this widget is a wrapper for the jQuery UI Menu\r\n     */\r\n    $.widget('mage.menu', $.ui.menu, {\r\n        options: {\r\n            responsive: false,\r\n            expanded: false,\r\n            delay: 300,\r\n            mediaBreakpoint: '(max-width: 768px)'\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            var self = this;\r\n\r\n            this._super();\r\n            $(window).on('resize', function () {\r\n                self.element.find('.submenu-reverse').removeClass('submenu-reverse');\r\n            });\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _init: function () {\r\n            this._super();\r\n            this.delay = this.options.delay;\r\n\r\n            if (this.options.expanded === true) {\r\n                this.isExpanded();\r\n            }\r\n\r\n            if (this.options.responsive === true) {\r\n                mediaCheck({\r\n                    media: this.options.mediaBreakpoint,\r\n                    entry: $.proxy(function () {\r\n                        this._toggleMobileMode();\r\n                    }, this),\r\n                    exit: $.proxy(function () {\r\n                        this._toggleDesktopMode();\r\n                    }, this)\r\n                });\r\n            }\r\n\r\n            this._assignControls()._listen();\r\n            this._setActiveMenu();\r\n        },\r\n\r\n        /**\r\n         * @return {Object}\r\n         * @private\r\n         */\r\n        _assignControls: function () {\r\n            this.controls = {\r\n                toggleBtn: $('[data-action=\"toggle-nav\"]'),\r\n                swipeArea: $('.nav-sections')\r\n            };\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * @private\r\n         */\r\n        _listen: function () {\r\n            var controls = this.controls,\r\n                toggle = this.toggle;\r\n\r\n            this._on(controls.toggleBtn, {\r\n                'click': toggle\r\n            });\r\n            this._on(controls.swipeArea, {\r\n                'swipeleft': toggle\r\n            });\r\n        },\r\n\r\n        /**\r\n         * Toggle.\r\n         */\r\n        toggle: function () {\r\n            if ($('html').hasClass('nav-open')) {\r\n                $('html').removeClass('nav-open');\r\n                setTimeout(function () {\r\n                    $('html').removeClass('nav-before-open');\r\n                }, 300);\r\n            } else {\r\n                $('html').addClass('nav-before-open');\r\n                setTimeout(function () {\r\n                    $('html').addClass('nav-open');\r\n                }, 42);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Tries to figure out the active category for current page and add appropriate classes:\r\n         *  - 'active' class for active category\r\n         *  - 'has-active' class for all parents of active category\r\n         *\r\n         *  First, checks whether current URL is URL of category page,\r\n         *  otherwise tries to retrieve category URL in case of current URL is product view page URL\r\n         *  which has category tree path in it.\r\n         *\r\n         * @return void\r\n         * @private\r\n         */\r\n        _setActiveMenu: function () {\r\n            var currentUrl = window.location.href.split('?')[0];\r\n\r\n            if (!this._setActiveMenuForCategory(currentUrl)) {\r\n                this._setActiveMenuForProduct(currentUrl);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Looks for category with provided URL and adds 'active' CSS class to it if it was not set before.\r\n         * If menu item has parent categories, sets 'has-active' class to all af them.\r\n         *\r\n         * @param {String} url - possible category URL\r\n         * @returns {Boolean} - true if active category was founded by provided URL, otherwise return false\r\n         * @private\r\n         */\r\n        _setActiveMenuForCategory: function (url) {\r\n            var activeCategoryLink = this.element.find('a[href=\"' + url + '\"]'),\r\n                classes,\r\n                classNav;\r\n\r\n            if (!activeCategoryLink || !activeCategoryLink.hasClass('ui-corner-all')) {\r\n\r\n                //category was not found by provided URL\r\n                return false;\r\n            } else if (!activeCategoryLink.parent().hasClass('active')) {\r\n                activeCategoryLink.parent().addClass('active');\r\n                classes = activeCategoryLink.parent().attr('class');\r\n                classNav = classes.match(/(nav\\-)[0-9]+(\\-[0-9]+)+/gi);\r\n\r\n                if (classNav) {\r\n                    this._setActiveParent(classNav[0]);\r\n                }\r\n            }\r\n\r\n            return true;\r\n        },\r\n\r\n        /**\r\n         * Sets 'has-active' CSS class to all parent categories which have part of provided class in childClassName\r\n         *\r\n         * @example\r\n         *  childClassName - 'nav-1-2-3'\r\n         *  CSS class 'has-active' will be added to categories have 'nav-1-2' and 'nav-1' classes\r\n         *\r\n         * @param {String} childClassName - Class name of active category <li> element\r\n         * @return void\r\n         * @private\r\n         */\r\n        _setActiveParent: function (childClassName) {\r\n            var parentElement,\r\n                parentClass = childClassName.substr(0, childClassName.lastIndexOf('-'));\r\n\r\n            if (parentClass.lastIndexOf('-') !== -1) {\r\n                parentElement = this.element.find('.' + parentClass);\r\n\r\n                if (parentElement) {\r\n                    parentElement.addClass('has-active');\r\n                }\r\n                this._setActiveParent(parentClass);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Tries to retrieve category URL from current URL and mark this category as active\r\n         * @see _setActiveMenuForCategory(url)\r\n         *\r\n         * @example\r\n         *  currentUrl - http://magento.com/category1/category12/product.html,\r\n         *  category URLs has extensions .phtml - http://magento.com/category1.phtml\r\n         *  method sets active category which has URL http://magento.com/category1/category12.phtml\r\n         *\r\n         * @param {String} currentUrl - current page URL without parameters\r\n         * @return void\r\n         * @private\r\n         */\r\n        _setActiveMenuForProduct: function (currentUrl) {\r\n            var categoryUrlExtension,\r\n                lastUrlSection,\r\n                possibleCategoryUrl,\r\n                //retrieve first category URL to know what extension is used for category URLs\r\n                firstCategoryUrl = this.element.find('> li a').attr('href');\r\n\r\n            if (firstCategoryUrl) {\r\n                lastUrlSection = firstCategoryUrl.substr(firstCategoryUrl.lastIndexOf('/'));\r\n                categoryUrlExtension = lastUrlSection.lastIndexOf('.') !== -1 ?\r\n                    lastUrlSection.substr(lastUrlSection.lastIndexOf('.')) : '';\r\n\r\n                possibleCategoryUrl = currentUrl.substr(0, currentUrl.lastIndexOf('/')) + categoryUrlExtension;\r\n                this._setActiveMenuForCategory(possibleCategoryUrl);\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Add class for expanded option.\r\n         */\r\n        isExpanded: function () {\r\n            var subMenus = this.element.find(this.options.menus),\r\n                expandedMenus = subMenus.find('ul');\r\n\r\n            expandedMenus.addClass('expanded');\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _activate: function (event) {\r\n            window.location.href = this.active.find('> a').attr('href');\r\n            this.collapseAll(event);\r\n        },\r\n\r\n        /**\r\n         * @param {jQuery.Event} event\r\n         * @private\r\n         */\r\n        _keydown: function (event) {\r\n            var match, prev, character, skip, regex,\r\n                preventDefault = true;\r\n\r\n            /* eslint-disable max-depth */\r\n            /**\r\n             * @param {String} value\r\n             */\r\n            function escape(value) {\r\n                return value.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#\\s]/g, \"\\\\$&\");\r\n            }\r\n\r\n            if (this.active.closest('ul').attr('aria-expanded') != 'true') {\r\n\r\n                switch (event.keyCode) {\r\n                    case $.ui.keyCode.PAGE_UP:\r\n                        this.previousPage(event);\r\n                        break;\r\n                    case $.ui.keyCode.PAGE_DOWN:\r\n                        this.nextPage(event);\r\n                        break;\r\n                    case $.ui.keyCode.HOME:\r\n                        this._move(\"first\", \"first\", event);\r\n                        break;\r\n                    case $.ui.keyCode.END:\r\n                        this._move(\"last\", \"last\", event);\r\n                        break;\r\n                    case $.ui.keyCode.UP:\r\n                        this.previous(event);\r\n                        break;\r\n                    case $.ui.keyCode.DOWN:\r\n                        if (this.active && !this.active.is(\".ui-state-disabled\")) {\r\n                            this.expand(event);\r\n                        }\r\n                        break;\r\n                    case $.ui.keyCode.LEFT:\r\n                        this.previous(event);\r\n                        break;\r\n                    case $.ui.keyCode.RIGHT:\r\n                        this.next(event);\r\n                        break;\r\n                    case $.ui.keyCode.ENTER:\r\n                    case $.ui.keyCode.SPACE:\r\n                        this._activate(event);\r\n                        break;\r\n                    case $.ui.keyCode.ESCAPE:\r\n                        this.collapse(event);\r\n                        break;\r\n                    default:\r\n                        preventDefault = false;\r\n                        prev = this.previousFilter || \"\";\r\n                        character = String.fromCharCode(event.keyCode);\r\n                        skip = false;\r\n\r\n                        clearTimeout(this.filterTimer);\r\n\r\n                        if (character === prev) {\r\n                            skip = true;\r\n                        } else {\r\n                            character = prev + character;\r\n                        }\r\n\r\n                        regex = new RegExp(\"^\" + escape(character), \"i\");\r\n                        match = this.activeMenu.children(\".ui-menu-item\").filter(function () {\r\n                            return regex.test($(this).children(\"a\").text());\r\n                        });\r\n                        match = skip && match.index(this.active.next()) !== -1 ?\r\n                            this.active.nextAll(\".ui-menu-item\") :\r\n                            match;\r\n\r\n                        // If no matches on the current filter, reset to the last character pressed\r\n                        // to move down the menu to the first item that starts with that character\r\n                        if (!match.length) {\r\n                            character = String.fromCharCode(event.keyCode);\r\n                            regex = new RegExp(\"^\" + escape(character), \"i\");\r\n                            match = this.activeMenu.children(\".ui-menu-item\").filter(function () {\r\n                                return regex.test($(this).children(\"a\").text());\r\n                            });\r\n                        }\r\n\r\n                        if (match.length) {\r\n                            this.focus(event, match);\r\n                            if (match.length > 1) {\r\n                                this.previousFilter = character;\r\n                                this.filterTimer = this._delay(function () {\r\n                                    delete this.previousFilter;\r\n                                }, 1000);\r\n                            } else {\r\n                                delete this.previousFilter;\r\n                            }\r\n                        } else {\r\n                            delete this.previousFilter;\r\n                        }\r\n                }\r\n            } else {\r\n                switch (event.keyCode) {\r\n                    case $.ui.keyCode.DOWN:\r\n                        this.next(event);\r\n                        break;\r\n                    case $.ui.keyCode.UP:\r\n                        this.previous(event);\r\n                        break;\r\n                    case $.ui.keyCode.RIGHT:\r\n                        if (this.active && !this.active.is(\".ui-state-disabled\")) {\r\n                            this.expand(event);\r\n                        }\r\n                        break;\r\n                    case $.ui.keyCode.ENTER:\r\n                    case $.ui.keyCode.SPACE:\r\n                        this._activate(event);\r\n                        break;\r\n                    case $.ui.keyCode.LEFT:\r\n                    case $.ui.keyCode.ESCAPE:\r\n                        this.collapse(event);\r\n                        break;\r\n                    default:\r\n                        preventDefault = false;\r\n                        prev = this.previousFilter || \"\";\r\n                        character = String.fromCharCode(event.keyCode);\r\n                        skip = false;\r\n\r\n                        clearTimeout(this.filterTimer);\r\n\r\n                        if (character === prev) {\r\n                            skip = true;\r\n                        } else {\r\n                            character = prev + character;\r\n                        }\r\n\r\n                        regex = new RegExp(\"^\" + escape(character), \"i\");\r\n                        match = this.activeMenu.children(\".ui-menu-item\").filter(function () {\r\n                            return regex.test($(this).children(\"a\").text());\r\n                        });\r\n                        match = skip && match.index(this.active.next()) !== -1 ?\r\n                            this.active.nextAll(\".ui-menu-item\") :\r\n                            match;\r\n\r\n                        // If no matches on the current filter, reset to the last character pressed\r\n                        // to move down the menu to the first item that starts with that character\r\n                        if (!match.length) {\r\n                            character = String.fromCharCode(event.keyCode);\r\n                            regex = new RegExp(\"^\" + escape(character), \"i\");\r\n                            match = this.activeMenu.children(\".ui-menu-item\").filter(function () {\r\n                                return regex.test($(this).children(\"a\").text());\r\n                            });\r\n                        }\r\n\r\n                        if (match.length) {\r\n                            this.focus(event, match);\r\n                            if (match.length > 1) {\r\n                                this.previousFilter = character;\r\n                                this.filterTimer = this._delay(function () {\r\n                                    delete this.previousFilter;\r\n                                }, 1000);\r\n                            } else {\r\n                                delete this.previousFilter;\r\n                            }\r\n                        } else {\r\n                            delete this.previousFilter;\r\n                        }\r\n                }\r\n            }\r\n\r\n            if (preventDefault) {\r\n                event.preventDefault();\r\n            }\r\n        },\r\n\r\n        _toggleMobileMode: function () {\r\n            $(this.element).off('mouseenter mouseleave');\r\n            this._on({\r\n                \"click .ui-menu-item:has(a)\": function (event) {\r\n                    event.preventDefault();\r\n\r\n                    var target = $(event.target).closest(\".ui-menu-item\");\r\n\r\n                    if (!target.hasClass('level-top') || !target.has(\".ui-menu\").length) {\r\n                        window.location.href = target.find('> a').attr('href');\r\n                    }\r\n                }\r\n            });\r\n\r\n            var subMenus = this.element.find('.level-top');\r\n            $.each(subMenus, $.proxy(function (index, item) {\r\n                var category = $(item).find('> a span').not('.ui-menu-icon').text(),\r\n                    categoryUrl = $(item).find('> a').attr('href'),\r\n                    menu = $(item).find('> .ui-menu');\r\n\r\n                this.categoryLink = $('<a>')\r\n                    .attr('href', categoryUrl)\r\n                    .text($.mage.__('All ') + category);\r\n\r\n                this.categoryParent = $('<li>')\r\n                    .addClass('ui-menu-item all-category')\r\n                    .html(this.categoryLink);\r\n\r\n                if (menu.find('.all-category').length === 0) {\r\n                    menu.prepend(this.categoryParent);\r\n                }\r\n\r\n            }, this));\r\n        },\r\n\r\n        _toggleDesktopMode: function () {\r\n            this._on({\r\n                // Prevent focus from sticking to links inside menu after clicking\r\n                // them (focus should always stay on UL during navigation).\r\n                \"mousedown .ui-menu-item > a\": function (event) {\r\n                    event.preventDefault();\r\n                },\r\n                \"click .ui-state-disabled > a\": function (event) {\r\n                    event.preventDefault();\r\n                },\r\n                \"click .ui-menu-item:has(a)\": function (event) {\r\n                    var target = $(event.target).closest(\".ui-menu-item\");\r\n                    if (!this.mouseHandled && target.not(\".ui-state-disabled\").length) {\r\n                        this.select(event);\r\n\r\n                        // Only set the mouseHandled flag if the event will bubble, see #9469.\r\n                        if (!event.isPropagationStopped()) {\r\n                            this.mouseHandled = true;\r\n                        }\r\n\r\n                        // Open submenu on click\r\n                        if (target.has(\".ui-menu\").length) {\r\n                            this.expand(event);\r\n                        } else if (!this.element.is(\":focus\") && $(this.document[0].activeElement).closest(\".ui-menu\").length) {\r\n\r\n                            // Redirect focus to the menu\r\n                            this.element.trigger(\"focus\", [true]);\r\n\r\n                            // If the active item is on the top level, let it stay active.\r\n                            // Otherwise, blur the active item since it is no longer visible.\r\n                            if (this.active && this.active.parents(\".ui-menu\").length === 1) {\r\n                                clearTimeout(this.timer);\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                \"mouseenter .ui-menu-item\": function (event) {\r\n                    var target = $(event.currentTarget),\r\n                        ulElement,\r\n                        ulElementWidth,\r\n                        width,\r\n                        targetPageX,\r\n                        rightBound;\r\n\r\n                    if (target.has('ul')) {\r\n                        ulElement = target.find('ul');\r\n                        ulElementWidth = target.find('ul').outerWidth(true);\r\n                        width = target.outerWidth() * 2;\r\n                        targetPageX = target.offset().left;\r\n                        rightBound = $(window).width();\r\n\r\n                        if ((ulElementWidth + width + targetPageX) > rightBound) {\r\n                            ulElement.addClass('submenu-reverse');\r\n                        }\r\n                        if ((targetPageX - ulElementWidth) < 0) {\r\n                            ulElement.removeClass('submenu-reverse');\r\n                        }\r\n                    }\r\n\r\n                    // Remove ui-state-active class from siblings of the newly focused menu item\r\n                    // to avoid a jump caused by adjacent elements both having a class with a border\r\n                    target.siblings().children(\".ui-state-active\").removeClass(\"ui-state-active\");\r\n                    this.focus(event, target);\r\n                },\r\n                \"mouseleave\": function (event) {\r\n                    this.collapseAll(event, true);\r\n                },\r\n                \"mouseleave .ui-menu\": \"collapseAll\"\r\n            });\r\n\r\n            var categoryParent = this.element.find('.all-category'),\r\n                html = $('html');\r\n\r\n            categoryParent.remove();\r\n\r\n            if (html.hasClass('nav-open')) {\r\n                html.removeClass('nav-open');\r\n                setTimeout(function () {\r\n                    html.removeClass('nav-before-open');\r\n                }, 300);\r\n            }\r\n        },\r\n        _delay: function(handler, delay) {\r\n            var instance = this,\r\n                handlerProxy = function () {\r\n                return (typeof handler === \"string\" ? instance[handler] : handler)\r\n                    .apply(instance, arguments);\r\n            };\r\n            \r\n            return setTimeout(handlerProxy, delay || 0);\r\n        }\r\n    });\r\n\r\n\r\n    $.widget('mage.navigation', $.mage.menu, {\r\n\r\n        options: {\r\n            responsiveAction: 'wrap', //option for responsive handling\r\n            maxItems: null, //option to set max number of menu items\r\n            container: '#menu', //container to check against navigation length\r\n            moreText: $.mage.__('more'),\r\n            breakpoint: 768\r\n        },\r\n\r\n        _init: function () {\r\n            this._super();\r\n\r\n            var that = this,\r\n                moreMenu = $('[responsive=more]'),\r\n                responsive = this.options.responsiveAction;\r\n\r\n            this.element\r\n                .addClass('ui-menu-responsive')\r\n                .attr('responsive', 'main');\r\n\r\n            this.setupMoreMenu();\r\n            this.setMaxItems();\r\n\r\n            //check responsive option\r\n            if (responsive == \"onResize\") {\r\n                $(window).on('resize', function () {\r\n                    if ($(window).width() > that.options.breakpoint) {\r\n                        that._responsive();\r\n                        $('[responsive=more]').show();\r\n                    } else {\r\n                        that.element.children().show();\r\n                        $('[responsive=more]').hide();\r\n                    }\r\n                });\r\n            } else if (responsive == \"onReload\") {\r\n                this._responsive();\r\n            }\r\n        },\r\n\r\n        setupMoreMenu: function () {\r\n            var moreListItems = this.element.children().clone(),\r\n                moreLink = $('<a>' + this.options.moreText + '</a>');\r\n\r\n            moreListItems.hide();\r\n\r\n            moreLink.attr('href', '#');\r\n\r\n            this.moreItemsList = $('<ul>')\r\n                .append(moreListItems);\r\n\r\n            this.moreListContainer = $('<li>')\r\n                .append(moreLink)\r\n                .append(this.moreItemsList);\r\n\r\n            this.responsiveMenu = $('<ul>')\r\n                .addClass('ui-menu-more')\r\n                .attr('responsive', 'more')\r\n                .append(this.moreListContainer)\r\n                .menu({\r\n                    position: {\r\n                        my: \"right top\",\r\n                        at: \"right bottom\"\r\n                    }\r\n                })\r\n                .insertAfter(this.element);\r\n        },\r\n\r\n        _responsive: function () {\r\n            var container = $(this.options.container),\r\n                containerSize = container.width(),\r\n                width = 0,\r\n                items = this.element.children('li'),\r\n                more = $('.ui-menu-more > li > ul > li a');\r\n\r\n\r\n            items = items.map(function () {\r\n                var item = {};\r\n\r\n                item.item = $(this);\r\n                item.itemSize = $(this).outerWidth();\r\n                return item;\r\n            });\r\n\r\n            $.each(items, function (index, item) {\r\n                var itemText = items[index].item\r\n                    .find('a:first')\r\n                    .text();\r\n\r\n                width += parseInt(items[index].itemSize, null);\r\n\r\n                if (width < containerSize) {\r\n                    items[index].item.show();\r\n\r\n                    more.each(function () {\r\n                        var text = $(this).text();\r\n                        if (text === itemText) {\r\n                            $(this).parent().hide();\r\n                        }\r\n                    });\r\n                } else if (width > containerSize) {\r\n                    items[index].item.hide();\r\n\r\n                    more.each(function () {\r\n                        var text = $(this).text();\r\n                        if (text === itemText) {\r\n                            $(this).parent().show();\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        },\r\n\r\n        setMaxItems: function () {\r\n            var items = this.element.children('li'),\r\n                itemsCount = items.length,\r\n                maxItems = this.options.maxItems,\r\n                overflow = itemsCount - maxItems,\r\n                overflowItems = items.slice(overflow);\r\n\r\n            overflowItems.hide();\r\n\r\n            overflowItems.each(function () {\r\n                var itemText = $(this).find('a:first').text();\r\n\r\n                $(this).hide();\r\n\r\n                $('.ui-menu-more > li > ul > li a').each(function () {\r\n                    var text = $(this).text();\r\n                    if (text === itemText) {\r\n                        $(this).parent().show();\r\n                    }\r\n                });\r\n            });\r\n        }\r\n    });\r\n\r\n    return {\r\n        menu: $.mage.menu,\r\n        navigation: $.mage.navigation\r\n    };\r\n});\r\n","mage/popup-window.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n    \r\n    $.widget('mage.popupWindow', {\r\n        options: {\r\n            centerBrowser: 0, // center window over browser window? {1 (YES) or 0 (NO)}. overrides top and left\r\n            centerScreen: 0, // center window over entire screen? {1 (YES) or 0 (NO)}. overrides top and left\r\n            height: 500, // sets the height in pixels of the window.\r\n            left: 0, // left position when the window appears.\r\n            location: 0, // determines whether the address bar is displayed {1 (YES) or 0 (NO)}.\r\n            menubar: 0, // determines whether the menu bar is displayed {1 (YES) or 0 (NO)}.\r\n            resizable: 0, // whether the window can be resized {1 (YES) or 0 (NO)}. Can also be overloaded using resizable.\r\n            scrollbars: 0, // determines whether scrollbars appear on the window {1 (YES) or 0 (NO)}.\r\n            status: 0, // whether a status line appears at the bottom of the window {1 (YES) or 0 (NO)}.\r\n            width: 500, // sets the width in pixels of the window.\r\n            windowName: null, // name of window set from the name attribute of the element that invokes the click\r\n            windowURL: null, // url used for the popup\r\n            top: 0, // top position when the window appears.\r\n            toolbar: 0 // determines whether a toolbar (includes the forward and back buttons) is displayed {1 (YES) or 0 (NO)}.\r\n        },\r\n\r\n        _create: function() {\r\n            this.element.on('click', $.proxy(this._openPopupWindow, this));\r\n        },\r\n\r\n        _openPopupWindow: function(event) {\r\n            var element = $(event.target),\r\n                settings = this.options,\r\n                windowFeatures =\r\n                    'height=' + settings.height +\r\n                        ',width=' + settings.width +\r\n                        ',toolbar=' + settings.toolbar +\r\n                        ',scrollbars=' + settings.scrollbars +\r\n                        ',status=' + settings.status +\r\n                        ',resizable=' + settings.resizable +\r\n                        ',location=' + settings.location +\r\n                        ',menuBar=' + settings.menubar,\r\n                centeredX,\r\n                centeredY;\r\n\r\n            settings.windowName = settings.windowName || element.attr('name');\r\n            settings.windowURL = settings.windowURL || element.attr('href');\r\n\r\n            if (settings.centerBrowser) {\r\n                if ($.browser.msie) { // Hacked together for IE browsers\r\n                    centeredY = (window.screenTop - 120) + ((((document.documentElement.clientHeight + 120) / 2) - (settings.height / 2)));\r\n                    centeredX = window.screenLeft + ((((document.body.offsetWidth + 20) / 2) - (settings.width / 2)));\r\n                } else {\r\n                    centeredY = window.screenY + (((window.outerHeight / 2) - (settings.height / 2)));\r\n                    centeredX = window.screenX + (((window.outerWidth / 2) - (settings.width / 2)));\r\n                }\r\n                windowFeatures += ',left=' + centeredX +',top=' + centeredY;\r\n            } else if (settings.centerScreen) {\r\n                centeredY = (screen.height - settings.height) / 2;\r\n                centeredX = (screen.width - settings.width) / 2;\r\n                windowFeatures += ',left=' + centeredX +',top=' + centeredY;\r\n            } else {\r\n                windowFeatures += ',left=' + settings.left +',top=' + settings.top;\r\n            }\r\n\r\n            window.open(settings.windowURL, settings.windowName, windowFeatures).focus();\r\n            event.preventDefault();\r\n        }\r\n    });\r\n    \r\n    return $.mage.popupWindow;\r\n});\r\n","mage/redirect-url.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true */\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n    \r\n    $.widget('mage.redirectUrl', {\r\n        options: {\r\n            event: 'click',\r\n            url: undefined\r\n        },\r\n\r\n        /**\r\n         * This method binds elements found in this widget.\r\n         * @private\r\n         */\r\n        _bind: function() {\r\n            var handlers = {};\r\n            handlers[this.options.event] = '_onEvent';\r\n            this._on(handlers);\r\n        },\r\n\r\n        /**\r\n         * This method constructs a new widget.\r\n         * @private\r\n         */\r\n        _create: function() {\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * This method set the url for the redirect.\r\n         * @private\r\n         */\r\n        _onEvent: function(){\r\n            if (this.options.url) {\r\n                location.href = this.options.url;\r\n            } else {\r\n                location.href = this.element.val();\r\n            }\r\n        }\r\n    });\r\n\r\n    return $.mage.redirectUrl;\r\n});\r\n","mage/smart-keyboard-handler.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine([\r\n    'jquery'\r\n],function($){\r\n    'use strict';\r\n\r\n    function KeyboardHandler() {\r\n        var body = $('body'),\r\n            focusState = false,\r\n            tabFocusClass = '_keyfocus',\r\n            productsGrid = '[data-container=\"product-grid\"]',\r\n            catalogProductsGrid = $(productsGrid),\r\n            CODE_TAB = 9;\r\n\r\n        return {\r\n            apply: smartKeyboardFocus\r\n        };\r\n\r\n        /**\r\n         * Tab key onKeypress handler. Apply main logic:\r\n         *  - call differ actions onTabKeyPress and onClick\r\n         */\r\n        function smartKeyboardFocus() {\r\n            $(document).on('keydown keypress', function(event) {\r\n                if (event.which === CODE_TAB && !focusState) {\r\n                    body\r\n                        .on('focusin.keyboardHandler', onFocusInHandler)\r\n                        .on('click', onClickHandler);\r\n                }\r\n            });\r\n\r\n            // ARIA support for catalog grid products\r\n            if (catalogProductsGrid.length) {\r\n                body.on('focusin.gridProducts', productsGrid, function() {\r\n                    if (body.hasClass(tabFocusClass)) {\r\n                        $(this).addClass('active');\r\n                    }\r\n                });\r\n                body.on('focusout.gridProducts', productsGrid, function() {\r\n                    $(this).removeClass('active');\r\n                });\r\n            }\r\n        }\r\n\r\n        /**\r\n         * Handle logic, when onTabKeyPress fired at first.\r\n         * Then it changes state.\r\n         */\r\n        function onFocusInHandler () {\r\n            focusState = true;\r\n            $('body').addClass(tabFocusClass)\r\n                .off('focusin.keyboardHandler', onFocusInHandler);\r\n        }\r\n\r\n        /**\r\n         * Handle logic to remove state after onTabKeyPress to normal.\r\n         * @param {Event} event\r\n         */\r\n        function onClickHandler(event) {\r\n            focusState  = false;\r\n            $('body').removeClass(tabFocusClass)\r\n                .off('click', onClickHandler);\r\n        }\r\n    }\r\n\r\n    return new KeyboardHandler;\r\n});\r\n","mage/sticky.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\ndefine([\r\n    \"jquery\",\r\n    \"jquery/ui\"\r\n], function($){\r\n    \"use strict\";\r\n    \r\n    $.widget('mage.sticky', {\r\n        options: {\r\n            container: ''\r\n        },\r\n\r\n        /**\r\n         * Bind handlers to scroll event\r\n         * @private\r\n         */\r\n        _create: function() {\r\n            $(window).on({\r\n                'scroll': $.proxy(this._stick, this),\r\n                'resize': $.proxy(this.reset, this)\r\n            });\r\n\r\n            this.element.on('dimensionsChanged', $.proxy(this.reset, this));\r\n\r\n            this.reset();\r\n        },\r\n\r\n        /**\r\n         * float Block on windowScroll\r\n         * @private\r\n         */\r\n        _stick: function() {\r\n            var offset,\r\n                isStatic;\r\n\r\n            isStatic = this.element.css('position') === 'static';\r\n\r\n            if( !isStatic && this.element.is(':visible') ) {\r\n                offset = $(document).scrollTop() - this.parentOffset;\r\n\r\n                offset = Math.max( 0, Math.min( offset, this.maxOffset) );\r\n                \r\n                this.element.css( 'top', offset );\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Defines maximum offset value of the element. \r\n         * @private\r\n         */\r\n        _calculateDimens: function(){\r\n            var $parent         = this.element.parent(),\r\n                topMargin       = parseInt( this.element.css(\"margin-top\"), 10 ),\r\n                parentHeight    = $parent.height() - topMargin,\r\n                height          = this.element.innerHeight(),\r\n                maxScroll       = document.body.offsetHeight - window.innerHeight;\r\n\r\n            if(this.options.container.length > 0) {\r\n               maxScroll = $(this.options.container).height();\r\n            }\r\n\r\n            this.parentOffset   = $parent.offset().top + topMargin;\r\n            this.maxOffset      = maxScroll - this.parentOffset;\r\n\r\n            if( this.maxOffset + height >= parentHeight ){\r\n                this.maxOffset = parentHeight - height;\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n        /**\r\n         * Facade method that palces sticky element where it should be.\r\n         */\r\n        reset: function(){\r\n            this._calculateDimens()\r\n                ._stick();\r\n        }\r\n    });\r\n    \r\n    return $.mage.sticky;\r\n});\r\n","mage/storage.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\ndefine(['jquery', 'mage/url'], function ($, urlBuilder) {\r\n    'use strict';\r\n\r\n    return {\r\n        /**\r\n         * Perform asynchronous GET request to server.\r\n         * @param {String} url\r\n         * @param {Boolean} global\r\n         * @param {String} contentType\r\n         * @returns {Deferred}\r\n         */\r\n        get: function (url, global, contentType) {\r\n            global = global === undefined ? true : global;\r\n            contentType = contentType || 'application/json';\r\n\r\n            return $.ajax({\r\n                url: urlBuilder.build(url),\r\n                type: 'GET',\r\n                global: global,\r\n                contentType: contentType\r\n            });\r\n        },\r\n        /**\r\n         * Perform asynchronous POST request to server.\r\n         * @param {String} url\r\n         * @param {String} data\r\n         * @param {Boolean} global\r\n         * @param {String} contentType\r\n         * @returns {Deferred}\r\n         */\r\n        post: function (url, data, global, contentType) {\r\n            global = global === undefined ? true : global;\r\n            contentType = contentType || 'application/json';\r\n\r\n            return $.ajax({\r\n                url: urlBuilder.build(url),\r\n                type: 'POST',\r\n                data: data,\r\n                global: global,\r\n                contentType: contentType\r\n            });\r\n        },\r\n        /**\r\n         * Perform asynchronous PUT request to server.\r\n         * @param {String} url\r\n         * @param {String} data\r\n         * @param {Boolean} global\r\n         * @param {String} contentType\r\n         * @returns {Deferred}\r\n         */\r\n        put: function(url, data, global, contentType) {\r\n            global = global === undefined ? true : global;\r\n            contentType = contentType || 'application/json';\r\n\r\n            return $.ajax({\r\n                url: urlBuilder.build(url),\r\n                type: 'PUT',\r\n                data: data,\r\n                global: global,\r\n                contentType: contentType\r\n            });\r\n        },\r\n        /**\r\n         * Perform asynchronous DELETE request to server.\r\n         * @param {String} url\r\n         * @param {Boolean} global\r\n         * @param {String} contentType\r\n         * @returns {Deferred}\r\n         */\r\n        delete: function(url, global, contentType) {\r\n            global = global === undefined ? true : global;\r\n            contentType = contentType || 'application/json';\r\n\r\n            return $.ajax({\r\n                url: urlBuilder.build(url),\r\n                type: 'DELETE',\r\n                global: global,\r\n                contentType: contentType\r\n            });\r\n        }\r\n    };\r\n});\r\n","mage/template.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n(function (root, factory) {\r\n    'use strict';\r\n\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            'underscore'\r\n        ], factory);\r\n    } else {\r\n        root.mageTemplate = factory(root._);\r\n    }\r\n}(this, function (_) {\r\n    'use strict';\r\n\r\n    /**\r\n     * Checks if provided string is a valid DOM selector.\r\n     *\r\n     * @param {String} selector - Selector to be checked.\r\n     * @returns {Boolean}\r\n     */\r\n    function isSelector(selector) {\r\n        try {\r\n            document.querySelector(selector);\r\n\r\n            return true;\r\n        } catch (e) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Unescapes characters used in underscore templates.\r\n     *\r\n     * @param {String} str - String to be processed.\r\n     * @returns {String}\r\n     */\r\n    function unescape(str) {\r\n        return str.replace(/&lt;%|%3C%/g, '<%').replace(/%&gt;|%%3E/g, '%>');\r\n    }\r\n\r\n    /**\r\n     * If 'tmpl' is a valid selector, returns target node's innerHTML if found.\r\n     * Else, returns empty string and emits console warning.\r\n     * If 'tmpl' is not a selector, returns 'tmpl' as is.\r\n     *\r\n     * @param {String} tmpl\r\n     * @returns {String}\r\n     */\r\n    function getTmplString(tmpl) {\r\n        if (isSelector(tmpl)) {\r\n            tmpl = document.querySelector(tmpl);\r\n\r\n            if (tmpl) {\r\n                tmpl = tmpl.innerHTML.trim();\r\n            } else {\r\n                console.warn('No template was found by selector: ' + tmpl);\r\n\r\n                tmpl = '';\r\n            }\r\n        }\r\n\r\n        return unescape(tmpl);\r\n    }\r\n\r\n    /**\r\n     * Compiles or renders template provided either\r\n     * by selector or by the template string.\r\n     *\r\n     * @param {String} tmpl - Template string or selector.\r\n     * @param {(Object|Array|Function)} [data] - Data object with which to render template.\r\n     * @returns {String|Function}\r\n     */\r\n    return function (tmpl, data) {\r\n        var render;\r\n\r\n        tmpl   = getTmplString(tmpl);\r\n        render = _.template(tmpl);\r\n\r\n        return !_.isUndefined(data) ?\r\n            render(data) :\r\n            render;\r\n    };\r\n}));\r\n","mage/translate.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint browser:true jquery:true*/\r\n(function (factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        define([\r\n            \"jquery\",\r\n            \"mage/mage\"\r\n        ], factory);\r\n    } else {\r\n        factory(jQuery);\r\n    }\r\n}(function ($) {\r\n    $.extend(true, $, {\r\n        mage: {\r\n            translate: (function() {\r\n                /**\r\n                 * Key-value translations storage\r\n                 * @type {Object}\r\n                 * @private\r\n                 */\r\n                var _data = {};\r\n\r\n                /**\r\n                 * Add new translation (two string parameters) or several translations (object)\r\n                 * @param {(Object.<string>|string)}\r\n                 * @param {string}\r\n                 */\r\n                this.add = function() {\r\n                    if (arguments.length > 1) {\r\n                        _data[arguments[0]] = arguments[1];\r\n                    } else if (typeof arguments[0] === 'object') {\r\n                        $.extend(_data, arguments[0]);\r\n                    }\r\n                };\r\n\r\n                /**\r\n                 * Make a translation with parsing (to handle case when _data represents tuple)\r\n                 * @param {string} text\r\n                 * @return {string}\r\n                 */\r\n                this.translate = function (text) {\r\n                    return _data[text] ? _data[text] : text;\r\n                };\r\n\r\n                return this;\r\n            }())\r\n        }\r\n    });\r\n    /**\r\n     * Sort alias for jQuery.mage.translate.translate method\r\n     * @type {function(string): string}\r\n     */\r\n    $.mage.__ = $.proxy($.mage.translate.translate, $.mage.translate);\r\n\r\n    return $.mage.__;\r\n}));\r\n","mage/trim-input.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n\r\ndefine([\r\n    'jquery'\r\n], function ($) {\r\n    'use strict';\r\n\r\n    $.widget('mage.trimInput', {\r\n        options: {\r\n            cache: {}\r\n        },\r\n\r\n        /**\r\n         * Widget initialization\r\n         * @private\r\n         */\r\n        _create: function () {\r\n            this.options.cache.input = $(this.element);\r\n            this._bind();\r\n        },\r\n\r\n        /**\r\n         * Event binding, will monitor change, keyup and paste events.\r\n         * @private\r\n         */\r\n        _bind: function () {\r\n            if (this.options.cache.input.length) {\r\n                this._on(this.options.cache.input, {\r\n                    'change': this._trimInput,\r\n                    'keyup': this._trimInput,\r\n                    'paste': this._trimInput\r\n                });\r\n            }\r\n        },\r\n\r\n        /**\r\n         * Trim value\r\n         * @private\r\n         */\r\n        _trimInput: function () {\r\n            var input = this._getInputValue().trim();\r\n\r\n            this.options.cache.input.val(input);\r\n        },\r\n\r\n        /**\r\n         * Get input value\r\n         * @returns {*}\r\n         * @private\r\n         */\r\n        _getInputValue: function () {\r\n            return this.options.cache.input.val();\r\n        }\r\n    });\r\n\r\n    return $.mage.trimInput;\r\n});\r\n","mage/url.js":"/**\r\n * Copyright \u00c2\u00a9 Magento, Inc. All rights reserved.\r\n * See COPYING.txt for license details.\r\n */\r\n/*jshint regexdash:true eqnull:true browser:true jquery:true*/\r\ndefine([], function () {\r\n    var baseUrl = '';\r\n    return {\r\n        setBaseUrl: function (url) {\r\n            baseUrl = url;\r\n        },\r\n        build: function(path) {\r\n            if (path.indexOf(baseUrl) != -1) {\r\n                return path;\r\n            }\r\n            return baseUrl + path;\r\n        }\r\n    }\r\n});\r\n"}
    }
});
